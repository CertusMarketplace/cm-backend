This file is a merged representation of the entire codebase, combined into a single document by Repomix.

<file_summary>
This section contains a summary of this file.

<purpose>
This file contains a packed representation of the entire repository's contents.
It is designed to be easily consumable by AI systems for analysis, code review,
or other automated processes.
</purpose>

<file_format>
The content is organized as follows:
1. This summary section
2. Repository information
3. Directory structure
4. Repository files (if enabled)
5. Multiple file entries, each consisting of:
  - File path as an attribute
  - Full contents of the file
</file_format>

<usage_guidelines>
- This file should be treated as read-only. Any changes should be made to the
  original repository files, not this packed version.
- When processing this file, use the file path to distinguish
  between different files in the repository.
- Be aware that this file may contain sensitive information. Handle it with
  the same level of security as you would the original repository.
</usage_guidelines>

<notes>
- Some files may have been excluded based on .gitignore rules and Repomix's configuration
- Binary files are not included in this packed representation. Please refer to the Repository Structure section for a complete list of file paths, including binary files
- Files matching patterns in .gitignore are excluded
- Files matching default ignore patterns are excluded
- Files are sorted by Git change count (files with more changes are at the bottom)
</notes>

</file_summary>

<directory_structure>
.gitattributes
.github/ISSUE_TEMPLATE/bug-report.yml
.github/ISSUE_TEMPLATE/feature_request.yml
.gitignore
.repomixignore
auth-module/.gitattributes
auth-module/.gitignore
auth-module/mvnw
auth-module/mvnw.cmd
auth-module/pom.xml
auth-module/src/main/java/pe/edu/certus/authmodule/AuthModuleApplication.java
auth-module/src/main/java/pe/edu/certus/authmodule/configuration/annotations/AuthComponentScanConfig.java
auth-module/src/main/java/pe/edu/certus/authmodule/configuration/annotations/AuthEntityScanConfig.java
auth-module/src/main/java/pe/edu/certus/authmodule/configuration/annotations/AuthPersistenceConfig.java
auth-module/src/main/java/pe/edu/certus/authmodule/configuration/annotations/utils/RequestSellerDto.java
auth-module/src/main/java/pe/edu/certus/authmodule/configuration/annotations/utils/UserRequestController.java
auth-module/src/main/java/pe/edu/certus/authmodule/configuration/annotations/utils/UserRequestService.java
auth-module/src/main/java/pe/edu/certus/authmodule/configuration/policy/CorsConfig.java
auth-module/src/main/java/pe/edu/certus/authmodule/configuration/policy/CustomOAuth2LoginSuccessHandler.java
auth-module/src/main/java/pe/edu/certus/authmodule/configuration/policy/JwtAuthorizationFilterConfig.java
auth-module/src/main/java/pe/edu/certus/authmodule/configuration/policy/PasswordEncoderConfig.java
auth-module/src/main/java/pe/edu/certus/authmodule/configuration/policy/SecurityConfig.java
auth-module/src/main/java/pe/edu/certus/authmodule/jwt/ports/ForJwt.java
auth-module/src/main/java/pe/edu/certus/authmodule/logic/adapters/driven/AuthManager.java
auth-module/src/main/java/pe/edu/certus/authmodule/logic/adapters/driven/GoogleAuthManager.java
auth-module/src/main/java/pe/edu/certus/authmodule/logic/adapters/driven/RegisterManager.java
auth-module/src/main/java/pe/edu/certus/authmodule/logic/adapters/driver/AuthAdapter.java
auth-module/src/main/java/pe/edu/certus/authmodule/logic/adapters/driver/OAuth2Adapter.java
auth-module/src/main/java/pe/edu/certus/authmodule/logic/adapters/driver/ResponseWebModel.java
auth-module/src/main/java/pe/edu/certus/authmodule/logic/model/GoogleLoginModel.java
auth-module/src/main/java/pe/edu/certus/authmodule/logic/model/LoginModel.java
auth-module/src/main/java/pe/edu/certus/authmodule/logic/model/LoginRequest.java
auth-module/src/main/java/pe/edu/certus/authmodule/logic/model/RegisterRequest.java
auth-module/src/main/java/pe/edu/certus/authmodule/logic/ports/driven/ForVerifyingGoogleToken.java
auth-module/src/main/java/pe/edu/certus/authmodule/logic/ports/driver/ForAuth.java
auth-module/src/main/java/pe/edu/certus/authmodule/logic/ports/driver/ForGoogleAuth.java
auth-module/src/main/java/pe/edu/certus/authmodule/logic/ports/driver/ForLogin.java
auth-module/src/main/java/pe/edu/certus/authmodule/logic/ports/driver/ForRegister.java
auth-module/src/main/java/pe/edu/certus/authmodule/repository/adapters/driver/GoogleTokenVerifierProxy.java
auth-module/src/main/java/pe/edu/certus/authmodule/repository/entity/AuthEntity.java
auth-module/src/main/java/pe/edu/certus/authmodule/repository/ports/driver/ForQueryingAuth.java
auth-module/src/main/resources/application.properties
auth-module/src/main/resources/jwt-keys/public-key.pem
bootloader/.gitattributes
bootloader/.gitignore
bootloader/mvnw
bootloader/mvnw.cmd
bootloader/pom.xml
bootloader/src/main/java/pe/edu/certus/bootloader/BootloaderApplication.java
bootloader/src/main/java/pe/edu/certus/bootloader/config/BootComponentScan.java
bootloader/src/main/java/pe/edu/certus/bootloader/Main.java
bootloader/src/main/resources/application.properties
bootloader/src/main/resources/banner.txt
bootloader/src/main/resources/database-mysql.properties
bootloader/src/main/resources/database/data.sql
bootloader/src/main/resources/database/schema.sql
LICENSE
mvnw
mvnw.cmd
paypal-module/.gitattributes
paypal-module/.gitignore
paypal-module/mvnw
paypal-module/mvnw.cmd
paypal-module/pom.xml
paypal-module/src/main/java/pe/edu/certus/paypalmodule/configuration/annotations/PaypalComponentScanConfig.java
paypal-module/src/main/java/pe/edu/certus/paypalmodule/configuration/annotations/PaypalEntityScanConfig.java
paypal-module/src/main/java/pe/edu/certus/paypalmodule/configuration/annotations/PaypalPersistenceConfig.java
paypal-module/src/main/java/pe/edu/certus/paypalmodule/configuration/sdk/PaypalConfig.java
paypal-module/src/main/java/pe/edu/certus/paypalmodule/logic/adapters/driven/PaypalManager.java
paypal-module/src/main/java/pe/edu/certus/paypalmodule/logic/adapters/driver/PaypalAdapter.java
paypal-module/src/main/java/pe/edu/certus/paypalmodule/logic/model/CreateOrderResponseModel.java
paypal-module/src/main/java/pe/edu/certus/paypalmodule/logic/model/PaymentDetailModel.java
paypal-module/src/main/java/pe/edu/certus/paypalmodule/logic/ports/driven/ForManagingPaypal.java
paypal-module/src/main/java/pe/edu/certus/paypalmodule/logic/ports/driven/ForPersistingPaypalPayment.java
paypal-module/src/main/java/pe/edu/certus/paypalmodule/logic/ports/driver/ForGettingWorkPrice.java
paypal-module/src/main/java/pe/edu/certus/paypalmodule/logic/ports/driver/ForPaypal.java
paypal-module/src/main/java/pe/edu/certus/paypalmodule/PaypalModuleApplication.java
paypal-module/src/main/java/pe/edu/certus/paypalmodule/repository/adapters/driver/PaypalPersistenceProxy.java
paypal-module/src/main/java/pe/edu/certus/paypalmodule/repository/adapters/driver/PaypalServiceProxy.java
paypal-module/src/main/java/pe/edu/certus/paypalmodule/repository/adapters/driver/WorkPriceManager.java
paypal-module/src/main/java/pe/edu/certus/paypalmodule/repository/adapters/mapper/PaypalPersistenceMapper.java
paypal-module/src/main/java/pe/edu/certus/paypalmodule/repository/entity/OrderDetailEntity.java
paypal-module/src/main/java/pe/edu/certus/paypalmodule/repository/entity/OrderEntity.java
paypal-module/src/main/java/pe/edu/certus/paypalmodule/repository/entity/PaypalPaymentEntity.java
paypal-module/src/main/java/pe/edu/certus/paypalmodule/repository/entity/WorkPriceEntity.java
paypal-module/src/main/java/pe/edu/certus/paypalmodule/repository/ports/driver/ForQueryingOrderDetails.java
paypal-module/src/main/java/pe/edu/certus/paypalmodule/repository/ports/driver/ForQueryingOrders.java
paypal-module/src/main/java/pe/edu/certus/paypalmodule/repository/ports/driver/ForQueryingPaypalPayments.java
paypal-module/src/main/java/pe/edu/certus/paypalmodule/repository/ports/driver/ForQueryingWorkInPaypal.java
paypal-module/src/main/java/pe/edu/certus/paypalmodule/repository/ports/mapper/ForBridgingPaypalPayment.java
people-module/.gitattributes
people-module/.gitignore
people-module/mvnw
people-module/mvnw.cmd
people-module/pom.xml
people-module/src/main/java/pe/edu/certus/peoplemodule/configuration/annotations/PeopleComponentScanConfig.java
people-module/src/main/java/pe/edu/certus/peoplemodule/configuration/annotations/PeopleEntityScanConfig.java
people-module/src/main/java/pe/edu/certus/peoplemodule/configuration/annotations/PeoplePersistenceConfig.java
people-module/src/main/java/pe/edu/certus/peoplemodule/configuration/mappers/PeopleMapperConfig.java
people-module/src/main/java/pe/edu/certus/peoplemodule/configuration/mappers/PeopleMapperPersistenceConfig.java
people-module/src/main/java/pe/edu/certus/peoplemodule/logic/adapters/driven/PeopleManager.java
people-module/src/main/java/pe/edu/certus/peoplemodule/logic/adapters/driver/PeopleAdapter.java
people-module/src/main/java/pe/edu/certus/peoplemodule/logic/adapters/driver/PeopleWebModel.java
people-module/src/main/java/pe/edu/certus/peoplemodule/logic/adapters/mapper/PeopleMapper.java
people-module/src/main/java/pe/edu/certus/peoplemodule/logic/model/PeopleModel.java
people-module/src/main/java/pe/edu/certus/peoplemodule/logic/ports/driven/ForManagingPeople.java
people-module/src/main/java/pe/edu/certus/peoplemodule/logic/ports/driver/ForPeople.java
people-module/src/main/java/pe/edu/certus/peoplemodule/logic/ports/mapper/ForMappingPeople.java
people-module/src/main/java/pe/edu/certus/peoplemodule/PeopleModuleApplication.java
people-module/src/main/java/pe/edu/certus/peoplemodule/repository/adapters/driver/PeopleQuerierProxy.java
people-module/src/main/java/pe/edu/certus/peoplemodule/repository/adapters/mapper/PeoplePersistenceMapper.java
people-module/src/main/java/pe/edu/certus/peoplemodule/repository/entity/PeopleEntity.java
people-module/src/main/java/pe/edu/certus/peoplemodule/repository/ports/driver/ForQueryingPeople.java
people-module/src/main/java/pe/edu/certus/peoplemodule/repository/ports/mapper/ForBridgingPeople.java
people-module/src/main/resources/application.properties
pom.xml
src/main/java/pe/edu/certus/CertUsBackendServiceApplication.java
src/main/resources/application.properties
ui-module/.gitattributes
ui-module/.gitignore
ui-module/mvnw
ui-module/mvnw.cmd
ui-module/pom.xml
ui-module/src/main/java/pe/edu/certus/uimodule/ui/config/StorageConfig.java
ui-module/src/main/java/pe/edu/certus/uimodule/ui/config/WebConfig.java
ui-module/src/main/java/pe/edu/certus/uimodule/ui/pages/auth/login/adapters/drivers/LoginController.java
ui-module/src/main/java/pe/edu/certus/uimodule/ui/pages/auth/login/adapters/drivers/LoginRoute.java
ui-module/src/main/java/pe/edu/certus/uimodule/ui/pages/auth/login/ports/drivers/ForLogin.java
ui-module/src/main/java/pe/edu/certus/uimodule/ui/pages/auth/register/adapters/drivers/RegisterController.java
ui-module/src/main/java/pe/edu/certus/uimodule/ui/pages/auth/register/adapters/drivers/RegisterRoute.java
ui-module/src/main/java/pe/edu/certus/uimodule/ui/pages/auth/register/ports/drivers/ForRegister.java
ui-module/src/main/java/pe/edu/certus/uimodule/ui/pages/constants/BusinessRoute.java
ui-module/src/main/java/pe/edu/certus/uimodule/ui/pages/dashboard/admin/adapters/driver/AdminDashboardController.java
ui-module/src/main/java/pe/edu/certus/uimodule/ui/pages/dashboard/admin/adapters/driver/AdminDashboardRoute.java
ui-module/src/main/java/pe/edu/certus/uimodule/ui/pages/dashboard/admin/ports/driver/ForAdminDashboard.java
ui-module/src/main/java/pe/edu/certus/uimodule/ui/pages/dashboard/seller/adapters/driver/SellerDashboardController.java
ui-module/src/main/java/pe/edu/certus/uimodule/ui/pages/dashboard/seller/adapters/driver/SellerDashboardRoute.java
ui-module/src/main/java/pe/edu/certus/uimodule/ui/pages/dashboard/seller/ports/driver/ForSellerDashboard.java
ui-module/src/main/java/pe/edu/certus/uimodule/ui/pages/home/adapters/drivers/HomeController.java
ui-module/src/main/java/pe/edu/certus/uimodule/ui/pages/home/adapters/drivers/HomeRoute.java
ui-module/src/main/java/pe/edu/certus/uimodule/ui/pages/home/ports/drivers/ForHome.java
ui-module/src/main/java/pe/edu/certus/uimodule/ui/pages/orders/adapters/drivers/CartController.java
ui-module/src/main/java/pe/edu/certus/uimodule/ui/pages/orders/adapters/drivers/OrderController.java
ui-module/src/main/java/pe/edu/certus/uimodule/ui/pages/orders/adapters/drivers/OrderRoute.java
ui-module/src/main/java/pe/edu/certus/uimodule/ui/pages/orders/ports/drivers/CartRequest.java
ui-module/src/main/java/pe/edu/certus/uimodule/ui/pages/orders/ports/drivers/ForOrder.java
ui-module/src/main/java/pe/edu/certus/uimodule/ui/pages/profile/adapters/drivers/ProfileController.java
ui-module/src/main/java/pe/edu/certus/uimodule/ui/pages/profile/adapters/drivers/ProfileRoute.java
ui-module/src/main/java/pe/edu/certus/uimodule/ui/pages/profile/ports/drivers/ForProfile.java
ui-module/src/main/java/pe/edu/certus/uimodule/ui/pages/request/adapters/drivers/RequestSellerRoleController.java
ui-module/src/main/java/pe/edu/certus/uimodule/ui/pages/request/adapters/drivers/RequestSellerRoleRoute.java
ui-module/src/main/java/pe/edu/certus/uimodule/ui/pages/request/ports/drivers/ForRequestSeller.java
ui-module/src/main/java/pe/edu/certus/uimodule/ui/pages/works/adapters/drivers/WorkController.java
ui-module/src/main/java/pe/edu/certus/uimodule/ui/pages/works/adapters/drivers/WorkRoute.java
ui-module/src/main/java/pe/edu/certus/uimodule/ui/pages/works/adapters/drivers/WorkRouteController.java
ui-module/src/main/java/pe/edu/certus/uimodule/ui/pages/works/ports/drivers/ForWorkRoute.java
ui-module/src/main/java/pe/edu/certus/uimodule/UiModuleApplication.java
ui-module/src/main/resources/application.properties
ui-module/src/main/resources/frontend-config/css/animate.css
ui-module/src/main/resources/frontend-config/css/cssanimation.css
ui-module/src/main/resources/frontend-config/css/general.css
ui-module/src/main/resources/frontend-config/css/main.css
ui-module/src/main/resources/frontend-config/css/styles.css
ui-module/src/main/resources/frontend-config/package.json
ui-module/src/main/resources/frontend-config/tailwind.config.js
ui-module/src/main/resources/static/scripts/alpine.js
ui-module/src/main/resources/static/scripts/auth-flow.js
ui-module/src/main/resources/static/scripts/auth.js
ui-module/src/main/resources/static/scripts/cart.js
ui-module/src/main/resources/static/scripts/checkout.js
ui-module/src/main/resources/static/scripts/filters.js
ui-module/src/main/resources/static/scripts/flowbite.min.js
ui-module/src/main/resources/static/scripts/general.js
ui-module/src/main/resources/static/scripts/request-seller.js
ui-module/src/main/resources/static/scripts/scroll.js
ui-module/src/main/resources/static/scripts/seller-dashboard.js
ui-module/src/main/resources/static/scripts/session.js
ui-module/src/main/resources/static/scripts/works-details.js
ui-module/src/main/resources/templates/auth/login/templates/login.html
ui-module/src/main/resources/templates/auth/login/templates/oauth2_success.html
ui-module/src/main/resources/templates/auth/register/templates/register.html
ui-module/src/main/resources/templates/dashboard/seller/fragments/header-seller.html
ui-module/src/main/resources/templates/dashboard/seller/fragments/seller-sales.html
ui-module/src/main/resources/templates/dashboard/seller/fragments/seller-works-under-review.html
ui-module/src/main/resources/templates/dashboard/seller/fragments/seller-works-under-review/modal-look-review-work.html
ui-module/src/main/resources/templates/dashboard/seller/fragments/seller-works.html
ui-module/src/main/resources/templates/dashboard/seller/fragments/seller-works/modal-delete-work.html
ui-module/src/main/resources/templates/dashboard/seller/fragments/seller-works/modal-edit-work.html
ui-module/src/main/resources/templates/dashboard/seller/fragments/seller-works/modal-user-request-work.html
ui-module/src/main/resources/templates/dashboard/seller/fragments/sidebar.html
ui-module/src/main/resources/templates/dashboard/seller/seller-dashboard.html
ui-module/src/main/resources/templates/fragments/cart-content.html
ui-module/src/main/resources/templates/fragments/head.html
ui-module/src/main/resources/templates/fragments/main-header.html
ui-module/src/main/resources/templates/home/templates/fragments/footer.html
ui-module/src/main/resources/templates/home/templates/fragments/header.html
ui-module/src/main/resources/templates/home/templates/home.html
ui-module/src/main/resources/templates/profile/templates/profile.html
ui-module/src/main/resources/templates/request/templates/fragments/header-request-seller.html
ui-module/src/main/resources/templates/request/templates/request-seller-role.html
ui-module/src/main/resources/templates/works/static/js/script.js
ui-module/src/main/resources/templates/works/templates/fragments/header-user.html
ui-module/src/main/resources/templates/works/templates/work-details.html
ui-module/src/main/resources/templates/works/templates/works.html
users-module/.gitattributes
users-module/.gitignore
users-module/mvnw
users-module/mvnw.cmd
users-module/pom.xml
users-module/src/main/java/pe/edu/certus/usersmodule/configuration/annotations/UserComponentScanConfig.java
users-module/src/main/java/pe/edu/certus/usersmodule/configuration/annotations/UserEntityScanConfig.java
users-module/src/main/java/pe/edu/certus/usersmodule/configuration/annotations/UserPersistenceConfig.java
users-module/src/main/java/pe/edu/certus/usersmodule/configuration/mappers/UserMapperConfig.java
users-module/src/main/java/pe/edu/certus/usersmodule/configuration/mappers/UserMapperPersistenceConfig.java
users-module/src/main/java/pe/edu/certus/usersmodule/logic/adapters/driven/UserManager.java
users-module/src/main/java/pe/edu/certus/usersmodule/logic/adapters/driver/UserAdapter.java
users-module/src/main/java/pe/edu/certus/usersmodule/logic/adapters/driver/UserWebModel.java
users-module/src/main/java/pe/edu/certus/usersmodule/logic/adapters/mapper/UserMapper.java
users-module/src/main/java/pe/edu/certus/usersmodule/logic/model/UserModel.java
users-module/src/main/java/pe/edu/certus/usersmodule/logic/ports/driven/ForManagingUser.java
users-module/src/main/java/pe/edu/certus/usersmodule/logic/ports/driver/ForUser.java
users-module/src/main/java/pe/edu/certus/usersmodule/logic/ports/mapper/ForMappingUser.java
users-module/src/main/java/pe/edu/certus/usersmodule/repository/adapters/driver/UserQuerierProxy.java
users-module/src/main/java/pe/edu/certus/usersmodule/repository/adapters/mapper/UserPersistenceMapper.java
users-module/src/main/java/pe/edu/certus/usersmodule/repository/entity/UserEntity.java
users-module/src/main/java/pe/edu/certus/usersmodule/repository/ports/driver/ForQueryingUser.java
users-module/src/main/java/pe/edu/certus/usersmodule/repository/ports/mapper/ForBridgingUser.java
users-module/src/main/java/pe/edu/certus/usersmodule/UsersModuleApplication.java
users-module/src/main/resources/application.properties
works-module/.gitattributes
works-module/.gitignore
works-module/mvnw
works-module/mvnw.cmd
works-module/pom.xml
works-module/src/main/java/pe/edu/certus/worksmodule/configuration/annotations/WorkComponentScanConfig.java
works-module/src/main/java/pe/edu/certus/worksmodule/configuration/annotations/WorkEntityScanConfig.java
works-module/src/main/java/pe/edu/certus/worksmodule/configuration/annotations/WorkPersistenceConfig.java
works-module/src/main/java/pe/edu/certus/worksmodule/configuration/mappers/CommentMapperConfig.java
works-module/src/main/java/pe/edu/certus/worksmodule/configuration/mappers/CommentMapperPersistenceConfig.java
works-module/src/main/java/pe/edu/certus/worksmodule/configuration/mappers/RatingMapperConfig.java
works-module/src/main/java/pe/edu/certus/worksmodule/configuration/mappers/RatingMapperPersistenceConfig.java
works-module/src/main/java/pe/edu/certus/worksmodule/configuration/mappers/WorkCategoryMapperConfig.java
works-module/src/main/java/pe/edu/certus/worksmodule/configuration/mappers/WorkCategoryPersistenceConfig.java
works-module/src/main/java/pe/edu/certus/worksmodule/configuration/mappers/WorkMapperConfig.java
works-module/src/main/java/pe/edu/certus/worksmodule/configuration/mappers/WorkMapperPersistenceConfig.java
works-module/src/main/java/pe/edu/certus/worksmodule/logic/adapters/driven/CommentManager.java
works-module/src/main/java/pe/edu/certus/worksmodule/logic/adapters/driven/RatingManager.java
works-module/src/main/java/pe/edu/certus/worksmodule/logic/adapters/driven/WorkCategoryManager.java
works-module/src/main/java/pe/edu/certus/worksmodule/logic/adapters/driven/WorkManager.java
works-module/src/main/java/pe/edu/certus/worksmodule/logic/adapters/driver/inputs/CommentWebModel.java
works-module/src/main/java/pe/edu/certus/worksmodule/logic/adapters/driver/inputs/CreateCommentWebModel.java
works-module/src/main/java/pe/edu/certus/worksmodule/logic/adapters/driver/inputs/RatingWebModel.java
works-module/src/main/java/pe/edu/certus/worksmodule/logic/adapters/driver/inputs/WorkCategoryWebModel.java
works-module/src/main/java/pe/edu/certus/worksmodule/logic/adapters/driver/inputs/WorkWebModel.java
works-module/src/main/java/pe/edu/certus/worksmodule/logic/adapters/driver/web/CommentAdapter.java
works-module/src/main/java/pe/edu/certus/worksmodule/logic/adapters/driver/web/RatingAdapter.java
works-module/src/main/java/pe/edu/certus/worksmodule/logic/adapters/driver/web/WorkAdapter.java
works-module/src/main/java/pe/edu/certus/worksmodule/logic/adapters/driver/web/WorkCategoryAdapter.java
works-module/src/main/java/pe/edu/certus/worksmodule/logic/adapters/mapper/CommentMapper.java
works-module/src/main/java/pe/edu/certus/worksmodule/logic/adapters/mapper/RatingMapper.java
works-module/src/main/java/pe/edu/certus/worksmodule/logic/adapters/mapper/WorkCategoryMapper.java
works-module/src/main/java/pe/edu/certus/worksmodule/logic/adapters/mapper/WorkMapper.java
works-module/src/main/java/pe/edu/certus/worksmodule/logic/model/CommentModel.java
works-module/src/main/java/pe/edu/certus/worksmodule/logic/model/RatingModel.java
works-module/src/main/java/pe/edu/certus/worksmodule/logic/model/WorkCategoryModel.java
works-module/src/main/java/pe/edu/certus/worksmodule/logic/model/WorkModel.java
works-module/src/main/java/pe/edu/certus/worksmodule/logic/ports/driven/ForManagingComment.java
works-module/src/main/java/pe/edu/certus/worksmodule/logic/ports/driven/ForManagingRating.java
works-module/src/main/java/pe/edu/certus/worksmodule/logic/ports/driven/ForManagingWork.java
works-module/src/main/java/pe/edu/certus/worksmodule/logic/ports/driven/ForManagingWorkCategory.java
works-module/src/main/java/pe/edu/certus/worksmodule/logic/ports/driver/ForComment.java
works-module/src/main/java/pe/edu/certus/worksmodule/logic/ports/driver/ForRating.java
works-module/src/main/java/pe/edu/certus/worksmodule/logic/ports/driver/ForWork.java
works-module/src/main/java/pe/edu/certus/worksmodule/logic/ports/driver/ForWorkCategory.java
works-module/src/main/java/pe/edu/certus/worksmodule/logic/ports/mapper/ForMappingComment.java
works-module/src/main/java/pe/edu/certus/worksmodule/logic/ports/mapper/ForMappingRating.java
works-module/src/main/java/pe/edu/certus/worksmodule/logic/ports/mapper/ForMappingWork.java
works-module/src/main/java/pe/edu/certus/worksmodule/logic/ports/mapper/ForMappingWorkCategory.java
works-module/src/main/java/pe/edu/certus/worksmodule/repository/adapters/driver/CommentQuerierProxy.java
works-module/src/main/java/pe/edu/certus/worksmodule/repository/adapters/driver/RatingQuerierProxy.java
works-module/src/main/java/pe/edu/certus/worksmodule/repository/adapters/driver/WorkCategoryQuerierProxy.java
works-module/src/main/java/pe/edu/certus/worksmodule/repository/adapters/driver/WorkQuerierProxy.java
works-module/src/main/java/pe/edu/certus/worksmodule/repository/adapters/mapper/CommentPersistenceMapper.java
works-module/src/main/java/pe/edu/certus/worksmodule/repository/adapters/mapper/RatingPersistenceMapper.java
works-module/src/main/java/pe/edu/certus/worksmodule/repository/adapters/mapper/WorkCategoryPersistenceMapper.java
works-module/src/main/java/pe/edu/certus/worksmodule/repository/adapters/mapper/WorkPersistenceMapper.java
works-module/src/main/java/pe/edu/certus/worksmodule/repository/entity/CommentEntity.java
works-module/src/main/java/pe/edu/certus/worksmodule/repository/entity/RatingEntity.java
works-module/src/main/java/pe/edu/certus/worksmodule/repository/entity/WorkCategoryEntity.java
works-module/src/main/java/pe/edu/certus/worksmodule/repository/entity/WorkEntity.java
works-module/src/main/java/pe/edu/certus/worksmodule/repository/entity/WorkImageEntity.java
works-module/src/main/java/pe/edu/certus/worksmodule/repository/ports/driver/ForQueryingComment.java
works-module/src/main/java/pe/edu/certus/worksmodule/repository/ports/driver/ForQueryingRating.java
works-module/src/main/java/pe/edu/certus/worksmodule/repository/ports/driver/ForQueryingWork.java
works-module/src/main/java/pe/edu/certus/worksmodule/repository/ports/driver/ForQueryingWorkCategory.java
works-module/src/main/java/pe/edu/certus/worksmodule/repository/ports/driver/ForQueryingWorkImage.java
works-module/src/main/java/pe/edu/certus/worksmodule/repository/ports/mapper/ForBridgingComment.java
works-module/src/main/java/pe/edu/certus/worksmodule/repository/ports/mapper/ForBridgingRating.java
works-module/src/main/java/pe/edu/certus/worksmodule/repository/ports/mapper/ForBridgingWork.java
works-module/src/main/java/pe/edu/certus/worksmodule/repository/ports/mapper/ForBridgingWorkCategory.java
works-module/src/main/java/pe/edu/certus/worksmodule/WorksModuleApplication.java
works-module/src/main/resources/application.properties
</directory_structure>

<files>
This section contains the contents of the repository's files.

<file path="auth-module/src/main/java/pe/edu/certus/authmodule/configuration/policy/CustomOAuth2LoginSuccessHandler.java">
package pe.edu.certus.authmodule.configuration.policy;

import jakarta.persistence.EntityNotFoundException;
import jakarta.servlet.ServletException;
import jakarta.servlet.http.Cookie;
import jakarta.servlet.http.HttpServletRequest;
import jakarta.servlet.http.HttpServletResponse;
import org.springframework.security.core.Authentication;
import org.springframework.security.crypto.password.PasswordEncoder;
import org.springframework.security.oauth2.core.user.OAuth2User;
import org.springframework.security.web.authentication.AuthenticationSuccessHandler;
import org.springframework.stereotype.Component;
import org.springframework.transaction.annotation.Transactional;
import pe.edu.certus.authmodule.jwt.adapters.JwtManager;
import pe.edu.certus.authmodule.repository.entity.AuthEntity;
import pe.edu.certus.authmodule.repository.ports.driver.ForQueryingAuth;
import pe.edu.certus.peoplemodule.logic.model.PeopleModel;
import pe.edu.certus.peoplemodule.logic.ports.driver.ForPeople;

import java.io.IOException;
import java.util.Map;
import java.util.UUID;

@Component
public class CustomOAuth2LoginSuccessHandler implements AuthenticationSuccessHandler {

    private final ForQueryingAuth forQueryingAuth;
    private final ForPeople<PeopleModel, Long> forPeople;
    private final JwtManager jwtManager;
    private final PasswordEncoder passwordEncoder;

    public CustomOAuth2LoginSuccessHandler(ForQueryingAuth forQueryingAuth, ForPeople<PeopleModel, Long> forPeople, JwtManager jwtManager, PasswordEncoder passwordEncoder) {
        this.forQueryingAuth = forQueryingAuth;
        this.forPeople = forPeople;
        this.jwtManager = jwtManager;
        this.passwordEncoder = passwordEncoder;
    }

    @Override
    @Transactional
    public void onAuthenticationSuccess(HttpServletRequest request, HttpServletResponse response, Authentication authentication) throws IOException, ServletException {
        OAuth2User oauth2User = (OAuth2User) authentication.getPrincipal();
        Map<String, Object> attributes = oauth2User.getAttributes();
        String email = (String) attributes.get("email");

        // Paso 1: Encuentra el usuario de autenticación o créalo si no existe.
        AuthEntity user = forQueryingAuth.findByUserEmail(email)
                .orElseGet(() -> createNewUserWithProfile(attributes));

        // Paso 2: Asegúrate de que el perfil tenga la foto de Google si no tenía una.
        updateProfileImageIfNeeded(user.getId(), attributes);

        try {
            // Paso 3: Genera el JWT y redirige al usuario.
            String jwt = jwtManager.generateJWT(user.getId());

            Cookie jwtCookie = new Cookie("jwt_token", jwt);
            jwtCookie.setPath("/");
            jwtCookie.setMaxAge(60 * 60 * 24); // 1 día
            response.addCookie(jwtCookie);

            response.sendRedirect("/marketplace/auth/oauth-success");

        } catch (Exception e) {
            throw new ServletException("Error al generar el token JWT o al redirigir", e);
        }
    }

    /**
     * Crea un nuevo usuario y su perfil de persona.
     * Se usa solo cuando el usuario no existe en la base de datos.
     */
    private AuthEntity createNewUserWithProfile(Map<String, Object> attributes) {
        AuthEntity newUser = new AuthEntity();
        newUser.setUserEmail((String) attributes.get("email"));
        newUser.setUserPassword(passwordEncoder.encode(UUID.randomUUID().toString())); // Contraseña aleatoria
        newUser.setIdRole(3L); // Rol de comprador por defecto
        AuthEntity savedUser = forQueryingAuth.save(newUser);

        PeopleModel person = PeopleModel.builder()
                .idUser(savedUser.getId())
                .personName((String) attributes.get("given_name"))
                .personLastname((String) attributes.get("family_name"))
                .personProfileImageUrl((String) attributes.get("picture"))
                .personInstitutionalEmail((String) attributes.get("email"))
                .build();
        forPeople.createPeople(person);

        return savedUser;
    }

    /**
     * Revisa el perfil de un usuario existente y actualiza la foto de perfil
     * si no tiene una y Google sí la proporciona.
     */
    private void updateProfileImageIfNeeded(Long userId, Map<String, Object> attributes) {
        try {
            PeopleModel personProfile = forPeople.findPeopleById(userId);

            boolean needsUpdate = personProfile.getPersonProfileImageUrl() == null || personProfile.getPersonProfileImageUrl().isEmpty();
            String googlePictureUrl = (String) attributes.get("picture");

            if (needsUpdate && googlePictureUrl != null && !googlePictureUrl.isEmpty()) {
                personProfile.setPersonProfileImageUrl(googlePictureUrl);
                forPeople.updatePeople(personProfile);
            }
        } catch (EntityNotFoundException e) {
            // Esto no debería pasar si el usuario fue creado correctamente, pero es una buena práctica manejarlo.
            System.err.println("Error: No se encontró el perfil de persona para el usuario con ID: " + userId);
        } catch (Exception e) {
            System.err.println("Error al intentar actualizar la imagen de perfil para el usuario con ID: " + userId + ". " + e.getMessage());
        }
    }
}
</file>

<file path="auth-module/src/main/java/pe/edu/certus/authmodule/configuration/policy/PasswordEncoderConfig.java">
package pe.edu.certus.authmodule.configuration.policy;

import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;
import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;
import org.springframework.security.crypto.password.PasswordEncoder;

@Configuration
public class PasswordEncoderConfig {

    @Bean
    public PasswordEncoder passwordEncoder() {
        return new BCryptPasswordEncoder();
    }
}
</file>

<file path="auth-module/src/main/java/pe/edu/certus/authmodule/logic/adapters/driver/OAuth2Adapter.java">
package pe.edu.certus.authmodule.logic.adapters.driver;

import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RequestMapping;

@Controller
@RequestMapping("/marketplace/auth")
public class OAuth2Adapter {

    @GetMapping("/oauth-success")
    public String oauthSuccess() {
        return "/auth/login/templates/oauth2_success";
    }
}
</file>

<file path="paypal-module/src/main/java/pe/edu/certus/paypalmodule/repository/entity/OrderDetailEntity.java">
package pe.edu.certus.paypalmodule.repository.entity;

import jakarta.persistence.*;
import lombok.*;

import java.math.BigDecimal;
import java.time.LocalDateTime;

@Entity
@Table(name = "order_details")
@Getter
@Setter
@Builder
@AllArgsConstructor
@NoArgsConstructor
public class OrderDetailEntity {

    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    @Column(name = "order_detail_id")
    private Long id;

    @ManyToOne(fetch = FetchType.LAZY)
    @JoinColumn(name = "id_order", nullable = false)
    private OrderEntity order;

    @Column(name = "id_work", nullable = false)
    private Long workId;

    @Column(name = "order_detail_quantity", nullable = false)
    private Integer quantity;

    @Column(name = "order_detail_unit_price", nullable = false, precision = 10, scale = 2)
    private BigDecimal unitPrice;

    @Column(name = "order_details_total_price", precision = 19, scale = 2)
    private BigDecimal totalPrice;

    @Column(name = "order_details_status", length = 255)
    private String status;

    @Column(name = "order_details_access_granted")
    private Boolean accessGranted;

    @Column(name = "order_details_created_at")
    private LocalDateTime createdAt;

    @PrePersist
    protected void onPrePersist() {
        createdAt = LocalDateTime.now();
        // Si la cantidad no está seteada, la ponemos en 1 por defecto.
        if (quantity == null) {
            quantity = 1;
        }
        // Calculamos el precio total
        if (unitPrice != null) {
            totalPrice = unitPrice.multiply(new BigDecimal(quantity));
        }
        // Por defecto, al crearse el detalle de la orden, el acceso está concedido.
        if (accessGranted == null) {
            accessGranted = true;
        }
        // Estado inicial
        if (status == null) {
            status = "COMPLETED";
        }
    }
}
</file>

<file path="paypal-module/src/main/java/pe/edu/certus/paypalmodule/repository/ports/driver/ForQueryingOrderDetails.java">
package pe.edu.certus.paypalmodule.repository.ports.driver;

import org.springframework.data.jpa.repository.JpaRepository;
import org.springframework.stereotype.Repository;
import pe.edu.certus.paypalmodule.repository.entity.OrderDetailEntity;

@Repository
public interface ForQueryingOrderDetails extends JpaRepository<OrderDetailEntity, Long> {
}
</file>

<file path="ui-module/src/main/resources/static/scripts/works-details.js">
// ui-module/src/main/resources/static/scripts/work-details.js
document.addEventListener('DOMContentLoaded', () => {
    const commentSection = document.getElementById('comment-section');
    if (!commentSection) return; // Salir si no estamos en la página de detalles

    const workId = commentSection.dataset.workId;
    const commentForm = document.getElementById('comment-form');
    const commentTextarea = document.getElementById('comment-textarea');
    const commentsList = document.getElementById('comments-list');
    const submitBtn = document.getElementById('submit-comment-btn');
    const authMessage = document.getElementById('comment-auth-message');

    const token = localStorage.getItem('jwt_token');

    // Habilitar/deshabilitar el área de comentarios según la autenticación
    if (!token) {
        commentTextarea.disabled = true;
        submitBtn.disabled = true;
        authMessage.classList.remove('hidden');
    }

    const formatDate = (dateString) => {
        const date = new Date(dateString);
        return date.toLocaleDateString('es-ES', {
            year: 'numeric', month: 'long', day: 'numeric', hour: '2-digit', minute: '2-digit'
        });
    };

    const createCommentHTML = (comment) => {
        const userName = `Usuario ${comment.userId}`; // Placeholder, se puede mejorar para obtener nombre real
        const userAvatar = '/img/works/perfil-generico.png'; // Placeholder

        // Recursividad para renderizar las respuestas
        const repliesHTML = comment.replies && comment.replies.length > 0
            ? `<div class="mt-4 pl-6 border-l-2 border-gray-200 space-y-4">
                 ${comment.replies.map(reply => createCommentHTML(reply)).join('')}
               </div>`
            : '';

        return `
            <div class="flex items-start gap-3" data-comment-id="${comment.id}">
                <img class="w-10 h-10 rounded-full object-cover" src="${userAvatar}" alt="${userName}">
                <div class="flex-1">
                    <div class="bg-gray-100 p-3 rounded-lg">
                        <p class="font-semibold text-sm text-gray-800">${userName}</p>
                        <p class="text-sm text-gray-600">${comment.commentBody}</p>
                    </div>
                    <div class="text-xs text-gray-500 mt-1 flex items-center gap-3">
                        <span>${formatDate(comment.createdAt)}</span>
                        <button class="font-medium hover:underline reply-btn">Responder</button>
                    </div>
                    <div class="reply-form-container mt-2"></div> <!-- Contenedor para el formulario de respuesta -->
                    ${repliesHTML}
                </div>
            </div>
        `;
    };

    const renderComments = (comments) => {
        if (!comments || comments.length === 0) {
            commentsList.innerHTML = '<p class="text-gray-500">Aún no hay comentarios. ¡Sé el primero!</p>';
            return;
        }
        commentsList.innerHTML = comments.map(comment => createCommentHTML(comment)).join('');
    };

    const fetchAndRenderComments = async () => {
        try {
            const response = await fetch(`/api/v1/works/${workId}`);
            if (!response.ok) throw new Error('No se pudo cargar la información del trabajo.');
            const workData = await response.json();
            // La API ya devuelve los comentarios anidados
            renderComments(workData.comments || []);
        } catch (error) {
            console.error('Error fetching comments:', error);
            commentsList.innerHTML = '<p class="text-red-500">Error al cargar los comentarios.</p>';
        }
    };

    const handleCommentSubmit = async (event, parentId = null) => {
        event.preventDefault();
        const textarea = parentId ? document.getElementById(`reply-textarea-${parentId}`) : commentTextarea;
        const commentBody = textarea.value.trim();

        if (!commentBody || !token) return;

        const payload = {
            workId: parseInt(workId),
            parentCommentId: parentId,
            commentBody: commentBody,
        };

        const currentSubmitBtn = event.target.querySelector('button[type="submit"]');
        currentSubmitBtn.disabled = true;
        currentSubmitBtn.textContent = 'Publicando...';

        try {
            const response = await fetch('/api/v1/comments', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'Authorization': `Bearer ${token}`
                },
                body: JSON.stringify(payload)
            });

            if (!response.ok) {
                const errorData = await response.json();
                throw new Error(errorData.message || 'Error al publicar el comentario.');
            }

            textarea.value = '';
            await fetchAndRenderComments();

        } catch (error) {
            console.error('Error submitting comment:', error);
            alert(error.message);
        } finally {
            currentSubmitBtn.disabled = false;
            currentSubmitBtn.textContent = parentId ? 'Responder' : 'Publicar comentario';
        }
    };

    commentsList.addEventListener('click', e => {
        if (e.target.classList.contains('reply-btn')) {
            if (!token) {
                authMessage.scrollIntoView({ behavior: 'smooth', block: 'center' });
                return;
            }

            const parentCommentDiv = e.target.closest('[data-comment-id]');
            const parentId = parentCommentDiv.dataset.commentId;
            const replyContainer = parentCommentDiv.querySelector('.reply-form-container');

            // Si ya hay un formulario, lo quitamos. Si no, lo creamos.
            if (replyContainer.innerHTML) {
                replyContainer.innerHTML = '';
            } else {
                replyContainer.innerHTML = `
                    <form class="reply-form mt-2" data-parent-id="${parentId}">
                        <textarea id="reply-textarea-${parentId}" rows="2" class="block p-2 w-full text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500" placeholder="Escribe tu respuesta..." required></textarea>
                        <button type="submit" class="mt-2 text-xs font-medium text-white bg-[#00205b] py-1 px-3 rounded-lg hover:bg-[#001a4d]">Responder</button>
                    </form>
                `;
                document.getElementById(`reply-textarea-${parentId}`).focus();
            }
        }
    });

    commentsList.addEventListener('submit', e => {
        if(e.target.classList.contains('reply-form')) {
            const parentId = e.target.dataset.parentId;
            handleCommentSubmit(e, parentId);
        }
    });

    commentForm.addEventListener('submit', handleCommentSubmit);

    // Carga inicial de comentarios
    fetchAndRenderComments();
});
</file>

<file path="ui-module/src/main/resources/templates/auth/login/templates/oauth2_success.html">
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Procesando...</title>
    <script>
        function getCookie(name) {
            const value = `; ${document.cookie}`;
            const parts = value.split(`; ${name}=`);
            if (parts.length === 2) return parts.pop().split(';').shift();
        }

        document.addEventListener('DOMContentLoaded', () => {
            const token = getCookie('jwt_token');
            if (token) {
                // Guardar en localStorage para consistencia con tu sistema actual
                localStorage.setItem('jwt_token', token);

                // Borrar la cookie para no dejarla expuesta
                document.cookie = 'jwt_token=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;';

                // Redirigir a la página principal de trabajos
                window.location.href = '/marketplace/works';
            } else {
                // Si no hay token, algo salió mal. Redirigir al login.
                console.error("No se encontró el token JWT en la cookie después del login con OAuth2.");
                window.location.href = '/marketplace/auth/login?error=auth_failed';
            }
        });
    </script>
</head>
<body>
<h1>Redirigiendo...</h1>
</body>
</html>
</file>

<file path=".gitattributes">
/mvnw text eol=lf
*.cmd text eol=crlf
</file>

<file path=".github/ISSUE_TEMPLATE/bug-report.yml">
name: "Reporte de Error 🐞"
description: "Reporta un error para ayudarnos a mejorar CertUs Marketplace."
labels: ["bug"]
body:
  - type: markdown
    attributes:
      value: |
        ¡Gracias por ayudarnos a mejorar CertUs! Por favor, completa las siguientes secciones para describir el error:

  - type: textarea
    id: descripcion
    attributes:
      label: "Descripción del Error"
      placeholder: "Al hacer clic aquí, ocurre lo siguiente..."
    validations:
      required: true

  - type: textarea
    id: pasos
    attributes:
      label: "Pasos para Reproducir el Error"
      placeholder: |
        1. Ir a la página X
        2. Hacer clic en el botón Y
        3. Observar el error
    validations:
      required: true

  - type: textarea
    id: esperado
    attributes:
      label: "Comportamiento Esperado"
      placeholder: "Esperaba que ocurriera..."

  - type: textarea
    id: capturas
    attributes:
      label: "Capturas de Pantalla/Video (Opcional)"
      placeholder: "Adjunta capturas de pantalla o videos para ilustrar el problema."

  - type: dropdown
    id: asignacion
    attributes:
      label: "¿Te gustaría trabajar en la solución de este error?"
      options:
        - "Sí, me gustaría ayudar."
        - "No, solo reporto el error."

  - type: markdown
    attributes:
      value: |
        ### Información del Dispositivo
        Por favor, proporciona la siguiente información sobre el dispositivo donde se produjo el error:

  - type: input
    id: so_escritorio
    attributes:
      label: "Sistema Operativo (Escritorio)"
      placeholder: "Ej: Windows 11, macOS Monterey"

  - type: input
    id: navegador_escritorio
    attributes:
      label: "Navegador (Escritorio)"
      placeholder: "Ej: Google Chrome, Mozilla Firefox, Safari"

  - type: input
    id: version_escritorio
    attributes:
      label: "Versión del Navegador (Escritorio)"
      placeholder: "Ej: 96.0.4664.110"

  - type: input
    id: so_movil
    attributes:
      label: "Sistema Operativo (Móvil)"
      placeholder: "Ej: iOS 15, Android 12"

  - type: input
    id: navegador_movil
    attributes:
      label: "Navegador (Móvil)"
      placeholder: "Ej: Safari, Chrome"

  - type: input
    id: version_movil
    attributes:
      label: "Versión del Navegador (Móvil)"
      placeholder: "Ej: 15.0"

  - type: textarea
    id: contexto
    attributes:
      label: "Contexto Adicional (Opcional)"
      placeholder: "Agrega cualquier información adicional que consideres relevante."

  - type: markdown
    attributes:
      value: |
        ¡Muchas gracias por tu reporte! Lo revisaremos a la brevedad.  
        El equipo de CertUs te agradece tu colaboración.
</file>

<file path=".github/ISSUE_TEMPLATE/feature_request.yml">
name: Solicitar nueva característica ✨
description: Sugiere o propone una nueva funcionalidad para mejorar CertUs Marketplace.
labels: ["enhancement"]
body:
  - type: markdown
    attributes:
      value: |
        ¡Gracias por tu interés en mejorar CertUs! Por favor, completa las siguientes secciones para describir la nueva característica que propones.

  - type: textarea
    id: descripcion
    attributes:
      label: "Descripción de la característica"
      placeholder: "Un botón en la pantalla X que permita hacer Y"
    validations:
      required: true

  - type: textarea
    id: motivacion
    attributes:
      label: "¿Por qué debería implementarse?"
      placeholder: "Permitirá hacer Y, lo cual es necesario para Z"

  - type: textarea
    id: contexto
    attributes:
      label: "Contexto adicional"
      placeholder: "Agrega cualquier otro contexto, ejemplos o capturas de pantalla que ayuden a entender mejor la propuesta."

  - type: dropdown
    id: asignacion
    attributes:
      label: "¿Te gustaría trabajar en esta propuesta?"
      options:
        - "Sí, me gustaría ayudar."
        - "No, solo propongo la idea."

  - type: markdown
    attributes:
      value: |
        ¡Gracias por tu sugerencia! Evaluaremos su viabilidad y utilidad junto al equipo de CertUs.
</file>

<file path=".repomixignore">
# Ignorar imágenes
**/*.svg
**/*.png
**/*.jpg
**/*.jpeg
**/*.gif
**/*.ico
**/*.webp

# Ignorar otros binarios o archivos generados
**/node_modules/**
**/dist/**
**/build/**
**/.git/**
**/.mvn/**
**/target/**
.env*
*.log
*.mp4
*.mov
*.pdf
</file>

<file path="auth-module/.gitattributes">
/mvnw text eol=lf
*.cmd text eol=crlf
</file>

<file path="auth-module/.gitignore">
HELP.md
target/
.mvn/wrapper/maven-wrapper.jar
!**/src/main/**/target/
!**/src/test/**/target/

### STS ###
.apt_generated
.classpath
.factorypath
.project
.settings
.springBeans
.sts4-cache

### IntelliJ IDEA ###
.idea
*.iws
*.iml
*.ipr

### NetBeans ###
/nbproject/private/
/nbbuild/
/dist/
/nbdist/
/.nb-gradle/
build/
!**/src/main/**/build/
!**/src/test/**/build/

### VS Code ###
.vscode/
</file>

<file path="auth-module/mvnw">
#!/bin/sh
# ----------------------------------------------------------------------------
# Licensed to the Apache Software Foundation (ASF) under one
# or more contributor license agreements.  See the NOTICE file
# distributed with this work for additional information
# regarding copyright ownership.  The ASF licenses this file
# to you under the Apache License, Version 2.0 (the
# "License"); you may not use this file except in compliance
# with the License.  You may obtain a copy of the License at
#
#    http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing,
# software distributed under the License is distributed on an
# "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
# KIND, either express or implied.  See the License for the
# specific language governing permissions and limitations
# under the License.
# ----------------------------------------------------------------------------

# ----------------------------------------------------------------------------
# Apache Maven Wrapper startup batch script, version 3.3.2
#
# Optional ENV vars
# -----------------
#   JAVA_HOME - location of a JDK home dir, required when download maven via java source
#   MVNW_REPOURL - repo url base for downloading maven distribution
#   MVNW_USERNAME/MVNW_PASSWORD - user and password for downloading maven
#   MVNW_VERBOSE - true: enable verbose log; debug: trace the mvnw script; others: silence the output
# ----------------------------------------------------------------------------

set -euf
[ "${MVNW_VERBOSE-}" != debug ] || set -x

# OS specific support.
native_path() { printf %s\\n "$1"; }
case "$(uname)" in
CYGWIN* | MINGW*)
  [ -z "${JAVA_HOME-}" ] || JAVA_HOME="$(cygpath --unix "$JAVA_HOME")"
  native_path() { cygpath --path --windows "$1"; }
  ;;
esac

# set JAVACMD and JAVACCMD
set_java_home() {
  # For Cygwin and MinGW, ensure paths are in Unix format before anything is touched
  if [ -n "${JAVA_HOME-}" ]; then
    if [ -x "$JAVA_HOME/jre/sh/java" ]; then
      # IBM's JDK on AIX uses strange locations for the executables
      JAVACMD="$JAVA_HOME/jre/sh/java"
      JAVACCMD="$JAVA_HOME/jre/sh/javac"
    else
      JAVACMD="$JAVA_HOME/bin/java"
      JAVACCMD="$JAVA_HOME/bin/javac"

      if [ ! -x "$JAVACMD" ] || [ ! -x "$JAVACCMD" ]; then
        echo "The JAVA_HOME environment variable is not defined correctly, so mvnw cannot run." >&2
        echo "JAVA_HOME is set to \"$JAVA_HOME\", but \"\$JAVA_HOME/bin/java\" or \"\$JAVA_HOME/bin/javac\" does not exist." >&2
        return 1
      fi
    fi
  else
    JAVACMD="$(
      'set' +e
      'unset' -f command 2>/dev/null
      'command' -v java
    )" || :
    JAVACCMD="$(
      'set' +e
      'unset' -f command 2>/dev/null
      'command' -v javac
    )" || :

    if [ ! -x "${JAVACMD-}" ] || [ ! -x "${JAVACCMD-}" ]; then
      echo "The java/javac command does not exist in PATH nor is JAVA_HOME set, so mvnw cannot run." >&2
      return 1
    fi
  fi
}

# hash string like Java String::hashCode
hash_string() {
  str="${1:-}" h=0
  while [ -n "$str" ]; do
    char="${str%"${str#?}"}"
    h=$(((h * 31 + $(LC_CTYPE=C printf %d "'$char")) % 4294967296))
    str="${str#?}"
  done
  printf %x\\n $h
}

verbose() { :; }
[ "${MVNW_VERBOSE-}" != true ] || verbose() { printf %s\\n "${1-}"; }

die() {
  printf %s\\n "$1" >&2
  exit 1
}

trim() {
  # MWRAPPER-139:
  #   Trims trailing and leading whitespace, carriage returns, tabs, and linefeeds.
  #   Needed for removing poorly interpreted newline sequences when running in more
  #   exotic environments such as mingw bash on Windows.
  printf "%s" "${1}" | tr -d '[:space:]'
}

# parse distributionUrl and optional distributionSha256Sum, requires .mvn/wrapper/maven-wrapper.properties
while IFS="=" read -r key value; do
  case "${key-}" in
  distributionUrl) distributionUrl=$(trim "${value-}") ;;
  distributionSha256Sum) distributionSha256Sum=$(trim "${value-}") ;;
  esac
done <"${0%/*}/.mvn/wrapper/maven-wrapper.properties"
[ -n "${distributionUrl-}" ] || die "cannot read distributionUrl property in ${0%/*}/.mvn/wrapper/maven-wrapper.properties"

case "${distributionUrl##*/}" in
maven-mvnd-*bin.*)
  MVN_CMD=mvnd.sh _MVNW_REPO_PATTERN=/maven/mvnd/
  case "${PROCESSOR_ARCHITECTURE-}${PROCESSOR_ARCHITEW6432-}:$(uname -a)" in
  *AMD64:CYGWIN* | *AMD64:MINGW*) distributionPlatform=windows-amd64 ;;
  :Darwin*x86_64) distributionPlatform=darwin-amd64 ;;
  :Darwin*arm64) distributionPlatform=darwin-aarch64 ;;
  :Linux*x86_64*) distributionPlatform=linux-amd64 ;;
  *)
    echo "Cannot detect native platform for mvnd on $(uname)-$(uname -m), use pure java version" >&2
    distributionPlatform=linux-amd64
    ;;
  esac
  distributionUrl="${distributionUrl%-bin.*}-$distributionPlatform.zip"
  ;;
maven-mvnd-*) MVN_CMD=mvnd.sh _MVNW_REPO_PATTERN=/maven/mvnd/ ;;
*) MVN_CMD="mvn${0##*/mvnw}" _MVNW_REPO_PATTERN=/org/apache/maven/ ;;
esac

# apply MVNW_REPOURL and calculate MAVEN_HOME
# maven home pattern: ~/.m2/wrapper/dists/{apache-maven-<version>,maven-mvnd-<version>-<platform>}/<hash>
[ -z "${MVNW_REPOURL-}" ] || distributionUrl="$MVNW_REPOURL$_MVNW_REPO_PATTERN${distributionUrl#*"$_MVNW_REPO_PATTERN"}"
distributionUrlName="${distributionUrl##*/}"
distributionUrlNameMain="${distributionUrlName%.*}"
distributionUrlNameMain="${distributionUrlNameMain%-bin}"
MAVEN_USER_HOME="${MAVEN_USER_HOME:-${HOME}/.m2}"
MAVEN_HOME="${MAVEN_USER_HOME}/wrapper/dists/${distributionUrlNameMain-}/$(hash_string "$distributionUrl")"

exec_maven() {
  unset MVNW_VERBOSE MVNW_USERNAME MVNW_PASSWORD MVNW_REPOURL || :
  exec "$MAVEN_HOME/bin/$MVN_CMD" "$@" || die "cannot exec $MAVEN_HOME/bin/$MVN_CMD"
}

if [ -d "$MAVEN_HOME" ]; then
  verbose "found existing MAVEN_HOME at $MAVEN_HOME"
  exec_maven "$@"
fi

case "${distributionUrl-}" in
*?-bin.zip | *?maven-mvnd-?*-?*.zip) ;;
*) die "distributionUrl is not valid, must match *-bin.zip or maven-mvnd-*.zip, but found '${distributionUrl-}'" ;;
esac

# prepare tmp dir
if TMP_DOWNLOAD_DIR="$(mktemp -d)" && [ -d "$TMP_DOWNLOAD_DIR" ]; then
  clean() { rm -rf -- "$TMP_DOWNLOAD_DIR"; }
  trap clean HUP INT TERM EXIT
else
  die "cannot create temp dir"
fi

mkdir -p -- "${MAVEN_HOME%/*}"

# Download and Install Apache Maven
verbose "Couldn't find MAVEN_HOME, downloading and installing it ..."
verbose "Downloading from: $distributionUrl"
verbose "Downloading to: $TMP_DOWNLOAD_DIR/$distributionUrlName"

# select .zip or .tar.gz
if ! command -v unzip >/dev/null; then
  distributionUrl="${distributionUrl%.zip}.tar.gz"
  distributionUrlName="${distributionUrl##*/}"
fi

# verbose opt
__MVNW_QUIET_WGET=--quiet __MVNW_QUIET_CURL=--silent __MVNW_QUIET_UNZIP=-q __MVNW_QUIET_TAR=''
[ "${MVNW_VERBOSE-}" != true ] || __MVNW_QUIET_WGET='' __MVNW_QUIET_CURL='' __MVNW_QUIET_UNZIP='' __MVNW_QUIET_TAR=v

# normalize http auth
case "${MVNW_PASSWORD:+has-password}" in
'') MVNW_USERNAME='' MVNW_PASSWORD='' ;;
has-password) [ -n "${MVNW_USERNAME-}" ] || MVNW_USERNAME='' MVNW_PASSWORD='' ;;
esac

if [ -z "${MVNW_USERNAME-}" ] && command -v wget >/dev/null; then
  verbose "Found wget ... using wget"
  wget ${__MVNW_QUIET_WGET:+"$__MVNW_QUIET_WGET"} "$distributionUrl" -O "$TMP_DOWNLOAD_DIR/$distributionUrlName" || die "wget: Failed to fetch $distributionUrl"
elif [ -z "${MVNW_USERNAME-}" ] && command -v curl >/dev/null; then
  verbose "Found curl ... using curl"
  curl ${__MVNW_QUIET_CURL:+"$__MVNW_QUIET_CURL"} -f -L -o "$TMP_DOWNLOAD_DIR/$distributionUrlName" "$distributionUrl" || die "curl: Failed to fetch $distributionUrl"
elif set_java_home; then
  verbose "Falling back to use Java to download"
  javaSource="$TMP_DOWNLOAD_DIR/Downloader.java"
  targetZip="$TMP_DOWNLOAD_DIR/$distributionUrlName"
  cat >"$javaSource" <<-END
	public class Downloader extends java.net.Authenticator
	{
	  protected java.net.PasswordAuthentication getPasswordAuthentication()
	  {
	    return new java.net.PasswordAuthentication( System.getenv( "MVNW_USERNAME" ), System.getenv( "MVNW_PASSWORD" ).toCharArray() );
	  }
	  public static void main( String[] args ) throws Exception
	  {
	    setDefault( new Downloader() );
	    java.nio.file.Files.copy( java.net.URI.create( args[0] ).toURL().openStream(), java.nio.file.Paths.get( args[1] ).toAbsolutePath().normalize() );
	  }
	}
	END
  # For Cygwin/MinGW, switch paths to Windows format before running javac and java
  verbose " - Compiling Downloader.java ..."
  "$(native_path "$JAVACCMD")" "$(native_path "$javaSource")" || die "Failed to compile Downloader.java"
  verbose " - Running Downloader.java ..."
  "$(native_path "$JAVACMD")" -cp "$(native_path "$TMP_DOWNLOAD_DIR")" Downloader "$distributionUrl" "$(native_path "$targetZip")"
fi

# If specified, validate the SHA-256 sum of the Maven distribution zip file
if [ -n "${distributionSha256Sum-}" ]; then
  distributionSha256Result=false
  if [ "$MVN_CMD" = mvnd.sh ]; then
    echo "Checksum validation is not supported for maven-mvnd." >&2
    echo "Please disable validation by removing 'distributionSha256Sum' from your maven-wrapper.properties." >&2
    exit 1
  elif command -v sha256sum >/dev/null; then
    if echo "$distributionSha256Sum  $TMP_DOWNLOAD_DIR/$distributionUrlName" | sha256sum -c >/dev/null 2>&1; then
      distributionSha256Result=true
    fi
  elif command -v shasum >/dev/null; then
    if echo "$distributionSha256Sum  $TMP_DOWNLOAD_DIR/$distributionUrlName" | shasum -a 256 -c >/dev/null 2>&1; then
      distributionSha256Result=true
    fi
  else
    echo "Checksum validation was requested but neither 'sha256sum' or 'shasum' are available." >&2
    echo "Please install either command, or disable validation by removing 'distributionSha256Sum' from your maven-wrapper.properties." >&2
    exit 1
  fi
  if [ $distributionSha256Result = false ]; then
    echo "Error: Failed to validate Maven distribution SHA-256, your Maven distribution might be compromised." >&2
    echo "If you updated your Maven version, you need to update the specified distributionSha256Sum property." >&2
    exit 1
  fi
fi

# unzip and move
if command -v unzip >/dev/null; then
  unzip ${__MVNW_QUIET_UNZIP:+"$__MVNW_QUIET_UNZIP"} "$TMP_DOWNLOAD_DIR/$distributionUrlName" -d "$TMP_DOWNLOAD_DIR" || die "failed to unzip"
else
  tar xzf${__MVNW_QUIET_TAR:+"$__MVNW_QUIET_TAR"} "$TMP_DOWNLOAD_DIR/$distributionUrlName" -C "$TMP_DOWNLOAD_DIR" || die "failed to untar"
fi
printf %s\\n "$distributionUrl" >"$TMP_DOWNLOAD_DIR/$distributionUrlNameMain/mvnw.url"
mv -- "$TMP_DOWNLOAD_DIR/$distributionUrlNameMain" "$MAVEN_HOME" || [ -d "$MAVEN_HOME" ] || die "fail to move MAVEN_HOME"

clean || :
exec_maven "$@"
</file>

<file path="auth-module/mvnw.cmd">
<# : batch portion
@REM ----------------------------------------------------------------------------
@REM Licensed to the Apache Software Foundation (ASF) under one
@REM or more contributor license agreements.  See the NOTICE file
@REM distributed with this work for additional information
@REM regarding copyright ownership.  The ASF licenses this file
@REM to you under the Apache License, Version 2.0 (the
@REM "License"); you may not use this file except in compliance
@REM with the License.  You may obtain a copy of the License at
@REM
@REM    http://www.apache.org/licenses/LICENSE-2.0
@REM
@REM Unless required by applicable law or agreed to in writing,
@REM software distributed under the License is distributed on an
@REM "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
@REM KIND, either express or implied.  See the License for the
@REM specific language governing permissions and limitations
@REM under the License.
@REM ----------------------------------------------------------------------------

@REM ----------------------------------------------------------------------------
@REM Apache Maven Wrapper startup batch script, version 3.3.2
@REM
@REM Optional ENV vars
@REM   MVNW_REPOURL - repo url base for downloading maven distribution
@REM   MVNW_USERNAME/MVNW_PASSWORD - user and password for downloading maven
@REM   MVNW_VERBOSE - true: enable verbose log; others: silence the output
@REM ----------------------------------------------------------------------------

@IF "%__MVNW_ARG0_NAME__%"=="" (SET __MVNW_ARG0_NAME__=%~nx0)
@SET __MVNW_CMD__=
@SET __MVNW_ERROR__=
@SET __MVNW_PSMODULEP_SAVE=%PSModulePath%
@SET PSModulePath=
@FOR /F "usebackq tokens=1* delims==" %%A IN (`powershell -noprofile "& {$scriptDir='%~dp0'; $script='%__MVNW_ARG0_NAME__%'; icm -ScriptBlock ([Scriptblock]::Create((Get-Content -Raw '%~f0'))) -NoNewScope}"`) DO @(
  IF "%%A"=="MVN_CMD" (set __MVNW_CMD__=%%B) ELSE IF "%%B"=="" (echo %%A) ELSE (echo %%A=%%B)
)
@SET PSModulePath=%__MVNW_PSMODULEP_SAVE%
@SET __MVNW_PSMODULEP_SAVE=
@SET __MVNW_ARG0_NAME__=
@SET MVNW_USERNAME=
@SET MVNW_PASSWORD=
@IF NOT "%__MVNW_CMD__%"=="" (%__MVNW_CMD__% %*)
@echo Cannot start maven from wrapper >&2 && exit /b 1
@GOTO :EOF
: end batch / begin powershell #>

$ErrorActionPreference = "Stop"
if ($env:MVNW_VERBOSE -eq "true") {
  $VerbosePreference = "Continue"
}

# calculate distributionUrl, requires .mvn/wrapper/maven-wrapper.properties
$distributionUrl = (Get-Content -Raw "$scriptDir/.mvn/wrapper/maven-wrapper.properties" | ConvertFrom-StringData).distributionUrl
if (!$distributionUrl) {
  Write-Error "cannot read distributionUrl property in $scriptDir/.mvn/wrapper/maven-wrapper.properties"
}

switch -wildcard -casesensitive ( $($distributionUrl -replace '^.*/','') ) {
  "maven-mvnd-*" {
    $USE_MVND = $true
    $distributionUrl = $distributionUrl -replace '-bin\.[^.]*$',"-windows-amd64.zip"
    $MVN_CMD = "mvnd.cmd"
    break
  }
  default {
    $USE_MVND = $false
    $MVN_CMD = $script -replace '^mvnw','mvn'
    break
  }
}

# apply MVNW_REPOURL and calculate MAVEN_HOME
# maven home pattern: ~/.m2/wrapper/dists/{apache-maven-<version>,maven-mvnd-<version>-<platform>}/<hash>
if ($env:MVNW_REPOURL) {
  $MVNW_REPO_PATTERN = if ($USE_MVND) { "/org/apache/maven/" } else { "/maven/mvnd/" }
  $distributionUrl = "$env:MVNW_REPOURL$MVNW_REPO_PATTERN$($distributionUrl -replace '^.*'+$MVNW_REPO_PATTERN,'')"
}
$distributionUrlName = $distributionUrl -replace '^.*/',''
$distributionUrlNameMain = $distributionUrlName -replace '\.[^.]*$','' -replace '-bin$',''
$MAVEN_HOME_PARENT = "$HOME/.m2/wrapper/dists/$distributionUrlNameMain"
if ($env:MAVEN_USER_HOME) {
  $MAVEN_HOME_PARENT = "$env:MAVEN_USER_HOME/wrapper/dists/$distributionUrlNameMain"
}
$MAVEN_HOME_NAME = ([System.Security.Cryptography.MD5]::Create().ComputeHash([byte[]][char[]]$distributionUrl) | ForEach-Object {$_.ToString("x2")}) -join ''
$MAVEN_HOME = "$MAVEN_HOME_PARENT/$MAVEN_HOME_NAME"

if (Test-Path -Path "$MAVEN_HOME" -PathType Container) {
  Write-Verbose "found existing MAVEN_HOME at $MAVEN_HOME"
  Write-Output "MVN_CMD=$MAVEN_HOME/bin/$MVN_CMD"
  exit $?
}

if (! $distributionUrlNameMain -or ($distributionUrlName -eq $distributionUrlNameMain)) {
  Write-Error "distributionUrl is not valid, must end with *-bin.zip, but found $distributionUrl"
}

# prepare tmp dir
$TMP_DOWNLOAD_DIR_HOLDER = New-TemporaryFile
$TMP_DOWNLOAD_DIR = New-Item -Itemtype Directory -Path "$TMP_DOWNLOAD_DIR_HOLDER.dir"
$TMP_DOWNLOAD_DIR_HOLDER.Delete() | Out-Null
trap {
  if ($TMP_DOWNLOAD_DIR.Exists) {
    try { Remove-Item $TMP_DOWNLOAD_DIR -Recurse -Force | Out-Null }
    catch { Write-Warning "Cannot remove $TMP_DOWNLOAD_DIR" }
  }
}

New-Item -Itemtype Directory -Path "$MAVEN_HOME_PARENT" -Force | Out-Null

# Download and Install Apache Maven
Write-Verbose "Couldn't find MAVEN_HOME, downloading and installing it ..."
Write-Verbose "Downloading from: $distributionUrl"
Write-Verbose "Downloading to: $TMP_DOWNLOAD_DIR/$distributionUrlName"

$webclient = New-Object System.Net.WebClient
if ($env:MVNW_USERNAME -and $env:MVNW_PASSWORD) {
  $webclient.Credentials = New-Object System.Net.NetworkCredential($env:MVNW_USERNAME, $env:MVNW_PASSWORD)
}
[Net.ServicePointManager]::SecurityProtocol = [Net.SecurityProtocolType]::Tls12
$webclient.DownloadFile($distributionUrl, "$TMP_DOWNLOAD_DIR/$distributionUrlName") | Out-Null

# If specified, validate the SHA-256 sum of the Maven distribution zip file
$distributionSha256Sum = (Get-Content -Raw "$scriptDir/.mvn/wrapper/maven-wrapper.properties" | ConvertFrom-StringData).distributionSha256Sum
if ($distributionSha256Sum) {
  if ($USE_MVND) {
    Write-Error "Checksum validation is not supported for maven-mvnd. `nPlease disable validation by removing 'distributionSha256Sum' from your maven-wrapper.properties."
  }
  Import-Module $PSHOME\Modules\Microsoft.PowerShell.Utility -Function Get-FileHash
  if ((Get-FileHash "$TMP_DOWNLOAD_DIR/$distributionUrlName" -Algorithm SHA256).Hash.ToLower() -ne $distributionSha256Sum) {
    Write-Error "Error: Failed to validate Maven distribution SHA-256, your Maven distribution might be compromised. If you updated your Maven version, you need to update the specified distributionSha256Sum property."
  }
}

# unzip and move
Expand-Archive "$TMP_DOWNLOAD_DIR/$distributionUrlName" -DestinationPath "$TMP_DOWNLOAD_DIR" | Out-Null
Rename-Item -Path "$TMP_DOWNLOAD_DIR/$distributionUrlNameMain" -NewName $MAVEN_HOME_NAME | Out-Null
try {
  Move-Item -Path "$TMP_DOWNLOAD_DIR/$MAVEN_HOME_NAME" -Destination $MAVEN_HOME_PARENT | Out-Null
} catch {
  if (! (Test-Path -Path "$MAVEN_HOME" -PathType Container)) {
    Write-Error "fail to move MAVEN_HOME"
  }
} finally {
  try { Remove-Item $TMP_DOWNLOAD_DIR -Recurse -Force | Out-Null }
  catch { Write-Warning "Cannot remove $TMP_DOWNLOAD_DIR" }
}

Write-Output "MVN_CMD=$MAVEN_HOME/bin/$MVN_CMD"
</file>

<file path="auth-module/src/main/java/pe/edu/certus/authmodule/AuthModuleApplication.java">
package pe.edu.certus.authmodule;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;

@SpringBootApplication
public class AuthModuleApplication {

    public static void main( String[] args ) {
        SpringApplication.run( AuthModuleApplication.class, args );
    }

}
</file>

<file path="auth-module/src/main/java/pe/edu/certus/authmodule/configuration/annotations/AuthEntityScanConfig.java">
package pe.edu.certus.authmodule.configuration.annotations;

import org.springframework.boot.autoconfigure.domain.EntityScan;
import org.springframework.context.annotation.Configuration;

@Configuration
@EntityScan(basePackages = "pe.edu.certus.authmodule.repository.entity")
public class AuthEntityScanConfig {}
</file>

<file path="auth-module/src/main/java/pe/edu/certus/authmodule/configuration/annotations/AuthPersistenceConfig.java">
package pe.edu.certus.authmodule.configuration.annotations;

import org.springframework.context.annotation.Configuration;
import org.springframework.data.jpa.repository.config.EnableJpaRepositories;

@Configuration
@EnableJpaRepositories(basePackages = "pe.edu.certus.authmodule.repository")
public class AuthPersistenceConfig {}
</file>

<file path="auth-module/src/main/java/pe/edu/certus/authmodule/configuration/annotations/utils/RequestSellerDto.java">
package pe.edu.certus.authmodule.configuration.annotations.utils;

import lombok.Data;

@Data
public class RequestSellerDto {
    private String password;

    private String name;
    private String lastname;
    private String email;
    private String dni;
    private String mobilePhone;
    private String gender;
    private String instituteCampus;
    private String institutionalCareer;
    private Integer institutionalCycle;
}
</file>

<file path="auth-module/src/main/java/pe/edu/certus/authmodule/configuration/annotations/utils/UserRequestController.java">
package pe.edu.certus.authmodule.configuration.annotations.utils;

import org.springframework.http.ResponseEntity;
import org.springframework.security.core.Authentication;
import org.springframework.web.bind.annotation.*;

import java.util.Map;

@RestController
@RequestMapping("/api/v1/users")
public class UserRequestController {

    private final UserRequestService userRequestService;

    public UserRequestController(UserRequestService userRequestService) {
        this.userRequestService = userRequestService;
    }

    @PostMapping("/request-seller-role")
    public ResponseEntity<?> requestSellerRole(@RequestBody RequestSellerDto requestDto) {
        try {
            userRequestService.processNewSellerRequest(requestDto);
            return ResponseEntity.ok(Map.of("message", "Solicitud de vendedor procesada exitosamente. Por favor, inicie sesión."));
        } catch (IllegalArgumentException e) {
            return ResponseEntity.badRequest().body(Map.of("error", e.getMessage()));
        } catch (Exception e) {
            return ResponseEntity.internalServerError().body(Map.of("error", "Ocurrió un error inesperado."));
        }
    }

    @PutMapping("/request-seller-role")
    public ResponseEntity<?> upgradeToSellerRole(Authentication authentication, @RequestBody RequestSellerDto requestDto) {
        try {
            if (authentication == null || !authentication.isAuthenticated()) {
                return ResponseEntity.status(401).body(Map.of("error", "No autenticado."));
            }
            Long userId = Long.parseLong(authentication.getName());
            userRequestService.processExistingUserSellerRequest(userId, requestDto);
            return ResponseEntity.ok(Map.of("message", "Rol actualizado a vendedor. Por favor, vuelva a iniciar sesión para ver los cambios."));
        } catch (IllegalArgumentException e) {
            return ResponseEntity.badRequest().body(Map.of("error", e.getMessage()));
        } catch (Exception e) {
            return ResponseEntity.internalServerError().body(Map.of("error", "Ocurrió un error inesperado."));
        }
    }
}
</file>

<file path="auth-module/src/main/java/pe/edu/certus/authmodule/configuration/annotations/utils/UserRequestService.java">
package pe.edu.certus.authmodule.configuration.annotations.utils;

import org.springframework.security.crypto.password.PasswordEncoder;
import org.springframework.stereotype.Service;
import org.springframework.transaction.annotation.Transactional;
import pe.edu.certus.authmodule.repository.entity.AuthEntity;
import pe.edu.certus.authmodule.repository.ports.driver.ForQueryingAuth;
import pe.edu.certus.peoplemodule.logic.model.PeopleModel;
import pe.edu.certus.peoplemodule.logic.ports.driver.ForPeople;

@Service
public class UserRequestService {

    private final ForQueryingAuth forQueryingAuth;
    private final ForPeople<PeopleModel, Long> forPeople;
    private final PasswordEncoder passwordEncoder;

    // Este constructor es el correcto. Inyecta PasswordEncoder, no SecurityConfig.
    public UserRequestService(ForQueryingAuth forQueryingAuth, ForPeople<PeopleModel, Long> forPeople, PasswordEncoder passwordEncoder) {
        this.forQueryingAuth = forQueryingAuth;
        this.forPeople = forPeople;
        this.passwordEncoder = passwordEncoder;
    }

    @Transactional
    public void processNewSellerRequest( RequestSellerDto dto) {
        if (forQueryingAuth.findByUserEmail(dto.getEmail()).isPresent()) {
            throw new IllegalArgumentException("El correo ya está registrado. Por favor, inicie sesión y solicite el rol desde su perfil.");
        }

        AuthEntity user = new AuthEntity();
        user.setUserEmail(dto.getEmail());
        user.setUserPassword(passwordEncoder.encode(dto.getPassword()));
        user.setIdRole(2L);
        user = forQueryingAuth.save(user);

        createOrUpdatePeopleProfile(user.getId(), dto);
    }

    @Transactional
    public void processExistingUserSellerRequest(Long userId, RequestSellerDto dto) {
        AuthEntity user = forQueryingAuth.findById(userId)
                .orElseThrow(() -> new IllegalArgumentException("Usuario no encontrado."));
        user.setIdRole(2L);
        forQueryingAuth.save(user);

        createOrUpdatePeopleProfile(userId, dto);
    }

    private void createOrUpdatePeopleProfile(Long userId, RequestSellerDto dto) {
        PeopleModel personProfile = PeopleModel.builder()
                .idUser(userId)
                .personName(dto.getName())
                .personLastname(dto.getLastname())
                .personDni(dto.getDni())
                .personMobilePhone(dto.getMobilePhone())
                .personGender(dto.getGender())
                .personInstituteCampus(dto.getInstituteCampus())
                .personInstitutionalEmail(dto.getEmail())
                .personInstitutionalCareer(dto.getInstitutionalCareer())
                .personCurrentTerm(dto.getInstitutionalCycle())
                .build();

        forPeople.updatePeople(personProfile);
    }
}
</file>

<file path="auth-module/src/main/java/pe/edu/certus/authmodule/jwt/ports/ForJwt.java">
package pe.edu.certus.authmodule.jwt.ports;

import com.nimbusds.jose.JOSEException;
import com.nimbusds.jwt.JWTClaimsSet;

import java.io.IOException;
import java.security.NoSuchAlgorithmException;
import java.security.spec.InvalidKeySpecException;
import java.text.ParseException;

public interface ForJwt {
    String generateJWT(Long subject) throws JOSEException, IOException, NoSuchAlgorithmException, InvalidKeySpecException;

    JWTClaimsSet parseJWT(String jwt) throws ParseException, JOSEException, IOException;
}
</file>

<file path="auth-module/src/main/java/pe/edu/certus/authmodule/logic/adapters/driver/ResponseWebModel.java">
package pe.edu.certus.authmodule.logic.adapters.driver;

import lombok.Getter;
import lombok.Setter;

@Getter
@Setter
public class ResponseWebModel {
    private int numOfErrors;
    private String message;
}
</file>

<file path="auth-module/src/main/java/pe/edu/certus/authmodule/logic/model/LoginRequest.java">
package pe.edu.certus.authmodule.logic.model;

import lombok.Data;

@Data
public class LoginRequest {
    private String email;
    private String password;
}
</file>

<file path="auth-module/src/main/java/pe/edu/certus/authmodule/logic/model/RegisterRequest.java">
package pe.edu.certus.authmodule.logic.model;

import lombok.Data;

@Data
public class RegisterRequest {
    private String email;
    private String password;
    private String name;
    private String lastname;
}
</file>

<file path="auth-module/src/main/java/pe/edu/certus/authmodule/logic/ports/driven/ForVerifyingGoogleToken.java">
package pe.edu.certus.authmodule.logic.ports.driven;

import com.google.api.client.googleapis.auth.oauth2.GoogleIdToken;

import java.io.IOException;
import java.security.GeneralSecurityException;

public interface ForVerifyingGoogleToken {
    GoogleIdToken.Payload verifyGoogleToken(String idTokenString) throws GeneralSecurityException, IOException;
}
</file>

<file path="auth-module/src/main/java/pe/edu/certus/authmodule/logic/ports/driver/ForGoogleAuth.java">
package pe.edu.certus.authmodule.logic.ports.driver;

import java.util.HashMap;

public interface ForGoogleAuth {
    HashMap<String, String> loginWithGoogle(String idToken) throws Exception;
}
</file>

<file path="auth-module/src/main/java/pe/edu/certus/authmodule/logic/ports/driver/ForLogin.java">
package pe.edu.certus.authmodule.logic.ports.driver;

import pe.edu.certus.authmodule.logic.model.LoginRequest;

public interface ForLogin {
    String login( LoginRequest request);
}
</file>

<file path="auth-module/src/main/java/pe/edu/certus/authmodule/logic/ports/driver/ForRegister.java">
package pe.edu.certus.authmodule.logic.ports.driver;

import pe.edu.certus.authmodule.logic.model.RegisterRequest;

public interface ForRegister {
    void register( RegisterRequest request);
}
</file>

<file path="auth-module/src/main/java/pe/edu/certus/authmodule/repository/adapters/driver/GoogleTokenVerifierProxy.java">
package pe.edu.certus.authmodule.repository.adapters.driver;

import com.google.api.client.googleapis.auth.oauth2.GoogleIdToken;
import com.google.api.client.googleapis.auth.oauth2.GoogleIdTokenVerifier;
import com.google.api.client.http.javanet.NetHttpTransport;
import com.google.api.client.json.gson.GsonFactory;
import org.springframework.beans.factory.annotation.Value;
import org.springframework.stereotype.Component;
import pe.edu.certus.authmodule.logic.ports.driven.ForVerifyingGoogleToken;

import java.io.IOException;
import java.security.GeneralSecurityException;
import java.util.Collections;

@Component
public class GoogleTokenVerifierProxy implements ForVerifyingGoogleToken {

    private final GoogleIdTokenVerifier verifier;


    public GoogleTokenVerifierProxy(@Value("${google.client-id}") String clientId) {
        this.verifier = new GoogleIdTokenVerifier.Builder(new NetHttpTransport(), GsonFactory.getDefaultInstance())
                .setAudience(Collections.singletonList(clientId))
                .build();
    }

    @Override
    public GoogleIdToken.Payload verifyGoogleToken(String idTokenString) throws GeneralSecurityException, IOException {
        GoogleIdToken idToken = verifier.verify(idTokenString);
        if (idToken != null) {
            return idToken.getPayload();
        } else {
            throw new IllegalArgumentException("Invalid Google ID token.");
        }
    }
}
</file>

<file path="auth-module/src/main/java/pe/edu/certus/authmodule/repository/entity/AuthEntity.java">
package pe.edu.certus.authmodule.repository.entity;

import jakarta.persistence.*;
import lombok.Getter;
import lombok.NoArgsConstructor;
import lombok.Setter;

@Entity
@Table(name = "users")
@NoArgsConstructor
@Getter
@Setter
public class AuthEntity {

    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    @Column(name = "user_id")
    private Long id;

    @Column(name = "user_email", unique = true, nullable = false)
    private String userEmail;
    
    @Column(name = "user_password", nullable = false)
    private String userPassword;

    @Column(name = "id_role")
    private Long idRole;

}
</file>

<file path="auth-module/src/main/java/pe/edu/certus/authmodule/repository/ports/driver/ForQueryingAuth.java">
package pe.edu.certus.authmodule.repository.ports.driver;

import org.springframework.data.jpa.repository.JpaRepository;
import pe.edu.certus.authmodule.repository.entity.AuthEntity;

import java.util.Optional;

public interface ForQueryingAuth extends JpaRepository<AuthEntity, Long> {
    Optional<AuthEntity> findByUserEmail(String userEmail);
}
</file>

<file path="auth-module/src/main/resources/jwt-keys/public-key.pem">
-----BEGIN PUBLIC KEY-----
MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAmfeSc0NQPq5wUobTRcME
jRHlOVKl/NtUAgdPI9RruQJ4RBC12YFx2C9lS713M73AZRbUF1M5K/sGF8qSbo0E
eaJs3DeT43CkM0Of+CU09v0OF0d5675yc55vwlN9Sqgus2Uq6QqNUIS1F9ZXR3j3
iBl/1y5Q7jHp7cOFe6rWGeTA1oSsVPLGCvM9XZz+em0y19Hvm0rEmUYa6uq8L4cQ
XQuevV3mgl6DgIU9Rcf1APeQUVN/qez1uOfFwDqHKHvsAgVe/T+Gm7DDPIse/4yP
8mUU7kig5vME2YcPc8iCwKGqLE3yYOLQZYFWzj3xbg4xq0otA3UrWvYOV2pm6mMd
/QIDAQAB
-----END PUBLIC KEY-----
</file>

<file path="bootloader/.gitattributes">
/mvnw text eol=lf
*.cmd text eol=crlf
</file>

<file path="bootloader/.gitignore">
HELP.md
target/
!.mvn/wrapper/maven-wrapper.jar
!**/src/main/**/target/
!**/src/test/**/target/

### STS ###
.apt_generated
.classpath
.factorypath
.project
.settings
.springBeans
.sts4-cache

### IntelliJ IDEA ###
.idea
*.iws
*.iml
*.ipr

### NetBeans ###
/nbproject/private/
/nbbuild/
/dist/
/nbdist/
/.nb-gradle/
build/
!**/src/main/**/build/
!**/src/test/**/build/

### VS Code ###
.vscode/
</file>

<file path="bootloader/mvnw">
#!/bin/sh
# ----------------------------------------------------------------------------
# Licensed to the Apache Software Foundation (ASF) under one
# or more contributor license agreements.  See the NOTICE file
# distributed with this work for additional information
# regarding copyright ownership.  The ASF licenses this file
# to you under the Apache License, Version 2.0 (the
# "License"); you may not use this file except in compliance
# with the License.  You may obtain a copy of the License at
#
#    http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing,
# software distributed under the License is distributed on an
# "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
# KIND, either express or implied.  See the License for the
# specific language governing permissions and limitations
# under the License.
# ----------------------------------------------------------------------------

# ----------------------------------------------------------------------------
# Apache Maven Wrapper startup batch script, version 3.3.2
#
# Optional ENV vars
# -----------------
#   JAVA_HOME - location of a JDK home dir, required when download maven via java source
#   MVNW_REPOURL - repo url base for downloading maven distribution
#   MVNW_USERNAME/MVNW_PASSWORD - user and password for downloading maven
#   MVNW_VERBOSE - true: enable verbose log; debug: trace the mvnw script; others: silence the output
# ----------------------------------------------------------------------------

set -euf
[ "${MVNW_VERBOSE-}" != debug ] || set -x

# OS specific support.
native_path() { printf %s\\n "$1"; }
case "$(uname)" in
CYGWIN* | MINGW*)
  [ -z "${JAVA_HOME-}" ] || JAVA_HOME="$(cygpath --unix "$JAVA_HOME")"
  native_path() { cygpath --path --windows "$1"; }
  ;;
esac

# set JAVACMD and JAVACCMD
set_java_home() {
  # For Cygwin and MinGW, ensure paths are in Unix format before anything is touched
  if [ -n "${JAVA_HOME-}" ]; then
    if [ -x "$JAVA_HOME/jre/sh/java" ]; then
      # IBM's JDK on AIX uses strange locations for the executables
      JAVACMD="$JAVA_HOME/jre/sh/java"
      JAVACCMD="$JAVA_HOME/jre/sh/javac"
    else
      JAVACMD="$JAVA_HOME/bin/java"
      JAVACCMD="$JAVA_HOME/bin/javac"

      if [ ! -x "$JAVACMD" ] || [ ! -x "$JAVACCMD" ]; then
        echo "The JAVA_HOME environment variable is not defined correctly, so mvnw cannot run." >&2
        echo "JAVA_HOME is set to \"$JAVA_HOME\", but \"\$JAVA_HOME/bin/java\" or \"\$JAVA_HOME/bin/javac\" does not exist." >&2
        return 1
      fi
    fi
  else
    JAVACMD="$(
      'set' +e
      'unset' -f command 2>/dev/null
      'command' -v java
    )" || :
    JAVACCMD="$(
      'set' +e
      'unset' -f command 2>/dev/null
      'command' -v javac
    )" || :

    if [ ! -x "${JAVACMD-}" ] || [ ! -x "${JAVACCMD-}" ]; then
      echo "The java/javac command does not exist in PATH nor is JAVA_HOME set, so mvnw cannot run." >&2
      return 1
    fi
  fi
}

# hash string like Java String::hashCode
hash_string() {
  str="${1:-}" h=0
  while [ -n "$str" ]; do
    char="${str%"${str#?}"}"
    h=$(((h * 31 + $(LC_CTYPE=C printf %d "'$char")) % 4294967296))
    str="${str#?}"
  done
  printf %x\\n $h
}

verbose() { :; }
[ "${MVNW_VERBOSE-}" != true ] || verbose() { printf %s\\n "${1-}"; }

die() {
  printf %s\\n "$1" >&2
  exit 1
}

trim() {
  # MWRAPPER-139:
  #   Trims trailing and leading whitespace, carriage returns, tabs, and linefeeds.
  #   Needed for removing poorly interpreted newline sequences when running in more
  #   exotic environments such as mingw bash on Windows.
  printf "%s" "${1}" | tr -d '[:space:]'
}

# parse distributionUrl and optional distributionSha256Sum, requires .mvn/wrapper/maven-wrapper.properties
while IFS="=" read -r key value; do
  case "${key-}" in
  distributionUrl) distributionUrl=$(trim "${value-}") ;;
  distributionSha256Sum) distributionSha256Sum=$(trim "${value-}") ;;
  esac
done <"${0%/*}/.mvn/wrapper/maven-wrapper.properties"
[ -n "${distributionUrl-}" ] || die "cannot read distributionUrl property in ${0%/*}/.mvn/wrapper/maven-wrapper.properties"

case "${distributionUrl##*/}" in
maven-mvnd-*bin.*)
  MVN_CMD=mvnd.sh _MVNW_REPO_PATTERN=/maven/mvnd/
  case "${PROCESSOR_ARCHITECTURE-}${PROCESSOR_ARCHITEW6432-}:$(uname -a)" in
  *AMD64:CYGWIN* | *AMD64:MINGW*) distributionPlatform=windows-amd64 ;;
  :Darwin*x86_64) distributionPlatform=darwin-amd64 ;;
  :Darwin*arm64) distributionPlatform=darwin-aarch64 ;;
  :Linux*x86_64*) distributionPlatform=linux-amd64 ;;
  *)
    echo "Cannot detect native platform for mvnd on $(uname)-$(uname -m), use pure java version" >&2
    distributionPlatform=linux-amd64
    ;;
  esac
  distributionUrl="${distributionUrl%-bin.*}-$distributionPlatform.zip"
  ;;
maven-mvnd-*) MVN_CMD=mvnd.sh _MVNW_REPO_PATTERN=/maven/mvnd/ ;;
*) MVN_CMD="mvn${0##*/mvnw}" _MVNW_REPO_PATTERN=/org/apache/maven/ ;;
esac

# apply MVNW_REPOURL and calculate MAVEN_HOME
# maven home pattern: ~/.m2/wrapper/dists/{apache-maven-<version>,maven-mvnd-<version>-<platform>}/<hash>
[ -z "${MVNW_REPOURL-}" ] || distributionUrl="$MVNW_REPOURL$_MVNW_REPO_PATTERN${distributionUrl#*"$_MVNW_REPO_PATTERN"}"
distributionUrlName="${distributionUrl##*/}"
distributionUrlNameMain="${distributionUrlName%.*}"
distributionUrlNameMain="${distributionUrlNameMain%-bin}"
MAVEN_USER_HOME="${MAVEN_USER_HOME:-${HOME}/.m2}"
MAVEN_HOME="${MAVEN_USER_HOME}/wrapper/dists/${distributionUrlNameMain-}/$(hash_string "$distributionUrl")"

exec_maven() {
  unset MVNW_VERBOSE MVNW_USERNAME MVNW_PASSWORD MVNW_REPOURL || :
  exec "$MAVEN_HOME/bin/$MVN_CMD" "$@" || die "cannot exec $MAVEN_HOME/bin/$MVN_CMD"
}

if [ -d "$MAVEN_HOME" ]; then
  verbose "found existing MAVEN_HOME at $MAVEN_HOME"
  exec_maven "$@"
fi

case "${distributionUrl-}" in
*?-bin.zip | *?maven-mvnd-?*-?*.zip) ;;
*) die "distributionUrl is not valid, must match *-bin.zip or maven-mvnd-*.zip, but found '${distributionUrl-}'" ;;
esac

# prepare tmp dir
if TMP_DOWNLOAD_DIR="$(mktemp -d)" && [ -d "$TMP_DOWNLOAD_DIR" ]; then
  clean() { rm -rf -- "$TMP_DOWNLOAD_DIR"; }
  trap clean HUP INT TERM EXIT
else
  die "cannot create temp dir"
fi

mkdir -p -- "${MAVEN_HOME%/*}"

# Download and Install Apache Maven
verbose "Couldn't find MAVEN_HOME, downloading and installing it ..."
verbose "Downloading from: $distributionUrl"
verbose "Downloading to: $TMP_DOWNLOAD_DIR/$distributionUrlName"

# select .zip or .tar.gz
if ! command -v unzip >/dev/null; then
  distributionUrl="${distributionUrl%.zip}.tar.gz"
  distributionUrlName="${distributionUrl##*/}"
fi

# verbose opt
__MVNW_QUIET_WGET=--quiet __MVNW_QUIET_CURL=--silent __MVNW_QUIET_UNZIP=-q __MVNW_QUIET_TAR=''
[ "${MVNW_VERBOSE-}" != true ] || __MVNW_QUIET_WGET='' __MVNW_QUIET_CURL='' __MVNW_QUIET_UNZIP='' __MVNW_QUIET_TAR=v

# normalize http auth
case "${MVNW_PASSWORD:+has-password}" in
'') MVNW_USERNAME='' MVNW_PASSWORD='' ;;
has-password) [ -n "${MVNW_USERNAME-}" ] || MVNW_USERNAME='' MVNW_PASSWORD='' ;;
esac

if [ -z "${MVNW_USERNAME-}" ] && command -v wget >/dev/null; then
  verbose "Found wget ... using wget"
  wget ${__MVNW_QUIET_WGET:+"$__MVNW_QUIET_WGET"} "$distributionUrl" -O "$TMP_DOWNLOAD_DIR/$distributionUrlName" || die "wget: Failed to fetch $distributionUrl"
elif [ -z "${MVNW_USERNAME-}" ] && command -v curl >/dev/null; then
  verbose "Found curl ... using curl"
  curl ${__MVNW_QUIET_CURL:+"$__MVNW_QUIET_CURL"} -f -L -o "$TMP_DOWNLOAD_DIR/$distributionUrlName" "$distributionUrl" || die "curl: Failed to fetch $distributionUrl"
elif set_java_home; then
  verbose "Falling back to use Java to download"
  javaSource="$TMP_DOWNLOAD_DIR/Downloader.java"
  targetZip="$TMP_DOWNLOAD_DIR/$distributionUrlName"
  cat >"$javaSource" <<-END
	public class Downloader extends java.net.Authenticator
	{
	  protected java.net.PasswordAuthentication getPasswordAuthentication()
	  {
	    return new java.net.PasswordAuthentication( System.getenv( "MVNW_USERNAME" ), System.getenv( "MVNW_PASSWORD" ).toCharArray() );
	  }
	  public static void main( String[] args ) throws Exception
	  {
	    setDefault( new Downloader() );
	    java.nio.file.Files.copy( java.net.URI.create( args[0] ).toURL().openStream(), java.nio.file.Paths.get( args[1] ).toAbsolutePath().normalize() );
	  }
	}
	END
  # For Cygwin/MinGW, switch paths to Windows format before running javac and java
  verbose " - Compiling Downloader.java ..."
  "$(native_path "$JAVACCMD")" "$(native_path "$javaSource")" || die "Failed to compile Downloader.java"
  verbose " - Running Downloader.java ..."
  "$(native_path "$JAVACMD")" -cp "$(native_path "$TMP_DOWNLOAD_DIR")" Downloader "$distributionUrl" "$(native_path "$targetZip")"
fi

# If specified, validate the SHA-256 sum of the Maven distribution zip file
if [ -n "${distributionSha256Sum-}" ]; then
  distributionSha256Result=false
  if [ "$MVN_CMD" = mvnd.sh ]; then
    echo "Checksum validation is not supported for maven-mvnd." >&2
    echo "Please disable validation by removing 'distributionSha256Sum' from your maven-wrapper.properties." >&2
    exit 1
  elif command -v sha256sum >/dev/null; then
    if echo "$distributionSha256Sum  $TMP_DOWNLOAD_DIR/$distributionUrlName" | sha256sum -c >/dev/null 2>&1; then
      distributionSha256Result=true
    fi
  elif command -v shasum >/dev/null; then
    if echo "$distributionSha256Sum  $TMP_DOWNLOAD_DIR/$distributionUrlName" | shasum -a 256 -c >/dev/null 2>&1; then
      distributionSha256Result=true
    fi
  else
    echo "Checksum validation was requested but neither 'sha256sum' or 'shasum' are available." >&2
    echo "Please install either command, or disable validation by removing 'distributionSha256Sum' from your maven-wrapper.properties." >&2
    exit 1
  fi
  if [ $distributionSha256Result = false ]; then
    echo "Error: Failed to validate Maven distribution SHA-256, your Maven distribution might be compromised." >&2
    echo "If you updated your Maven version, you need to update the specified distributionSha256Sum property." >&2
    exit 1
  fi
fi

# unzip and move
if command -v unzip >/dev/null; then
  unzip ${__MVNW_QUIET_UNZIP:+"$__MVNW_QUIET_UNZIP"} "$TMP_DOWNLOAD_DIR/$distributionUrlName" -d "$TMP_DOWNLOAD_DIR" || die "failed to unzip"
else
  tar xzf${__MVNW_QUIET_TAR:+"$__MVNW_QUIET_TAR"} "$TMP_DOWNLOAD_DIR/$distributionUrlName" -C "$TMP_DOWNLOAD_DIR" || die "failed to untar"
fi
printf %s\\n "$distributionUrl" >"$TMP_DOWNLOAD_DIR/$distributionUrlNameMain/mvnw.url"
mv -- "$TMP_DOWNLOAD_DIR/$distributionUrlNameMain" "$MAVEN_HOME" || [ -d "$MAVEN_HOME" ] || die "fail to move MAVEN_HOME"

clean || :
exec_maven "$@"
</file>

<file path="bootloader/mvnw.cmd">
<# : batch portion
@REM ----------------------------------------------------------------------------
@REM Licensed to the Apache Software Foundation (ASF) under one
@REM or more contributor license agreements.  See the NOTICE file
@REM distributed with this work for additional information
@REM regarding copyright ownership.  The ASF licenses this file
@REM to you under the Apache License, Version 2.0 (the
@REM "License"); you may not use this file except in compliance
@REM with the License.  You may obtain a copy of the License at
@REM
@REM    http://www.apache.org/licenses/LICENSE-2.0
@REM
@REM Unless required by applicable law or agreed to in writing,
@REM software distributed under the License is distributed on an
@REM "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
@REM KIND, either express or implied.  See the License for the
@REM specific language governing permissions and limitations
@REM under the License.
@REM ----------------------------------------------------------------------------

@REM ----------------------------------------------------------------------------
@REM Apache Maven Wrapper startup batch script, version 3.3.2
@REM
@REM Optional ENV vars
@REM   MVNW_REPOURL - repo url base for downloading maven distribution
@REM   MVNW_USERNAME/MVNW_PASSWORD - user and password for downloading maven
@REM   MVNW_VERBOSE - true: enable verbose log; others: silence the output
@REM ----------------------------------------------------------------------------

@IF "%__MVNW_ARG0_NAME__%"=="" (SET __MVNW_ARG0_NAME__=%~nx0)
@SET __MVNW_CMD__=
@SET __MVNW_ERROR__=
@SET __MVNW_PSMODULEP_SAVE=%PSModulePath%
@SET PSModulePath=
@FOR /F "usebackq tokens=1* delims==" %%A IN (`powershell -noprofile "& {$scriptDir='%~dp0'; $script='%__MVNW_ARG0_NAME__%'; icm -ScriptBlock ([Scriptblock]::Create((Get-Content -Raw '%~f0'))) -NoNewScope}"`) DO @(
  IF "%%A"=="MVN_CMD" (set __MVNW_CMD__=%%B) ELSE IF "%%B"=="" (echo %%A) ELSE (echo %%A=%%B)
)
@SET PSModulePath=%__MVNW_PSMODULEP_SAVE%
@SET __MVNW_PSMODULEP_SAVE=
@SET __MVNW_ARG0_NAME__=
@SET MVNW_USERNAME=
@SET MVNW_PASSWORD=
@IF NOT "%__MVNW_CMD__%"=="" (%__MVNW_CMD__% %*)
@echo Cannot start maven from wrapper >&2 && exit /b 1
@GOTO :EOF
: end batch / begin powershell #>

$ErrorActionPreference = "Stop"
if ($env:MVNW_VERBOSE -eq "true") {
  $VerbosePreference = "Continue"
}

# calculate distributionUrl, requires .mvn/wrapper/maven-wrapper.properties
$distributionUrl = (Get-Content -Raw "$scriptDir/.mvn/wrapper/maven-wrapper.properties" | ConvertFrom-StringData).distributionUrl
if (!$distributionUrl) {
  Write-Error "cannot read distributionUrl property in $scriptDir/.mvn/wrapper/maven-wrapper.properties"
}

switch -wildcard -casesensitive ( $($distributionUrl -replace '^.*/','') ) {
  "maven-mvnd-*" {
    $USE_MVND = $true
    $distributionUrl = $distributionUrl -replace '-bin\.[^.]*$',"-windows-amd64.zip"
    $MVN_CMD = "mvnd.cmd"
    break
  }
  default {
    $USE_MVND = $false
    $MVN_CMD = $script -replace '^mvnw','mvn'
    break
  }
}

# apply MVNW_REPOURL and calculate MAVEN_HOME
# maven home pattern: ~/.m2/wrapper/dists/{apache-maven-<version>,maven-mvnd-<version>-<platform>}/<hash>
if ($env:MVNW_REPOURL) {
  $MVNW_REPO_PATTERN = if ($USE_MVND) { "/org/apache/maven/" } else { "/maven/mvnd/" }
  $distributionUrl = "$env:MVNW_REPOURL$MVNW_REPO_PATTERN$($distributionUrl -replace '^.*'+$MVNW_REPO_PATTERN,'')"
}
$distributionUrlName = $distributionUrl -replace '^.*/',''
$distributionUrlNameMain = $distributionUrlName -replace '\.[^.]*$','' -replace '-bin$',''
$MAVEN_HOME_PARENT = "$HOME/.m2/wrapper/dists/$distributionUrlNameMain"
if ($env:MAVEN_USER_HOME) {
  $MAVEN_HOME_PARENT = "$env:MAVEN_USER_HOME/wrapper/dists/$distributionUrlNameMain"
}
$MAVEN_HOME_NAME = ([System.Security.Cryptography.MD5]::Create().ComputeHash([byte[]][char[]]$distributionUrl) | ForEach-Object {$_.ToString("x2")}) -join ''
$MAVEN_HOME = "$MAVEN_HOME_PARENT/$MAVEN_HOME_NAME"

if (Test-Path -Path "$MAVEN_HOME" -PathType Container) {
  Write-Verbose "found existing MAVEN_HOME at $MAVEN_HOME"
  Write-Output "MVN_CMD=$MAVEN_HOME/bin/$MVN_CMD"
  exit $?
}

if (! $distributionUrlNameMain -or ($distributionUrlName -eq $distributionUrlNameMain)) {
  Write-Error "distributionUrl is not valid, must end with *-bin.zip, but found $distributionUrl"
}

# prepare tmp dir
$TMP_DOWNLOAD_DIR_HOLDER = New-TemporaryFile
$TMP_DOWNLOAD_DIR = New-Item -Itemtype Directory -Path "$TMP_DOWNLOAD_DIR_HOLDER.dir"
$TMP_DOWNLOAD_DIR_HOLDER.Delete() | Out-Null
trap {
  if ($TMP_DOWNLOAD_DIR.Exists) {
    try { Remove-Item $TMP_DOWNLOAD_DIR -Recurse -Force | Out-Null }
    catch { Write-Warning "Cannot remove $TMP_DOWNLOAD_DIR" }
  }
}

New-Item -Itemtype Directory -Path "$MAVEN_HOME_PARENT" -Force | Out-Null

# Download and Install Apache Maven
Write-Verbose "Couldn't find MAVEN_HOME, downloading and installing it ..."
Write-Verbose "Downloading from: $distributionUrl"
Write-Verbose "Downloading to: $TMP_DOWNLOAD_DIR/$distributionUrlName"

$webclient = New-Object System.Net.WebClient
if ($env:MVNW_USERNAME -and $env:MVNW_PASSWORD) {
  $webclient.Credentials = New-Object System.Net.NetworkCredential($env:MVNW_USERNAME, $env:MVNW_PASSWORD)
}
[Net.ServicePointManager]::SecurityProtocol = [Net.SecurityProtocolType]::Tls12
$webclient.DownloadFile($distributionUrl, "$TMP_DOWNLOAD_DIR/$distributionUrlName") | Out-Null

# If specified, validate the SHA-256 sum of the Maven distribution zip file
$distributionSha256Sum = (Get-Content -Raw "$scriptDir/.mvn/wrapper/maven-wrapper.properties" | ConvertFrom-StringData).distributionSha256Sum
if ($distributionSha256Sum) {
  if ($USE_MVND) {
    Write-Error "Checksum validation is not supported for maven-mvnd. `nPlease disable validation by removing 'distributionSha256Sum' from your maven-wrapper.properties."
  }
  Import-Module $PSHOME\Modules\Microsoft.PowerShell.Utility -Function Get-FileHash
  if ((Get-FileHash "$TMP_DOWNLOAD_DIR/$distributionUrlName" -Algorithm SHA256).Hash.ToLower() -ne $distributionSha256Sum) {
    Write-Error "Error: Failed to validate Maven distribution SHA-256, your Maven distribution might be compromised. If you updated your Maven version, you need to update the specified distributionSha256Sum property."
  }
}

# unzip and move
Expand-Archive "$TMP_DOWNLOAD_DIR/$distributionUrlName" -DestinationPath "$TMP_DOWNLOAD_DIR" | Out-Null
Rename-Item -Path "$TMP_DOWNLOAD_DIR/$distributionUrlNameMain" -NewName $MAVEN_HOME_NAME | Out-Null
try {
  Move-Item -Path "$TMP_DOWNLOAD_DIR/$MAVEN_HOME_NAME" -Destination $MAVEN_HOME_PARENT | Out-Null
} catch {
  if (! (Test-Path -Path "$MAVEN_HOME" -PathType Container)) {
    Write-Error "fail to move MAVEN_HOME"
  }
} finally {
  try { Remove-Item $TMP_DOWNLOAD_DIR -Recurse -Force | Out-Null }
  catch { Write-Warning "Cannot remove $TMP_DOWNLOAD_DIR" }
}

Write-Output "MVN_CMD=$MAVEN_HOME/bin/$MVN_CMD"
</file>

<file path="bootloader/src/main/java/pe/edu/certus/bootloader/BootloaderApplication.java">
package pe.edu.certus.bootloader;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;

@SpringBootApplication( scanBasePackages = "pe.edu.certus")
public class BootloaderApplication {

    public static void main( String[] args ) {
        SpringApplication.run( BootloaderApplication.class, args );
    }

}
</file>

<file path="bootloader/src/main/java/pe/edu/certus/bootloader/Main.java">
package pe.edu.certus.bootloader;

public class Main {
	public static void main(String[] args) {
		System.out.println("Hello, World!");
	}
}
</file>

<file path="bootloader/src/main/resources/banner.txt">
________  _______   ________  _________  ___  ___  ________           ________  ________  ________  ___  __    _______   ________   ________
|\   ____\|\  ___ \ |\   __  \|\___   ___\\  \|\  \|\   ____\         |\   __  \|\   __  \|\   ____\|\  \|\  \ |\  ___ \ |\   ___  \|\   ___ \
\ \  \___|\ \   __/|\ \  \|\  \|___ \  \_\ \  \\\  \ \  \___|_        \ \  \|\ /\ \  \|\  \ \  \___|\ \  \/  /|\ \   __/|\ \  \\ \  \ \  \_|\ \
 \ \  \    \ \  \_|/_\ \   _  _\   \ \  \ \ \  \\\  \ \_____  \        \ \   __  \ \   __  \ \  \    \ \   ___  \ \  \_|/_\ \  \\ \  \ \  \ \\ \
  \ \  \____\ \  \_|\ \ \  \\  \|   \ \  \ \ \  \\\  \|____|\  \        \ \  \|\  \ \  \ \  \ \  \____\ \  \\ \  \ \  \_|\ \ \  \\ \  \ \  \_\\ \
   \ \_______\ \_______\ \__\\ _\    \ \__\ \ \_______\____\_\  \        \ \_______\ \__\ \__\ \_______\ \__\\ \__\ \_______\ \__\\ \__\ \_______\
    \|_______|\|_______|\|__|\|__|    \|__|  \|_______|\_________\        \|_______|\|__|\|__|\|_______|\|__| \|__|\|_______|\|__| \|__|\|_______|
                                                      \|_________|
</file>

<file path="LICENSE">
Apache License
                           Version 2.0, January 2004
                        http://www.apache.org/licenses/

   TERMS AND CONDITIONS FOR USE, REPRODUCTION, AND DISTRIBUTION

   1. Definitions.

      "License" shall mean the terms and conditions for use, reproduction,
      and distribution as defined by Sections 1 through 9 of this document.

      "Licensor" shall mean the copyright owner or entity authorized by
      the copyright owner that is granting the License.

      "Legal Entity" shall mean the union of the acting entity and all
      other entities that control, are controlled by, or are under common
      control with that entity. For the purposes of this definition,
      "control" means (i) the power, direct or indirect, to cause the
      direction or management of such entity, whether by contract or
      otherwise, or (ii) ownership of fifty percent (50%) or more of the
      outstanding shares, or (iii) beneficial ownership of such entity.

      "You" (or "Your") shall mean an individual or Legal Entity
      exercising permissions granted by this License.

      "Source" form shall mean the preferred form for making modifications,
      including but not limited to software source code, documentation
      source, and configuration files.

      "Object" form shall mean any form resulting from mechanical
      transformation or translation of a Source form, including but
      not limited to compiled object code, generated documentation,
      and conversions to other media types.

      "Work" shall mean the work of authorship, whether in Source or
      Object form, made available under the License, as indicated by a
      copyright notice that is included in or attached to the work
      (an example is provided in the Appendix below).

      "Derivative Works" shall mean any work, whether in Source or Object
      form, that is based on (or derived from) the Work and for which the
      editorial revisions, annotations, elaborations, or other modifications
      represent, as a whole, an original work of authorship. For the purposes
      of this License, Derivative Works shall not include works that remain
      separable from, or merely link (or bind by name) to the interfaces of,
      the Work and Derivative Works thereof.

      "Contribution" shall mean any work of authorship, including
      the original version of the Work and any modifications or additions
      to that Work or Derivative Works thereof, that is intentionally
      submitted to Licensor for inclusion in the Work by the copyright owner
      or by an individual or Legal Entity authorized to submit on behalf of
      the copyright owner. For the purposes of this definition, "submitted"
      means any form of electronic, verbal, or written communication sent
      to the Licensor or its representatives, including but not limited to
      communication on electronic mailing lists, source code control systems,
      and issue tracking systems that are managed by, or on behalf of, the
      Licensor for the purpose of discussing and improving the Work, but
      excluding communication that is conspicuously marked or otherwise
      designated in writing by the copyright owner as "Not a Contribution."

      "Contributor" shall mean Licensor and any individual or Legal Entity
      on behalf of whom a Contribution has been received by Licensor and
      subsequently incorporated within the Work.

   2. Grant of Copyright License. Subject to the terms and conditions of
      this License, each Contributor hereby grants to You a perpetual,
      worldwide, non-exclusive, no-charge, royalty-free, irrevocable
      copyright license to reproduce, prepare Derivative Works of,
      publicly display, publicly perform, sublicense, and distribute the
      Work and such Derivative Works in Source or Object form.

   3. Grant of Patent License. Subject to the terms and conditions of
      this License, each Contributor hereby grants to You a perpetual,
      worldwide, non-exclusive, no-charge, royalty-free, irrevocable
      (except as stated in this section) patent license to make, have made,
      use, offer to sell, sell, import, and otherwise transfer the Work,
      where such license applies only to those patent claims licensable
      by such Contributor that are necessarily infringed by their
      Contribution(s) alone or by combination of their Contribution(s)
      with the Work to which such Contribution(s) was submitted. If You
      institute patent litigation against any entity (including a
      cross-claim or counterclaim in a lawsuit) alleging that the Work
      or a Contribution incorporated within the Work constitutes direct
      or contributory patent infringement, then any patent licenses
      granted to You under this License for that Work shall terminate
      as of the date such litigation is filed.

   4. Redistribution. You may reproduce and distribute copies of the
      Work or Derivative Works thereof in any medium, with or without
      modifications, and in Source or Object form, provided that You
      meet the following conditions:

      (a) You must give any other recipients of the Work or
          Derivative Works a copy of this License; and

      (b) You must cause any modified files to carry prominent notices
          stating that You changed the files; and

      (c) You must retain, in the Source form of any Derivative Works
          that You distribute, all copyright, patent, trademark, and
          attribution notices from the Source form of the Work,
          excluding those notices that do not pertain to any part of
          the Derivative Works; and

      (d) If the Work includes a "NOTICE" text file as part of its
          distribution, then any Derivative Works that You distribute must
          include a readable copy of the attribution notices contained
          within such NOTICE file, excluding those notices that do not
          pertain to any part of the Derivative Works, in at least one
          of the following places: within a NOTICE text file distributed
          as part of the Derivative Works; within the Source form or
          documentation, if provided along with the Derivative Works; or,
          within a display generated by the Derivative Works, if and
          wherever such third-party notices normally appear. The contents
          of the NOTICE file are for informational purposes only and
          do not modify the License. You may add Your own attribution
          notices within Derivative Works that You distribute, alongside
          or as an addendum to the NOTICE text from the Work, provided
          that such additional attribution notices cannot be construed
          as modifying the License.

      You may add Your own copyright statement to Your modifications and
      may provide additional or different license terms and conditions
      for use, reproduction, or distribution of Your modifications, or
      for any such Derivative Works as a whole, provided Your use,
      reproduction, and distribution of the Work otherwise complies with
      the conditions stated in this License.

   5. Submission of Contributions. Unless You explicitly state otherwise,
      any Contribution intentionally submitted for inclusion in the Work
      by You to the Licensor shall be under the terms and conditions of
      this License, without any additional terms or conditions.
      Notwithstanding the above, nothing herein shall supersede or modify
      the terms of any separate license agreement you may have executed
      with Licensor regarding such Contributions.

   6. Trademarks. This License does not grant permission to use the trade
      names, trademarks, service marks, or product names of the Licensor,
      except as required for reasonable and customary use in describing the
      origin of the Work and reproducing the content of the NOTICE file.

   7. Disclaimer of Warranty. Unless required by applicable law or
      agreed to in writing, Licensor provides the Work (and each
      Contributor provides its Contributions) on an "AS IS" BASIS,
      WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or
      implied, including, without limitation, any warranties or conditions
      of TITLE, NON-INFRINGEMENT, MERCHANTABILITY, or FITNESS FOR A
      PARTICULAR PURPOSE. You are solely responsible for determining the
      appropriateness of using or redistributing the Work and assume any
      risks associated with Your exercise of permissions under this License.

   8. Limitation of Liability. In no event and under no legal theory,
      whether in tort (including negligence), contract, or otherwise,
      unless required by applicable law (such as deliberate and grossly
      negligent acts) or agreed to in writing, shall any Contributor be
      liable to You for damages, including any direct, indirect, special,
      incidental, or consequential damages of any character arising as a
      result of this License or out of the use or inability to use the
      Work (including but not limited to damages for loss of goodwill,
      work stoppage, computer failure or malfunction, or any and all
      other commercial damages or losses), even if such Contributor
      has been advised of the possibility of such damages.

   9. Accepting Warranty or Additional Liability. While redistributing
      the Work or Derivative Works thereof, You may choose to offer,
      and charge a fee for, acceptance of support, warranty, indemnity,
      or other liability obligations and/or rights consistent with this
      License. However, in accepting such obligations, You may act only
      on Your own behalf and on Your sole responsibility, not on behalf
      of any other Contributor, and only if You agree to indemnify,
      defend, and hold each Contributor harmless for any liability
      incurred by, or claims asserted against, such Contributor by reason
      of your accepting any such warranty or additional liability.

   END OF TERMS AND CONDITIONS

   APPENDIX: How to apply the Apache License to your work.

      To apply the Apache License to your work, attach the following
      boilerplate notice, with the fields enclosed by brackets "[]"
      replaced with your own identifying information. (Don't include
      the brackets!)  The text should be enclosed in the appropriate
      comment syntax for the file format. We also recommend that a
      file or class name and description of purpose be included on the
      same "printed page" as the copyright notice for easier
      identification within third-party archives.

   Copyright [yyyy] [name of copyright owner]

   Licensed under the Apache License, Version 2.0 (the "License");
   you may not use this file except in compliance with the License.
   You may obtain a copy of the License at

       http://www.apache.org/licenses/LICENSE-2.0

   Unless required by applicable law or agreed to in writing, software
   distributed under the License is distributed on an "AS IS" BASIS,
   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   See the License for the specific language governing permissions and
   limitations under the License.
</file>

<file path="mvnw">
#!/bin/sh
# ----------------------------------------------------------------------------
# Licensed to the Apache Software Foundation (ASF) under one
# or more contributor license agreements.  See the NOTICE file
# distributed with this work for additional information
# regarding copyright ownership.  The ASF licenses this file
# to you under the Apache License, Version 2.0 (the
# "License"); you may not use this file except in compliance
# with the License.  You may obtain a copy of the License at
#
#    http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing,
# software distributed under the License is distributed on an
# "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
# KIND, either express or implied.  See the License for the
# specific language governing permissions and limitations
# under the License.
# ----------------------------------------------------------------------------

# ----------------------------------------------------------------------------
# Apache Maven Wrapper startup batch script, version 3.3.2
#
# Optional ENV vars
# -----------------
#   JAVA_HOME - location of a JDK home dir, required when download maven via java source
#   MVNW_REPOURL - repo url base for downloading maven distribution
#   MVNW_USERNAME/MVNW_PASSWORD - user and password for downloading maven
#   MVNW_VERBOSE - true: enable verbose log; debug: trace the mvnw script; others: silence the output
# ----------------------------------------------------------------------------

set -euf
[ "${MVNW_VERBOSE-}" != debug ] || set -x

# OS specific support.
native_path() { printf %s\\n "$1"; }
case "$(uname)" in
CYGWIN* | MINGW*)
  [ -z "${JAVA_HOME-}" ] || JAVA_HOME="$(cygpath --unix "$JAVA_HOME")"
  native_path() { cygpath --path --windows "$1"; }
  ;;
esac

# set JAVACMD and JAVACCMD
set_java_home() {
  # For Cygwin and MinGW, ensure paths are in Unix format before anything is touched
  if [ -n "${JAVA_HOME-}" ]; then
    if [ -x "$JAVA_HOME/jre/sh/java" ]; then
      # IBM's JDK on AIX uses strange locations for the executables
      JAVACMD="$JAVA_HOME/jre/sh/java"
      JAVACCMD="$JAVA_HOME/jre/sh/javac"
    else
      JAVACMD="$JAVA_HOME/bin/java"
      JAVACCMD="$JAVA_HOME/bin/javac"

      if [ ! -x "$JAVACMD" ] || [ ! -x "$JAVACCMD" ]; then
        echo "The JAVA_HOME environment variable is not defined correctly, so mvnw cannot run." >&2
        echo "JAVA_HOME is set to \"$JAVA_HOME\", but \"\$JAVA_HOME/bin/java\" or \"\$JAVA_HOME/bin/javac\" does not exist." >&2
        return 1
      fi
    fi
  else
    JAVACMD="$(
      'set' +e
      'unset' -f command 2>/dev/null
      'command' -v java
    )" || :
    JAVACCMD="$(
      'set' +e
      'unset' -f command 2>/dev/null
      'command' -v javac
    )" || :

    if [ ! -x "${JAVACMD-}" ] || [ ! -x "${JAVACCMD-}" ]; then
      echo "The java/javac command does not exist in PATH nor is JAVA_HOME set, so mvnw cannot run." >&2
      return 1
    fi
  fi
}

# hash string like Java String::hashCode
hash_string() {
  str="${1:-}" h=0
  while [ -n "$str" ]; do
    char="${str%"${str#?}"}"
    h=$(((h * 31 + $(LC_CTYPE=C printf %d "'$char")) % 4294967296))
    str="${str#?}"
  done
  printf %x\\n $h
}

verbose() { :; }
[ "${MVNW_VERBOSE-}" != true ] || verbose() { printf %s\\n "${1-}"; }

die() {
  printf %s\\n "$1" >&2
  exit 1
}

trim() {
  # MWRAPPER-139:
  #   Trims trailing and leading whitespace, carriage returns, tabs, and linefeeds.
  #   Needed for removing poorly interpreted newline sequences when running in more
  #   exotic environments such as mingw bash on Windows.
  printf "%s" "${1}" | tr -d '[:space:]'
}

# parse distributionUrl and optional distributionSha256Sum, requires .mvn/wrapper/maven-wrapper.properties
while IFS="=" read -r key value; do
  case "${key-}" in
  distributionUrl) distributionUrl=$(trim "${value-}") ;;
  distributionSha256Sum) distributionSha256Sum=$(trim "${value-}") ;;
  esac
done <"${0%/*}/.mvn/wrapper/maven-wrapper.properties"
[ -n "${distributionUrl-}" ] || die "cannot read distributionUrl property in ${0%/*}/.mvn/wrapper/maven-wrapper.properties"

case "${distributionUrl##*/}" in
maven-mvnd-*bin.*)
  MVN_CMD=mvnd.sh _MVNW_REPO_PATTERN=/maven/mvnd/
  case "${PROCESSOR_ARCHITECTURE-}${PROCESSOR_ARCHITEW6432-}:$(uname -a)" in
  *AMD64:CYGWIN* | *AMD64:MINGW*) distributionPlatform=windows-amd64 ;;
  :Darwin*x86_64) distributionPlatform=darwin-amd64 ;;
  :Darwin*arm64) distributionPlatform=darwin-aarch64 ;;
  :Linux*x86_64*) distributionPlatform=linux-amd64 ;;
  *)
    echo "Cannot detect native platform for mvnd on $(uname)-$(uname -m), use pure java version" >&2
    distributionPlatform=linux-amd64
    ;;
  esac
  distributionUrl="${distributionUrl%-bin.*}-$distributionPlatform.zip"
  ;;
maven-mvnd-*) MVN_CMD=mvnd.sh _MVNW_REPO_PATTERN=/maven/mvnd/ ;;
*) MVN_CMD="mvn${0##*/mvnw}" _MVNW_REPO_PATTERN=/org/apache/maven/ ;;
esac

# apply MVNW_REPOURL and calculate MAVEN_HOME
# maven home pattern: ~/.m2/wrapper/dists/{apache-maven-<version>,maven-mvnd-<version>-<platform>}/<hash>
[ -z "${MVNW_REPOURL-}" ] || distributionUrl="$MVNW_REPOURL$_MVNW_REPO_PATTERN${distributionUrl#*"$_MVNW_REPO_PATTERN"}"
distributionUrlName="${distributionUrl##*/}"
distributionUrlNameMain="${distributionUrlName%.*}"
distributionUrlNameMain="${distributionUrlNameMain%-bin}"
MAVEN_USER_HOME="${MAVEN_USER_HOME:-${HOME}/.m2}"
MAVEN_HOME="${MAVEN_USER_HOME}/wrapper/dists/${distributionUrlNameMain-}/$(hash_string "$distributionUrl")"

exec_maven() {
  unset MVNW_VERBOSE MVNW_USERNAME MVNW_PASSWORD MVNW_REPOURL || :
  exec "$MAVEN_HOME/bin/$MVN_CMD" "$@" || die "cannot exec $MAVEN_HOME/bin/$MVN_CMD"
}

if [ -d "$MAVEN_HOME" ]; then
  verbose "found existing MAVEN_HOME at $MAVEN_HOME"
  exec_maven "$@"
fi

case "${distributionUrl-}" in
*?-bin.zip | *?maven-mvnd-?*-?*.zip) ;;
*) die "distributionUrl is not valid, must match *-bin.zip or maven-mvnd-*.zip, but found '${distributionUrl-}'" ;;
esac

# prepare tmp dir
if TMP_DOWNLOAD_DIR="$(mktemp -d)" && [ -d "$TMP_DOWNLOAD_DIR" ]; then
  clean() { rm -rf -- "$TMP_DOWNLOAD_DIR"; }
  trap clean HUP INT TERM EXIT
else
  die "cannot create temp dir"
fi

mkdir -p -- "${MAVEN_HOME%/*}"

# Download and Install Apache Maven
verbose "Couldn't find MAVEN_HOME, downloading and installing it ..."
verbose "Downloading from: $distributionUrl"
verbose "Downloading to: $TMP_DOWNLOAD_DIR/$distributionUrlName"

# select .zip or .tar.gz
if ! command -v unzip >/dev/null; then
  distributionUrl="${distributionUrl%.zip}.tar.gz"
  distributionUrlName="${distributionUrl##*/}"
fi

# verbose opt
__MVNW_QUIET_WGET=--quiet __MVNW_QUIET_CURL=--silent __MVNW_QUIET_UNZIP=-q __MVNW_QUIET_TAR=''
[ "${MVNW_VERBOSE-}" != true ] || __MVNW_QUIET_WGET='' __MVNW_QUIET_CURL='' __MVNW_QUIET_UNZIP='' __MVNW_QUIET_TAR=v

# normalize http auth
case "${MVNW_PASSWORD:+has-password}" in
'') MVNW_USERNAME='' MVNW_PASSWORD='' ;;
has-password) [ -n "${MVNW_USERNAME-}" ] || MVNW_USERNAME='' MVNW_PASSWORD='' ;;
esac

if [ -z "${MVNW_USERNAME-}" ] && command -v wget >/dev/null; then
  verbose "Found wget ... using wget"
  wget ${__MVNW_QUIET_WGET:+"$__MVNW_QUIET_WGET"} "$distributionUrl" -O "$TMP_DOWNLOAD_DIR/$distributionUrlName" || die "wget: Failed to fetch $distributionUrl"
elif [ -z "${MVNW_USERNAME-}" ] && command -v curl >/dev/null; then
  verbose "Found curl ... using curl"
  curl ${__MVNW_QUIET_CURL:+"$__MVNW_QUIET_CURL"} -f -L -o "$TMP_DOWNLOAD_DIR/$distributionUrlName" "$distributionUrl" || die "curl: Failed to fetch $distributionUrl"
elif set_java_home; then
  verbose "Falling back to use Java to download"
  javaSource="$TMP_DOWNLOAD_DIR/Downloader.java"
  targetZip="$TMP_DOWNLOAD_DIR/$distributionUrlName"
  cat >"$javaSource" <<-END
	public class Downloader extends java.net.Authenticator
	{
	  protected java.net.PasswordAuthentication getPasswordAuthentication()
	  {
	    return new java.net.PasswordAuthentication( System.getenv( "MVNW_USERNAME" ), System.getenv( "MVNW_PASSWORD" ).toCharArray() );
	  }
	  public static void main( String[] args ) throws Exception
	  {
	    setDefault( new Downloader() );
	    java.nio.file.Files.copy( java.net.URI.create( args[0] ).toURL().openStream(), java.nio.file.Paths.get( args[1] ).toAbsolutePath().normalize() );
	  }
	}
	END
  # For Cygwin/MinGW, switch paths to Windows format before running javac and java
  verbose " - Compiling Downloader.java ..."
  "$(native_path "$JAVACCMD")" "$(native_path "$javaSource")" || die "Failed to compile Downloader.java"
  verbose " - Running Downloader.java ..."
  "$(native_path "$JAVACMD")" -cp "$(native_path "$TMP_DOWNLOAD_DIR")" Downloader "$distributionUrl" "$(native_path "$targetZip")"
fi

# If specified, validate the SHA-256 sum of the Maven distribution zip file
if [ -n "${distributionSha256Sum-}" ]; then
  distributionSha256Result=false
  if [ "$MVN_CMD" = mvnd.sh ]; then
    echo "Checksum validation is not supported for maven-mvnd." >&2
    echo "Please disable validation by removing 'distributionSha256Sum' from your maven-wrapper.properties." >&2
    exit 1
  elif command -v sha256sum >/dev/null; then
    if echo "$distributionSha256Sum  $TMP_DOWNLOAD_DIR/$distributionUrlName" | sha256sum -c >/dev/null 2>&1; then
      distributionSha256Result=true
    fi
  elif command -v shasum >/dev/null; then
    if echo "$distributionSha256Sum  $TMP_DOWNLOAD_DIR/$distributionUrlName" | shasum -a 256 -c >/dev/null 2>&1; then
      distributionSha256Result=true
    fi
  else
    echo "Checksum validation was requested but neither 'sha256sum' or 'shasum' are available." >&2
    echo "Please install either command, or disable validation by removing 'distributionSha256Sum' from your maven-wrapper.properties." >&2
    exit 1
  fi
  if [ $distributionSha256Result = false ]; then
    echo "Error: Failed to validate Maven distribution SHA-256, your Maven distribution might be compromised." >&2
    echo "If you updated your Maven version, you need to update the specified distributionSha256Sum property." >&2
    exit 1
  fi
fi

# unzip and move
if command -v unzip >/dev/null; then
  unzip ${__MVNW_QUIET_UNZIP:+"$__MVNW_QUIET_UNZIP"} "$TMP_DOWNLOAD_DIR/$distributionUrlName" -d "$TMP_DOWNLOAD_DIR" || die "failed to unzip"
else
  tar xzf${__MVNW_QUIET_TAR:+"$__MVNW_QUIET_TAR"} "$TMP_DOWNLOAD_DIR/$distributionUrlName" -C "$TMP_DOWNLOAD_DIR" || die "failed to untar"
fi
printf %s\\n "$distributionUrl" >"$TMP_DOWNLOAD_DIR/$distributionUrlNameMain/mvnw.url"
mv -- "$TMP_DOWNLOAD_DIR/$distributionUrlNameMain" "$MAVEN_HOME" || [ -d "$MAVEN_HOME" ] || die "fail to move MAVEN_HOME"

clean || :
exec_maven "$@"
</file>

<file path="mvnw.cmd">
<# : batch portion
@REM ----------------------------------------------------------------------------
@REM Licensed to the Apache Software Foundation (ASF) under one
@REM or more contributor license agreements.  See the NOTICE file
@REM distributed with this work for additional information
@REM regarding copyright ownership.  The ASF licenses this file
@REM to you under the Apache License, Version 2.0 (the
@REM "License"); you may not use this file except in compliance
@REM with the License.  You may obtain a copy of the License at
@REM
@REM    http://www.apache.org/licenses/LICENSE-2.0
@REM
@REM Unless required by applicable law or agreed to in writing,
@REM software distributed under the License is distributed on an
@REM "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
@REM KIND, either express or implied.  See the License for the
@REM specific language governing permissions and limitations
@REM under the License.
@REM ----------------------------------------------------------------------------

@REM ----------------------------------------------------------------------------
@REM Apache Maven Wrapper startup batch script, version 3.3.2
@REM
@REM Optional ENV vars
@REM   MVNW_REPOURL - repo url base for downloading maven distribution
@REM   MVNW_USERNAME/MVNW_PASSWORD - user and password for downloading maven
@REM   MVNW_VERBOSE - true: enable verbose log; others: silence the output
@REM ----------------------------------------------------------------------------

@IF "%__MVNW_ARG0_NAME__%"=="" (SET __MVNW_ARG0_NAME__=%~nx0)
@SET __MVNW_CMD__=
@SET __MVNW_ERROR__=
@SET __MVNW_PSMODULEP_SAVE=%PSModulePath%
@SET PSModulePath=
@FOR /F "usebackq tokens=1* delims==" %%A IN (`powershell -noprofile "& {$scriptDir='%~dp0'; $script='%__MVNW_ARG0_NAME__%'; icm -ScriptBlock ([Scriptblock]::Create((Get-Content -Raw '%~f0'))) -NoNewScope}"`) DO @(
  IF "%%A"=="MVN_CMD" (set __MVNW_CMD__=%%B) ELSE IF "%%B"=="" (echo %%A) ELSE (echo %%A=%%B)
)
@SET PSModulePath=%__MVNW_PSMODULEP_SAVE%
@SET __MVNW_PSMODULEP_SAVE=
@SET __MVNW_ARG0_NAME__=
@SET MVNW_USERNAME=
@SET MVNW_PASSWORD=
@IF NOT "%__MVNW_CMD__%"=="" (%__MVNW_CMD__% %*)
@echo Cannot start maven from wrapper >&2 && exit /b 1
@GOTO :EOF
: end batch / begin powershell #>

$ErrorActionPreference = "Stop"
if ($env:MVNW_VERBOSE -eq "true") {
  $VerbosePreference = "Continue"
}

# calculate distributionUrl, requires .mvn/wrapper/maven-wrapper.properties
$distributionUrl = (Get-Content -Raw "$scriptDir/.mvn/wrapper/maven-wrapper.properties" | ConvertFrom-StringData).distributionUrl
if (!$distributionUrl) {
  Write-Error "cannot read distributionUrl property in $scriptDir/.mvn/wrapper/maven-wrapper.properties"
}

switch -wildcard -casesensitive ( $($distributionUrl -replace '^.*/','') ) {
  "maven-mvnd-*" {
    $USE_MVND = $true
    $distributionUrl = $distributionUrl -replace '-bin\.[^.]*$',"-windows-amd64.zip"
    $MVN_CMD = "mvnd.cmd"
    break
  }
  default {
    $USE_MVND = $false
    $MVN_CMD = $script -replace '^mvnw','mvn'
    break
  }
}

# apply MVNW_REPOURL and calculate MAVEN_HOME
# maven home pattern: ~/.m2/wrapper/dists/{apache-maven-<version>,maven-mvnd-<version>-<platform>}/<hash>
if ($env:MVNW_REPOURL) {
  $MVNW_REPO_PATTERN = if ($USE_MVND) { "/org/apache/maven/" } else { "/maven/mvnd/" }
  $distributionUrl = "$env:MVNW_REPOURL$MVNW_REPO_PATTERN$($distributionUrl -replace '^.*'+$MVNW_REPO_PATTERN,'')"
}
$distributionUrlName = $distributionUrl -replace '^.*/',''
$distributionUrlNameMain = $distributionUrlName -replace '\.[^.]*$','' -replace '-bin$',''
$MAVEN_HOME_PARENT = "$HOME/.m2/wrapper/dists/$distributionUrlNameMain"
if ($env:MAVEN_USER_HOME) {
  $MAVEN_HOME_PARENT = "$env:MAVEN_USER_HOME/wrapper/dists/$distributionUrlNameMain"
}
$MAVEN_HOME_NAME = ([System.Security.Cryptography.MD5]::Create().ComputeHash([byte[]][char[]]$distributionUrl) | ForEach-Object {$_.ToString("x2")}) -join ''
$MAVEN_HOME = "$MAVEN_HOME_PARENT/$MAVEN_HOME_NAME"

if (Test-Path -Path "$MAVEN_HOME" -PathType Container) {
  Write-Verbose "found existing MAVEN_HOME at $MAVEN_HOME"
  Write-Output "MVN_CMD=$MAVEN_HOME/bin/$MVN_CMD"
  exit $?
}

if (! $distributionUrlNameMain -or ($distributionUrlName -eq $distributionUrlNameMain)) {
  Write-Error "distributionUrl is not valid, must end with *-bin.zip, but found $distributionUrl"
}

# prepare tmp dir
$TMP_DOWNLOAD_DIR_HOLDER = New-TemporaryFile
$TMP_DOWNLOAD_DIR = New-Item -Itemtype Directory -Path "$TMP_DOWNLOAD_DIR_HOLDER.dir"
$TMP_DOWNLOAD_DIR_HOLDER.Delete() | Out-Null
trap {
  if ($TMP_DOWNLOAD_DIR.Exists) {
    try { Remove-Item $TMP_DOWNLOAD_DIR -Recurse -Force | Out-Null }
    catch { Write-Warning "Cannot remove $TMP_DOWNLOAD_DIR" }
  }
}

New-Item -Itemtype Directory -Path "$MAVEN_HOME_PARENT" -Force | Out-Null

# Download and Install Apache Maven
Write-Verbose "Couldn't find MAVEN_HOME, downloading and installing it ..."
Write-Verbose "Downloading from: $distributionUrl"
Write-Verbose "Downloading to: $TMP_DOWNLOAD_DIR/$distributionUrlName"

$webclient = New-Object System.Net.WebClient
if ($env:MVNW_USERNAME -and $env:MVNW_PASSWORD) {
  $webclient.Credentials = New-Object System.Net.NetworkCredential($env:MVNW_USERNAME, $env:MVNW_PASSWORD)
}
[Net.ServicePointManager]::SecurityProtocol = [Net.SecurityProtocolType]::Tls12
$webclient.DownloadFile($distributionUrl, "$TMP_DOWNLOAD_DIR/$distributionUrlName") | Out-Null

# If specified, validate the SHA-256 sum of the Maven distribution zip file
$distributionSha256Sum = (Get-Content -Raw "$scriptDir/.mvn/wrapper/maven-wrapper.properties" | ConvertFrom-StringData).distributionSha256Sum
if ($distributionSha256Sum) {
  if ($USE_MVND) {
    Write-Error "Checksum validation is not supported for maven-mvnd. `nPlease disable validation by removing 'distributionSha256Sum' from your maven-wrapper.properties."
  }
  Import-Module $PSHOME\Modules\Microsoft.PowerShell.Utility -Function Get-FileHash
  if ((Get-FileHash "$TMP_DOWNLOAD_DIR/$distributionUrlName" -Algorithm SHA256).Hash.ToLower() -ne $distributionSha256Sum) {
    Write-Error "Error: Failed to validate Maven distribution SHA-256, your Maven distribution might be compromised. If you updated your Maven version, you need to update the specified distributionSha256Sum property."
  }
}

# unzip and move
Expand-Archive "$TMP_DOWNLOAD_DIR/$distributionUrlName" -DestinationPath "$TMP_DOWNLOAD_DIR" | Out-Null
Rename-Item -Path "$TMP_DOWNLOAD_DIR/$distributionUrlNameMain" -NewName $MAVEN_HOME_NAME | Out-Null
try {
  Move-Item -Path "$TMP_DOWNLOAD_DIR/$MAVEN_HOME_NAME" -Destination $MAVEN_HOME_PARENT | Out-Null
} catch {
  if (! (Test-Path -Path "$MAVEN_HOME" -PathType Container)) {
    Write-Error "fail to move MAVEN_HOME"
  }
} finally {
  try { Remove-Item $TMP_DOWNLOAD_DIR -Recurse -Force | Out-Null }
  catch { Write-Warning "Cannot remove $TMP_DOWNLOAD_DIR" }
}

Write-Output "MVN_CMD=$MAVEN_HOME/bin/$MVN_CMD"
</file>

<file path="paypal-module/.gitattributes">
/mvnw text eol=lf
*.cmd text eol=crlf
</file>

<file path="paypal-module/.gitignore">
HELP.md
target/
.mvn/wrapper/maven-wrapper.jar
!**/src/main/**/target/
!**/src/test/**/target/

### STS ###
.apt_generated
.classpath
.factorypath
.project
.settings
.springBeans
.sts4-cache

### IntelliJ IDEA ###
.idea
*.iws
*.iml
*.ipr

### NetBeans ###
/nbproject/private/
/nbbuild/
/dist/
/nbdist/
/.nb-gradle/
build/
!**/src/main/**/build/
!**/src/test/**/build/

### VS Code ###
.vscode/
</file>

<file path="paypal-module/mvnw">
#!/bin/sh
# ----------------------------------------------------------------------------
# Licensed to the Apache Software Foundation (ASF) under one
# or more contributor license agreements.  See the NOTICE file
# distributed with this work for additional information
# regarding copyright ownership.  The ASF licenses this file
# to you under the Apache License, Version 2.0 (the
# "License"); you may not use this file except in compliance
# with the License.  You may obtain a copy of the License at
#
#    http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing,
# software distributed under the License is distributed on an
# "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
# KIND, either express or implied.  See the License for the
# specific language governing permissions and limitations
# under the License.
# ----------------------------------------------------------------------------

# ----------------------------------------------------------------------------
# Apache Maven Wrapper startup batch script, version 3.3.2
#
# Optional ENV vars
# -----------------
#   JAVA_HOME - location of a JDK home dir, required when download maven via java source
#   MVNW_REPOURL - repo url base for downloading maven distribution
#   MVNW_USERNAME/MVNW_PASSWORD - user and password for downloading maven
#   MVNW_VERBOSE - true: enable verbose log; debug: trace the mvnw script; others: silence the output
# ----------------------------------------------------------------------------

set -euf
[ "${MVNW_VERBOSE-}" != debug ] || set -x

# OS specific support.
native_path() { printf %s\\n "$1"; }
case "$(uname)" in
CYGWIN* | MINGW*)
  [ -z "${JAVA_HOME-}" ] || JAVA_HOME="$(cygpath --unix "$JAVA_HOME")"
  native_path() { cygpath --path --windows "$1"; }
  ;;
esac

# set JAVACMD and JAVACCMD
set_java_home() {
  # For Cygwin and MinGW, ensure paths are in Unix format before anything is touched
  if [ -n "${JAVA_HOME-}" ]; then
    if [ -x "$JAVA_HOME/jre/sh/java" ]; then
      # IBM's JDK on AIX uses strange locations for the executables
      JAVACMD="$JAVA_HOME/jre/sh/java"
      JAVACCMD="$JAVA_HOME/jre/sh/javac"
    else
      JAVACMD="$JAVA_HOME/bin/java"
      JAVACCMD="$JAVA_HOME/bin/javac"

      if [ ! -x "$JAVACMD" ] || [ ! -x "$JAVACCMD" ]; then
        echo "The JAVA_HOME environment variable is not defined correctly, so mvnw cannot run." >&2
        echo "JAVA_HOME is set to \"$JAVA_HOME\", but \"\$JAVA_HOME/bin/java\" or \"\$JAVA_HOME/bin/javac\" does not exist." >&2
        return 1
      fi
    fi
  else
    JAVACMD="$(
      'set' +e
      'unset' -f command 2>/dev/null
      'command' -v java
    )" || :
    JAVACCMD="$(
      'set' +e
      'unset' -f command 2>/dev/null
      'command' -v javac
    )" || :

    if [ ! -x "${JAVACMD-}" ] || [ ! -x "${JAVACCMD-}" ]; then
      echo "The java/javac command does not exist in PATH nor is JAVA_HOME set, so mvnw cannot run." >&2
      return 1
    fi
  fi
}

# hash string like Java String::hashCode
hash_string() {
  str="${1:-}" h=0
  while [ -n "$str" ]; do
    char="${str%"${str#?}"}"
    h=$(((h * 31 + $(LC_CTYPE=C printf %d "'$char")) % 4294967296))
    str="${str#?}"
  done
  printf %x\\n $h
}

verbose() { :; }
[ "${MVNW_VERBOSE-}" != true ] || verbose() { printf %s\\n "${1-}"; }

die() {
  printf %s\\n "$1" >&2
  exit 1
}

trim() {
  # MWRAPPER-139:
  #   Trims trailing and leading whitespace, carriage returns, tabs, and linefeeds.
  #   Needed for removing poorly interpreted newline sequences when running in more
  #   exotic environments such as mingw bash on Windows.
  printf "%s" "${1}" | tr -d '[:space:]'
}

# parse distributionUrl and optional distributionSha256Sum, requires .mvn/wrapper/maven-wrapper.properties
while IFS="=" read -r key value; do
  case "${key-}" in
  distributionUrl) distributionUrl=$(trim "${value-}") ;;
  distributionSha256Sum) distributionSha256Sum=$(trim "${value-}") ;;
  esac
done <"${0%/*}/.mvn/wrapper/maven-wrapper.properties"
[ -n "${distributionUrl-}" ] || die "cannot read distributionUrl property in ${0%/*}/.mvn/wrapper/maven-wrapper.properties"

case "${distributionUrl##*/}" in
maven-mvnd-*bin.*)
  MVN_CMD=mvnd.sh _MVNW_REPO_PATTERN=/maven/mvnd/
  case "${PROCESSOR_ARCHITECTURE-}${PROCESSOR_ARCHITEW6432-}:$(uname -a)" in
  *AMD64:CYGWIN* | *AMD64:MINGW*) distributionPlatform=windows-amd64 ;;
  :Darwin*x86_64) distributionPlatform=darwin-amd64 ;;
  :Darwin*arm64) distributionPlatform=darwin-aarch64 ;;
  :Linux*x86_64*) distributionPlatform=linux-amd64 ;;
  *)
    echo "Cannot detect native platform for mvnd on $(uname)-$(uname -m), use pure java version" >&2
    distributionPlatform=linux-amd64
    ;;
  esac
  distributionUrl="${distributionUrl%-bin.*}-$distributionPlatform.zip"
  ;;
maven-mvnd-*) MVN_CMD=mvnd.sh _MVNW_REPO_PATTERN=/maven/mvnd/ ;;
*) MVN_CMD="mvn${0##*/mvnw}" _MVNW_REPO_PATTERN=/org/apache/maven/ ;;
esac

# apply MVNW_REPOURL and calculate MAVEN_HOME
# maven home pattern: ~/.m2/wrapper/dists/{apache-maven-<version>,maven-mvnd-<version>-<platform>}/<hash>
[ -z "${MVNW_REPOURL-}" ] || distributionUrl="$MVNW_REPOURL$_MVNW_REPO_PATTERN${distributionUrl#*"$_MVNW_REPO_PATTERN"}"
distributionUrlName="${distributionUrl##*/}"
distributionUrlNameMain="${distributionUrlName%.*}"
distributionUrlNameMain="${distributionUrlNameMain%-bin}"
MAVEN_USER_HOME="${MAVEN_USER_HOME:-${HOME}/.m2}"
MAVEN_HOME="${MAVEN_USER_HOME}/wrapper/dists/${distributionUrlNameMain-}/$(hash_string "$distributionUrl")"

exec_maven() {
  unset MVNW_VERBOSE MVNW_USERNAME MVNW_PASSWORD MVNW_REPOURL || :
  exec "$MAVEN_HOME/bin/$MVN_CMD" "$@" || die "cannot exec $MAVEN_HOME/bin/$MVN_CMD"
}

if [ -d "$MAVEN_HOME" ]; then
  verbose "found existing MAVEN_HOME at $MAVEN_HOME"
  exec_maven "$@"
fi

case "${distributionUrl-}" in
*?-bin.zip | *?maven-mvnd-?*-?*.zip) ;;
*) die "distributionUrl is not valid, must match *-bin.zip or maven-mvnd-*.zip, but found '${distributionUrl-}'" ;;
esac

# prepare tmp dir
if TMP_DOWNLOAD_DIR="$(mktemp -d)" && [ -d "$TMP_DOWNLOAD_DIR" ]; then
  clean() { rm -rf -- "$TMP_DOWNLOAD_DIR"; }
  trap clean HUP INT TERM EXIT
else
  die "cannot create temp dir"
fi

mkdir -p -- "${MAVEN_HOME%/*}"

# Download and Install Apache Maven
verbose "Couldn't find MAVEN_HOME, downloading and installing it ..."
verbose "Downloading from: $distributionUrl"
verbose "Downloading to: $TMP_DOWNLOAD_DIR/$distributionUrlName"

# select .zip or .tar.gz
if ! command -v unzip >/dev/null; then
  distributionUrl="${distributionUrl%.zip}.tar.gz"
  distributionUrlName="${distributionUrl##*/}"
fi

# verbose opt
__MVNW_QUIET_WGET=--quiet __MVNW_QUIET_CURL=--silent __MVNW_QUIET_UNZIP=-q __MVNW_QUIET_TAR=''
[ "${MVNW_VERBOSE-}" != true ] || __MVNW_QUIET_WGET='' __MVNW_QUIET_CURL='' __MVNW_QUIET_UNZIP='' __MVNW_QUIET_TAR=v

# normalize http auth
case "${MVNW_PASSWORD:+has-password}" in
'') MVNW_USERNAME='' MVNW_PASSWORD='' ;;
has-password) [ -n "${MVNW_USERNAME-}" ] || MVNW_USERNAME='' MVNW_PASSWORD='' ;;
esac

if [ -z "${MVNW_USERNAME-}" ] && command -v wget >/dev/null; then
  verbose "Found wget ... using wget"
  wget ${__MVNW_QUIET_WGET:+"$__MVNW_QUIET_WGET"} "$distributionUrl" -O "$TMP_DOWNLOAD_DIR/$distributionUrlName" || die "wget: Failed to fetch $distributionUrl"
elif [ -z "${MVNW_USERNAME-}" ] && command -v curl >/dev/null; then
  verbose "Found curl ... using curl"
  curl ${__MVNW_QUIET_CURL:+"$__MVNW_QUIET_CURL"} -f -L -o "$TMP_DOWNLOAD_DIR/$distributionUrlName" "$distributionUrl" || die "curl: Failed to fetch $distributionUrl"
elif set_java_home; then
  verbose "Falling back to use Java to download"
  javaSource="$TMP_DOWNLOAD_DIR/Downloader.java"
  targetZip="$TMP_DOWNLOAD_DIR/$distributionUrlName"
  cat >"$javaSource" <<-END
	public class Downloader extends java.net.Authenticator
	{
	  protected java.net.PasswordAuthentication getPasswordAuthentication()
	  {
	    return new java.net.PasswordAuthentication( System.getenv( "MVNW_USERNAME" ), System.getenv( "MVNW_PASSWORD" ).toCharArray() );
	  }
	  public static void main( String[] args ) throws Exception
	  {
	    setDefault( new Downloader() );
	    java.nio.file.Files.copy( java.net.URI.create( args[0] ).toURL().openStream(), java.nio.file.Paths.get( args[1] ).toAbsolutePath().normalize() );
	  }
	}
	END
  # For Cygwin/MinGW, switch paths to Windows format before running javac and java
  verbose " - Compiling Downloader.java ..."
  "$(native_path "$JAVACCMD")" "$(native_path "$javaSource")" || die "Failed to compile Downloader.java"
  verbose " - Running Downloader.java ..."
  "$(native_path "$JAVACMD")" -cp "$(native_path "$TMP_DOWNLOAD_DIR")" Downloader "$distributionUrl" "$(native_path "$targetZip")"
fi

# If specified, validate the SHA-256 sum of the Maven distribution zip file
if [ -n "${distributionSha256Sum-}" ]; then
  distributionSha256Result=false
  if [ "$MVN_CMD" = mvnd.sh ]; then
    echo "Checksum validation is not supported for maven-mvnd." >&2
    echo "Please disable validation by removing 'distributionSha256Sum' from your maven-wrapper.properties." >&2
    exit 1
  elif command -v sha256sum >/dev/null; then
    if echo "$distributionSha256Sum  $TMP_DOWNLOAD_DIR/$distributionUrlName" | sha256sum -c >/dev/null 2>&1; then
      distributionSha256Result=true
    fi
  elif command -v shasum >/dev/null; then
    if echo "$distributionSha256Sum  $TMP_DOWNLOAD_DIR/$distributionUrlName" | shasum -a 256 -c >/dev/null 2>&1; then
      distributionSha256Result=true
    fi
  else
    echo "Checksum validation was requested but neither 'sha256sum' or 'shasum' are available." >&2
    echo "Please install either command, or disable validation by removing 'distributionSha256Sum' from your maven-wrapper.properties." >&2
    exit 1
  fi
  if [ $distributionSha256Result = false ]; then
    echo "Error: Failed to validate Maven distribution SHA-256, your Maven distribution might be compromised." >&2
    echo "If you updated your Maven version, you need to update the specified distributionSha256Sum property." >&2
    exit 1
  fi
fi

# unzip and move
if command -v unzip >/dev/null; then
  unzip ${__MVNW_QUIET_UNZIP:+"$__MVNW_QUIET_UNZIP"} "$TMP_DOWNLOAD_DIR/$distributionUrlName" -d "$TMP_DOWNLOAD_DIR" || die "failed to unzip"
else
  tar xzf${__MVNW_QUIET_TAR:+"$__MVNW_QUIET_TAR"} "$TMP_DOWNLOAD_DIR/$distributionUrlName" -C "$TMP_DOWNLOAD_DIR" || die "failed to untar"
fi
printf %s\\n "$distributionUrl" >"$TMP_DOWNLOAD_DIR/$distributionUrlNameMain/mvnw.url"
mv -- "$TMP_DOWNLOAD_DIR/$distributionUrlNameMain" "$MAVEN_HOME" || [ -d "$MAVEN_HOME" ] || die "fail to move MAVEN_HOME"

clean || :
exec_maven "$@"
</file>

<file path="paypal-module/mvnw.cmd">
<# : batch portion
@REM ----------------------------------------------------------------------------
@REM Licensed to the Apache Software Foundation (ASF) under one
@REM or more contributor license agreements.  See the NOTICE file
@REM distributed with this work for additional information
@REM regarding copyright ownership.  The ASF licenses this file
@REM to you under the Apache License, Version 2.0 (the
@REM "License"); you may not use this file except in compliance
@REM with the License.  You may obtain a copy of the License at
@REM
@REM    http://www.apache.org/licenses/LICENSE-2.0
@REM
@REM Unless required by applicable law or agreed to in writing,
@REM software distributed under the License is distributed on an
@REM "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
@REM KIND, either express or implied.  See the License for the
@REM specific language governing permissions and limitations
@REM under the License.
@REM ----------------------------------------------------------------------------

@REM ----------------------------------------------------------------------------
@REM Apache Maven Wrapper startup batch script, version 3.3.2
@REM
@REM Optional ENV vars
@REM   MVNW_REPOURL - repo url base for downloading maven distribution
@REM   MVNW_USERNAME/MVNW_PASSWORD - user and password for downloading maven
@REM   MVNW_VERBOSE - true: enable verbose log; others: silence the output
@REM ----------------------------------------------------------------------------

@IF "%__MVNW_ARG0_NAME__%"=="" (SET __MVNW_ARG0_NAME__=%~nx0)
@SET __MVNW_CMD__=
@SET __MVNW_ERROR__=
@SET __MVNW_PSMODULEP_SAVE=%PSModulePath%
@SET PSModulePath=
@FOR /F "usebackq tokens=1* delims==" %%A IN (`powershell -noprofile "& {$scriptDir='%~dp0'; $script='%__MVNW_ARG0_NAME__%'; icm -ScriptBlock ([Scriptblock]::Create((Get-Content -Raw '%~f0'))) -NoNewScope}"`) DO @(
  IF "%%A"=="MVN_CMD" (set __MVNW_CMD__=%%B) ELSE IF "%%B"=="" (echo %%A) ELSE (echo %%A=%%B)
)
@SET PSModulePath=%__MVNW_PSMODULEP_SAVE%
@SET __MVNW_PSMODULEP_SAVE=
@SET __MVNW_ARG0_NAME__=
@SET MVNW_USERNAME=
@SET MVNW_PASSWORD=
@IF NOT "%__MVNW_CMD__%"=="" (%__MVNW_CMD__% %*)
@echo Cannot start maven from wrapper >&2 && exit /b 1
@GOTO :EOF
: end batch / begin powershell #>

$ErrorActionPreference = "Stop"
if ($env:MVNW_VERBOSE -eq "true") {
  $VerbosePreference = "Continue"
}

# calculate distributionUrl, requires .mvn/wrapper/maven-wrapper.properties
$distributionUrl = (Get-Content -Raw "$scriptDir/.mvn/wrapper/maven-wrapper.properties" | ConvertFrom-StringData).distributionUrl
if (!$distributionUrl) {
  Write-Error "cannot read distributionUrl property in $scriptDir/.mvn/wrapper/maven-wrapper.properties"
}

switch -wildcard -casesensitive ( $($distributionUrl -replace '^.*/','') ) {
  "maven-mvnd-*" {
    $USE_MVND = $true
    $distributionUrl = $distributionUrl -replace '-bin\.[^.]*$',"-windows-amd64.zip"
    $MVN_CMD = "mvnd.cmd"
    break
  }
  default {
    $USE_MVND = $false
    $MVN_CMD = $script -replace '^mvnw','mvn'
    break
  }
}

# apply MVNW_REPOURL and calculate MAVEN_HOME
# maven home pattern: ~/.m2/wrapper/dists/{apache-maven-<version>,maven-mvnd-<version>-<platform>}/<hash>
if ($env:MVNW_REPOURL) {
  $MVNW_REPO_PATTERN = if ($USE_MVND) { "/org/apache/maven/" } else { "/maven/mvnd/" }
  $distributionUrl = "$env:MVNW_REPOURL$MVNW_REPO_PATTERN$($distributionUrl -replace '^.*'+$MVNW_REPO_PATTERN,'')"
}
$distributionUrlName = $distributionUrl -replace '^.*/',''
$distributionUrlNameMain = $distributionUrlName -replace '\.[^.]*$','' -replace '-bin$',''
$MAVEN_HOME_PARENT = "$HOME/.m2/wrapper/dists/$distributionUrlNameMain"
if ($env:MAVEN_USER_HOME) {
  $MAVEN_HOME_PARENT = "$env:MAVEN_USER_HOME/wrapper/dists/$distributionUrlNameMain"
}
$MAVEN_HOME_NAME = ([System.Security.Cryptography.MD5]::Create().ComputeHash([byte[]][char[]]$distributionUrl) | ForEach-Object {$_.ToString("x2")}) -join ''
$MAVEN_HOME = "$MAVEN_HOME_PARENT/$MAVEN_HOME_NAME"

if (Test-Path -Path "$MAVEN_HOME" -PathType Container) {
  Write-Verbose "found existing MAVEN_HOME at $MAVEN_HOME"
  Write-Output "MVN_CMD=$MAVEN_HOME/bin/$MVN_CMD"
  exit $?
}

if (! $distributionUrlNameMain -or ($distributionUrlName -eq $distributionUrlNameMain)) {
  Write-Error "distributionUrl is not valid, must end with *-bin.zip, but found $distributionUrl"
}

# prepare tmp dir
$TMP_DOWNLOAD_DIR_HOLDER = New-TemporaryFile
$TMP_DOWNLOAD_DIR = New-Item -Itemtype Directory -Path "$TMP_DOWNLOAD_DIR_HOLDER.dir"
$TMP_DOWNLOAD_DIR_HOLDER.Delete() | Out-Null
trap {
  if ($TMP_DOWNLOAD_DIR.Exists) {
    try { Remove-Item $TMP_DOWNLOAD_DIR -Recurse -Force | Out-Null }
    catch { Write-Warning "Cannot remove $TMP_DOWNLOAD_DIR" }
  }
}

New-Item -Itemtype Directory -Path "$MAVEN_HOME_PARENT" -Force | Out-Null

# Download and Install Apache Maven
Write-Verbose "Couldn't find MAVEN_HOME, downloading and installing it ..."
Write-Verbose "Downloading from: $distributionUrl"
Write-Verbose "Downloading to: $TMP_DOWNLOAD_DIR/$distributionUrlName"

$webclient = New-Object System.Net.WebClient
if ($env:MVNW_USERNAME -and $env:MVNW_PASSWORD) {
  $webclient.Credentials = New-Object System.Net.NetworkCredential($env:MVNW_USERNAME, $env:MVNW_PASSWORD)
}
[Net.ServicePointManager]::SecurityProtocol = [Net.SecurityProtocolType]::Tls12
$webclient.DownloadFile($distributionUrl, "$TMP_DOWNLOAD_DIR/$distributionUrlName") | Out-Null

# If specified, validate the SHA-256 sum of the Maven distribution zip file
$distributionSha256Sum = (Get-Content -Raw "$scriptDir/.mvn/wrapper/maven-wrapper.properties" | ConvertFrom-StringData).distributionSha256Sum
if ($distributionSha256Sum) {
  if ($USE_MVND) {
    Write-Error "Checksum validation is not supported for maven-mvnd. `nPlease disable validation by removing 'distributionSha256Sum' from your maven-wrapper.properties."
  }
  Import-Module $PSHOME\Modules\Microsoft.PowerShell.Utility -Function Get-FileHash
  if ((Get-FileHash "$TMP_DOWNLOAD_DIR/$distributionUrlName" -Algorithm SHA256).Hash.ToLower() -ne $distributionSha256Sum) {
    Write-Error "Error: Failed to validate Maven distribution SHA-256, your Maven distribution might be compromised. If you updated your Maven version, you need to update the specified distributionSha256Sum property."
  }
}

# unzip and move
Expand-Archive "$TMP_DOWNLOAD_DIR/$distributionUrlName" -DestinationPath "$TMP_DOWNLOAD_DIR" | Out-Null
Rename-Item -Path "$TMP_DOWNLOAD_DIR/$distributionUrlNameMain" -NewName $MAVEN_HOME_NAME | Out-Null
try {
  Move-Item -Path "$TMP_DOWNLOAD_DIR/$MAVEN_HOME_NAME" -Destination $MAVEN_HOME_PARENT | Out-Null
} catch {
  if (! (Test-Path -Path "$MAVEN_HOME" -PathType Container)) {
    Write-Error "fail to move MAVEN_HOME"
  }
} finally {
  try { Remove-Item $TMP_DOWNLOAD_DIR -Recurse -Force | Out-Null }
  catch { Write-Warning "Cannot remove $TMP_DOWNLOAD_DIR" }
}

Write-Output "MVN_CMD=$MAVEN_HOME/bin/$MVN_CMD"
</file>

<file path="paypal-module/src/main/java/pe/edu/certus/paypalmodule/configuration/annotations/PaypalEntityScanConfig.java">
package pe.edu.certus.paypalmodule.configuration.annotations;

import org.springframework.boot.autoconfigure.domain.EntityScan;
import org.springframework.context.annotation.Configuration;

@Configuration
@EntityScan(basePackages = "pe.edu.certus.paypalmodule.repository.entity")
public class PaypalEntityScanConfig {
}
</file>

<file path="paypal-module/src/main/java/pe/edu/certus/paypalmodule/configuration/annotations/PaypalPersistenceConfig.java">
package pe.edu.certus.paypalmodule.configuration.annotations;

import org.springframework.context.annotation.Configuration;
import org.springframework.data.jpa.repository.config.EnableJpaRepositories;

@Configuration
@EnableJpaRepositories(basePackages = "pe.edu.certus.paypalmodule.repository")
public class PaypalPersistenceConfig {
}
</file>

<file path="paypal-module/src/main/java/pe/edu/certus/paypalmodule/configuration/sdk/PaypalConfig.java">
package pe.edu.certus.paypalmodule.configuration.sdk;

import com.paypal.core.PayPalEnvironment;
import com.paypal.core.PayPalHttpClient;
import org.springframework.beans.factory.annotation.Value;
import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;

@Configuration
public class PaypalConfig {

    @Value("${paypal.client-id}")
    private String clientId;

    @Value("${paypal.client-secret}")
    private String clientSecret;

    @Bean
    public PayPalHttpClient payPalHttpClient() {
        PayPalEnvironment environment = new PayPalEnvironment.Sandbox(clientId, clientSecret);
        return new PayPalHttpClient(environment);
    }
}
</file>

<file path="paypal-module/src/main/java/pe/edu/certus/paypalmodule/logic/model/PaymentDetailModel.java">
package pe.edu.certus.paypalmodule.logic.model;

import lombok.Builder;
import lombok.Getter;
import lombok.Setter;

import java.math.BigDecimal;

@Getter
@Setter
@Builder
public class PaymentDetailModel {
    private String orderId;
    private String transactionId;
    private String status;
    private BigDecimal amount;
    private String currency;
    private String payerEmail;
    private String payerName;
}
</file>

<file path="paypal-module/src/main/java/pe/edu/certus/paypalmodule/logic/ports/driven/ForManagingPaypal.java">
package pe.edu.certus.paypalmodule.logic.ports.driven;

import com.paypal.http.HttpResponse;
import com.paypal.orders.Order;

import java.io.IOException;
import java.math.BigDecimal;

public interface ForManagingPaypal {
    HttpResponse<Order> initiateOrder(BigDecimal amount, String currency) throws IOException;
    HttpResponse<Order> confirmOrder(String orderId) throws IOException;
}
</file>

<file path="paypal-module/src/main/java/pe/edu/certus/paypalmodule/logic/ports/driver/ForGettingWorkPrice.java">
package pe.edu.certus.paypalmodule.logic.ports.driver;

import java.math.BigDecimal;
import java.util.Optional;

public interface ForGettingWorkPrice {
    Optional< BigDecimal > findWorkPriceById( Long workId);

}
</file>

<file path="paypal-module/src/main/java/pe/edu/certus/paypalmodule/PaypalModuleApplication.java">
package pe.edu.certus.paypalmodule;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;

@SpringBootApplication
public class PaypalModuleApplication {

    public static void main( String[] args ) {
        SpringApplication.run( PaypalModuleApplication.class, args );
    }

}
</file>

<file path="paypal-module/src/main/java/pe/edu/certus/paypalmodule/repository/adapters/driver/WorkPriceManager.java">
package pe.edu.certus.paypalmodule.repository.adapters.driver;

import org.springframework.stereotype.Service;
import pe.edu.certus.paypalmodule.logic.ports.driver.ForGettingWorkPrice;
import pe.edu.certus.paypalmodule.repository.entity.WorkPriceEntity;
import pe.edu.certus.paypalmodule.repository.ports.driver.ForQueryingWorkInPaypal;

import java.math.BigDecimal;
import java.util.Optional;

@Service
public class WorkPriceManager implements ForGettingWorkPrice {

    private final ForQueryingWorkInPaypal forQueryingWorkPrice;

    public WorkPriceManager(ForQueryingWorkInPaypal forQueryingWorkPrice) {
        this.forQueryingWorkPrice = forQueryingWorkPrice;
    }

    @Override
    public Optional<BigDecimal> findWorkPriceById(Long workId) {
        return forQueryingWorkPrice.findById(workId)
                .map(WorkPriceEntity::getWorkPrice);
    }
}
</file>

<file path="paypal-module/src/main/java/pe/edu/certus/paypalmodule/repository/adapters/mapper/PaypalPersistenceMapper.java">
package pe.edu.certus.paypalmodule.repository.adapters.mapper;

import org.springframework.stereotype.Component;
import pe.edu.certus.paypalmodule.logic.model.PaymentDetailModel;
import pe.edu.certus.paypalmodule.repository.entity.PaypalPaymentEntity;
import pe.edu.certus.paypalmodule.repository.ports.mapper.ForBridgingPaypalPayment;

@Component
public class PaypalPersistenceMapper implements ForBridgingPaypalPayment {

    @Override
    public PaypalPaymentEntity toPersistence(PaymentDetailModel paymentDetailModel, Long internalOrderId, String transactionType) {
        return PaypalPaymentEntity.builder()
                .idInternalOrder(internalOrderId)
                .paypalPaymentPayerEmail(paymentDetailModel.getPayerEmail())
                .paypalPaymentStatus(paymentDetailModel.getStatus())
                .paypalPaymentTransactionId(paymentDetailModel.getTransactionId())
                .paypalPaymentAmount(paymentDetailModel.getAmount())
                .paypalPaymentCurrency(paymentDetailModel.getCurrency())
                .paypalPaymentTransactionType(transactionType)
                .build();
    }
}
</file>

<file path="paypal-module/src/main/java/pe/edu/certus/paypalmodule/repository/entity/OrderEntity.java">
package pe.edu.certus.paypalmodule.repository.entity;

import jakarta.persistence.*;
import lombok.*;

import java.time.LocalDateTime;

@Entity
@Table(name = "orders")
@Getter
@Setter
@Builder
@AllArgsConstructor
@NoArgsConstructor
public class OrderEntity {

    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    @Column(name = "order_id")
    private Long orderId;

    @Column(name = "id_user", nullable = false)
    private Long idUser;

    @Column(name = "order_date")
    private LocalDateTime orderDate;

    @PrePersist
    protected void onCreate() {
        orderDate = LocalDateTime.now();
    }
}
</file>

<file path="paypal-module/src/main/java/pe/edu/certus/paypalmodule/repository/entity/PaypalPaymentEntity.java">
package pe.edu.certus.paypalmodule.repository.entity;

import jakarta.persistence.*;
import lombok.*;

import java.math.BigDecimal;
import java.time.LocalDateTime;

@Entity
@Table(name = "paypal_payments")
@Getter
@Setter
@Builder
@AllArgsConstructor
@NoArgsConstructor
public class PaypalPaymentEntity {

    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    @Column(name = "paypal_payment_id")
    private Long paypalPaymentId;

    @Column(name = "id_internal_order", nullable = false)
    private Long idInternalOrder;

    @Column(name = "paypal_payment_payer_email", length = 255)
    private String paypalPaymentPayerEmail;

    @Column(name = "paypal_payment_status", length = 50, nullable = false)
    private String paypalPaymentStatus;

    @Column(name = "paypal_payment_transaction_id", length = 255, unique = true)
    private String paypalPaymentTransactionId;

    @Column(name = "paypal_payment_amount", nullable = false, precision = 10, scale = 2)
    private BigDecimal paypalPaymentAmount;

    @Column(name = "paypal_payment_currency", length = 3, nullable = false)
    private String paypalPaymentCurrency;

    @Column(name = "paypal_payment_transaction_type", length = 50)
    private String paypalPaymentTransactionType;

    @Column(name = "paypal_payment_created_at", updatable = false)
    private LocalDateTime paypalPaymentCreatedAt;

    @Column(name = "paypal_payment_updated_at")
    private LocalDateTime paypalPaymentUpdatedAt;

    @PrePersist
    protected void onCreate() {
        paypalPaymentCreatedAt = LocalDateTime.now();
        paypalPaymentUpdatedAt = LocalDateTime.now();
    }

    @PreUpdate
    protected void onUpdate() {
        paypalPaymentUpdatedAt = LocalDateTime.now();
    }
}
</file>

<file path="paypal-module/src/main/java/pe/edu/certus/paypalmodule/repository/entity/WorkPriceEntity.java">
package pe.edu.certus.paypalmodule.repository.entity;

import jakarta.persistence.Column;
import jakarta.persistence.Entity;
import jakarta.persistence.Id;
import jakarta.persistence.Table;
import lombok.Getter;
import org.hibernate.annotations.Immutable;

import java.math.BigDecimal;

@Entity
@Table(name = "works")
@Immutable
@Getter
public class WorkPriceEntity {

    @Id
    @Column(name = "work_id")
    private Long id;

    @Column(name = "work_price")
    private BigDecimal workPrice;

}
</file>

<file path="paypal-module/src/main/java/pe/edu/certus/paypalmodule/repository/ports/driver/ForQueryingOrders.java">
package pe.edu.certus.paypalmodule.repository.ports.driver;

import org.springframework.data.jpa.repository.JpaRepository;
import pe.edu.certus.paypalmodule.repository.entity.OrderEntity;

public interface ForQueryingOrders extends JpaRepository< OrderEntity, Long> {
}
</file>

<file path="paypal-module/src/main/java/pe/edu/certus/paypalmodule/repository/ports/driver/ForQueryingPaypalPayments.java">
package pe.edu.certus.paypalmodule.repository.ports.driver;

import org.springframework.data.jpa.repository.JpaRepository;
import pe.edu.certus.paypalmodule.repository.entity.PaypalPaymentEntity;

public interface ForQueryingPaypalPayments extends JpaRepository<PaypalPaymentEntity, Long> {}
</file>

<file path="paypal-module/src/main/java/pe/edu/certus/paypalmodule/repository/ports/driver/ForQueryingWorkInPaypal.java">
package pe.edu.certus.paypalmodule.repository.ports.driver;

import org.springframework.data.jpa.repository.JpaRepository;
import pe.edu.certus.paypalmodule.repository.entity.WorkPriceEntity;

public interface ForQueryingWorkInPaypal extends JpaRepository< WorkPriceEntity, Long> {
}
</file>

<file path="paypal-module/src/main/java/pe/edu/certus/paypalmodule/repository/ports/mapper/ForBridgingPaypalPayment.java">
package pe.edu.certus.paypalmodule.repository.ports.mapper;

import pe.edu.certus.paypalmodule.logic.model.PaymentDetailModel;
import pe.edu.certus.paypalmodule.repository.entity.PaypalPaymentEntity;

public interface ForBridgingPaypalPayment {
    PaypalPaymentEntity toPersistence(PaymentDetailModel paymentDetailModel, Long internalOrderId, String transactionType);
}
</file>

<file path="people-module/.gitattributes">
/mvnw text eol=lf
*.cmd text eol=crlf
</file>

<file path="people-module/.gitignore">
HELP.md
target/
!.mvn/wrapper/maven-wrapper.jar
!**/src/main/**/target/
!**/src/test/**/target/

### STS ###
.apt_generated
.classpath
.factorypath
.project
.settings
.springBeans
.sts4-cache

### IntelliJ IDEA ###
.idea
*.iws
*.iml
*.ipr

### NetBeans ###
/nbproject/private/
/nbbuild/
/dist/
/nbdist/
/.nb-gradle/
build/
!**/src/main/**/build/
!**/src/test/**/build/

### VS Code ###
.vscode/
</file>

<file path="people-module/mvnw">
#!/bin/sh
# ----------------------------------------------------------------------------
# Licensed to the Apache Software Foundation (ASF) under one
# or more contributor license agreements.  See the NOTICE file
# distributed with this work for additional information
# regarding copyright ownership.  The ASF licenses this file
# to you under the Apache License, Version 2.0 (the
# "License"); you may not use this file except in compliance
# with the License.  You may obtain a copy of the License at
#
#    http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing,
# software distributed under the License is distributed on an
# "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
# KIND, either express or implied.  See the License for the
# specific language governing permissions and limitations
# under the License.
# ----------------------------------------------------------------------------

# ----------------------------------------------------------------------------
# Apache Maven Wrapper startup batch script, version 3.3.2
#
# Optional ENV vars
# -----------------
#   JAVA_HOME - location of a JDK home dir, required when download maven via java source
#   MVNW_REPOURL - repo url base for downloading maven distribution
#   MVNW_USERNAME/MVNW_PASSWORD - user and password for downloading maven
#   MVNW_VERBOSE - true: enable verbose log; debug: trace the mvnw script; others: silence the output
# ----------------------------------------------------------------------------

set -euf
[ "${MVNW_VERBOSE-}" != debug ] || set -x

# OS specific support.
native_path() { printf %s\\n "$1"; }
case "$(uname)" in
CYGWIN* | MINGW*)
  [ -z "${JAVA_HOME-}" ] || JAVA_HOME="$(cygpath --unix "$JAVA_HOME")"
  native_path() { cygpath --path --windows "$1"; }
  ;;
esac

# set JAVACMD and JAVACCMD
set_java_home() {
  # For Cygwin and MinGW, ensure paths are in Unix format before anything is touched
  if [ -n "${JAVA_HOME-}" ]; then
    if [ -x "$JAVA_HOME/jre/sh/java" ]; then
      # IBM's JDK on AIX uses strange locations for the executables
      JAVACMD="$JAVA_HOME/jre/sh/java"
      JAVACCMD="$JAVA_HOME/jre/sh/javac"
    else
      JAVACMD="$JAVA_HOME/bin/java"
      JAVACCMD="$JAVA_HOME/bin/javac"

      if [ ! -x "$JAVACMD" ] || [ ! -x "$JAVACCMD" ]; then
        echo "The JAVA_HOME environment variable is not defined correctly, so mvnw cannot run." >&2
        echo "JAVA_HOME is set to \"$JAVA_HOME\", but \"\$JAVA_HOME/bin/java\" or \"\$JAVA_HOME/bin/javac\" does not exist." >&2
        return 1
      fi
    fi
  else
    JAVACMD="$(
      'set' +e
      'unset' -f command 2>/dev/null
      'command' -v java
    )" || :
    JAVACCMD="$(
      'set' +e
      'unset' -f command 2>/dev/null
      'command' -v javac
    )" || :

    if [ ! -x "${JAVACMD-}" ] || [ ! -x "${JAVACCMD-}" ]; then
      echo "The java/javac command does not exist in PATH nor is JAVA_HOME set, so mvnw cannot run." >&2
      return 1
    fi
  fi
}

# hash string like Java String::hashCode
hash_string() {
  str="${1:-}" h=0
  while [ -n "$str" ]; do
    char="${str%"${str#?}"}"
    h=$(((h * 31 + $(LC_CTYPE=C printf %d "'$char")) % 4294967296))
    str="${str#?}"
  done
  printf %x\\n $h
}

verbose() { :; }
[ "${MVNW_VERBOSE-}" != true ] || verbose() { printf %s\\n "${1-}"; }

die() {
  printf %s\\n "$1" >&2
  exit 1
}

trim() {
  # MWRAPPER-139:
  #   Trims trailing and leading whitespace, carriage returns, tabs, and linefeeds.
  #   Needed for removing poorly interpreted newline sequences when running in more
  #   exotic environments such as mingw bash on Windows.
  printf "%s" "${1}" | tr -d '[:space:]'
}

# parse distributionUrl and optional distributionSha256Sum, requires .mvn/wrapper/maven-wrapper.properties
while IFS="=" read -r key value; do
  case "${key-}" in
  distributionUrl) distributionUrl=$(trim "${value-}") ;;
  distributionSha256Sum) distributionSha256Sum=$(trim "${value-}") ;;
  esac
done <"${0%/*}/.mvn/wrapper/maven-wrapper.properties"
[ -n "${distributionUrl-}" ] || die "cannot read distributionUrl property in ${0%/*}/.mvn/wrapper/maven-wrapper.properties"

case "${distributionUrl##*/}" in
maven-mvnd-*bin.*)
  MVN_CMD=mvnd.sh _MVNW_REPO_PATTERN=/maven/mvnd/
  case "${PROCESSOR_ARCHITECTURE-}${PROCESSOR_ARCHITEW6432-}:$(uname -a)" in
  *AMD64:CYGWIN* | *AMD64:MINGW*) distributionPlatform=windows-amd64 ;;
  :Darwin*x86_64) distributionPlatform=darwin-amd64 ;;
  :Darwin*arm64) distributionPlatform=darwin-aarch64 ;;
  :Linux*x86_64*) distributionPlatform=linux-amd64 ;;
  *)
    echo "Cannot detect native platform for mvnd on $(uname)-$(uname -m), use pure java version" >&2
    distributionPlatform=linux-amd64
    ;;
  esac
  distributionUrl="${distributionUrl%-bin.*}-$distributionPlatform.zip"
  ;;
maven-mvnd-*) MVN_CMD=mvnd.sh _MVNW_REPO_PATTERN=/maven/mvnd/ ;;
*) MVN_CMD="mvn${0##*/mvnw}" _MVNW_REPO_PATTERN=/org/apache/maven/ ;;
esac

# apply MVNW_REPOURL and calculate MAVEN_HOME
# maven home pattern: ~/.m2/wrapper/dists/{apache-maven-<version>,maven-mvnd-<version>-<platform>}/<hash>
[ -z "${MVNW_REPOURL-}" ] || distributionUrl="$MVNW_REPOURL$_MVNW_REPO_PATTERN${distributionUrl#*"$_MVNW_REPO_PATTERN"}"
distributionUrlName="${distributionUrl##*/}"
distributionUrlNameMain="${distributionUrlName%.*}"
distributionUrlNameMain="${distributionUrlNameMain%-bin}"
MAVEN_USER_HOME="${MAVEN_USER_HOME:-${HOME}/.m2}"
MAVEN_HOME="${MAVEN_USER_HOME}/wrapper/dists/${distributionUrlNameMain-}/$(hash_string "$distributionUrl")"

exec_maven() {
  unset MVNW_VERBOSE MVNW_USERNAME MVNW_PASSWORD MVNW_REPOURL || :
  exec "$MAVEN_HOME/bin/$MVN_CMD" "$@" || die "cannot exec $MAVEN_HOME/bin/$MVN_CMD"
}

if [ -d "$MAVEN_HOME" ]; then
  verbose "found existing MAVEN_HOME at $MAVEN_HOME"
  exec_maven "$@"
fi

case "${distributionUrl-}" in
*?-bin.zip | *?maven-mvnd-?*-?*.zip) ;;
*) die "distributionUrl is not valid, must match *-bin.zip or maven-mvnd-*.zip, but found '${distributionUrl-}'" ;;
esac

# prepare tmp dir
if TMP_DOWNLOAD_DIR="$(mktemp -d)" && [ -d "$TMP_DOWNLOAD_DIR" ]; then
  clean() { rm -rf -- "$TMP_DOWNLOAD_DIR"; }
  trap clean HUP INT TERM EXIT
else
  die "cannot create temp dir"
fi

mkdir -p -- "${MAVEN_HOME%/*}"

# Download and Install Apache Maven
verbose "Couldn't find MAVEN_HOME, downloading and installing it ..."
verbose "Downloading from: $distributionUrl"
verbose "Downloading to: $TMP_DOWNLOAD_DIR/$distributionUrlName"

# select .zip or .tar.gz
if ! command -v unzip >/dev/null; then
  distributionUrl="${distributionUrl%.zip}.tar.gz"
  distributionUrlName="${distributionUrl##*/}"
fi

# verbose opt
__MVNW_QUIET_WGET=--quiet __MVNW_QUIET_CURL=--silent __MVNW_QUIET_UNZIP=-q __MVNW_QUIET_TAR=''
[ "${MVNW_VERBOSE-}" != true ] || __MVNW_QUIET_WGET='' __MVNW_QUIET_CURL='' __MVNW_QUIET_UNZIP='' __MVNW_QUIET_TAR=v

# normalize http auth
case "${MVNW_PASSWORD:+has-password}" in
'') MVNW_USERNAME='' MVNW_PASSWORD='' ;;
has-password) [ -n "${MVNW_USERNAME-}" ] || MVNW_USERNAME='' MVNW_PASSWORD='' ;;
esac

if [ -z "${MVNW_USERNAME-}" ] && command -v wget >/dev/null; then
  verbose "Found wget ... using wget"
  wget ${__MVNW_QUIET_WGET:+"$__MVNW_QUIET_WGET"} "$distributionUrl" -O "$TMP_DOWNLOAD_DIR/$distributionUrlName" || die "wget: Failed to fetch $distributionUrl"
elif [ -z "${MVNW_USERNAME-}" ] && command -v curl >/dev/null; then
  verbose "Found curl ... using curl"
  curl ${__MVNW_QUIET_CURL:+"$__MVNW_QUIET_CURL"} -f -L -o "$TMP_DOWNLOAD_DIR/$distributionUrlName" "$distributionUrl" || die "curl: Failed to fetch $distributionUrl"
elif set_java_home; then
  verbose "Falling back to use Java to download"
  javaSource="$TMP_DOWNLOAD_DIR/Downloader.java"
  targetZip="$TMP_DOWNLOAD_DIR/$distributionUrlName"
  cat >"$javaSource" <<-END
	public class Downloader extends java.net.Authenticator
	{
	  protected java.net.PasswordAuthentication getPasswordAuthentication()
	  {
	    return new java.net.PasswordAuthentication( System.getenv( "MVNW_USERNAME" ), System.getenv( "MVNW_PASSWORD" ).toCharArray() );
	  }
	  public static void main( String[] args ) throws Exception
	  {
	    setDefault( new Downloader() );
	    java.nio.file.Files.copy( java.net.URI.create( args[0] ).toURL().openStream(), java.nio.file.Paths.get( args[1] ).toAbsolutePath().normalize() );
	  }
	}
	END
  # For Cygwin/MinGW, switch paths to Windows format before running javac and java
  verbose " - Compiling Downloader.java ..."
  "$(native_path "$JAVACCMD")" "$(native_path "$javaSource")" || die "Failed to compile Downloader.java"
  verbose " - Running Downloader.java ..."
  "$(native_path "$JAVACMD")" -cp "$(native_path "$TMP_DOWNLOAD_DIR")" Downloader "$distributionUrl" "$(native_path "$targetZip")"
fi

# If specified, validate the SHA-256 sum of the Maven distribution zip file
if [ -n "${distributionSha256Sum-}" ]; then
  distributionSha256Result=false
  if [ "$MVN_CMD" = mvnd.sh ]; then
    echo "Checksum validation is not supported for maven-mvnd." >&2
    echo "Please disable validation by removing 'distributionSha256Sum' from your maven-wrapper.properties." >&2
    exit 1
  elif command -v sha256sum >/dev/null; then
    if echo "$distributionSha256Sum  $TMP_DOWNLOAD_DIR/$distributionUrlName" | sha256sum -c >/dev/null 2>&1; then
      distributionSha256Result=true
    fi
  elif command -v shasum >/dev/null; then
    if echo "$distributionSha256Sum  $TMP_DOWNLOAD_DIR/$distributionUrlName" | shasum -a 256 -c >/dev/null 2>&1; then
      distributionSha256Result=true
    fi
  else
    echo "Checksum validation was requested but neither 'sha256sum' or 'shasum' are available." >&2
    echo "Please install either command, or disable validation by removing 'distributionSha256Sum' from your maven-wrapper.properties." >&2
    exit 1
  fi
  if [ $distributionSha256Result = false ]; then
    echo "Error: Failed to validate Maven distribution SHA-256, your Maven distribution might be compromised." >&2
    echo "If you updated your Maven version, you need to update the specified distributionSha256Sum property." >&2
    exit 1
  fi
fi

# unzip and move
if command -v unzip >/dev/null; then
  unzip ${__MVNW_QUIET_UNZIP:+"$__MVNW_QUIET_UNZIP"} "$TMP_DOWNLOAD_DIR/$distributionUrlName" -d "$TMP_DOWNLOAD_DIR" || die "failed to unzip"
else
  tar xzf${__MVNW_QUIET_TAR:+"$__MVNW_QUIET_TAR"} "$TMP_DOWNLOAD_DIR/$distributionUrlName" -C "$TMP_DOWNLOAD_DIR" || die "failed to untar"
fi
printf %s\\n "$distributionUrl" >"$TMP_DOWNLOAD_DIR/$distributionUrlNameMain/mvnw.url"
mv -- "$TMP_DOWNLOAD_DIR/$distributionUrlNameMain" "$MAVEN_HOME" || [ -d "$MAVEN_HOME" ] || die "fail to move MAVEN_HOME"

clean || :
exec_maven "$@"
</file>

<file path="people-module/mvnw.cmd">
<# : batch portion
@REM ----------------------------------------------------------------------------
@REM Licensed to the Apache Software Foundation (ASF) under one
@REM or more contributor license agreements.  See the NOTICE file
@REM distributed with this work for additional information
@REM regarding copyright ownership.  The ASF licenses this file
@REM to you under the Apache License, Version 2.0 (the
@REM "License"); you may not use this file except in compliance
@REM with the License.  You may obtain a copy of the License at
@REM
@REM    http://www.apache.org/licenses/LICENSE-2.0
@REM
@REM Unless required by applicable law or agreed to in writing,
@REM software distributed under the License is distributed on an
@REM "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
@REM KIND, either express or implied.  See the License for the
@REM specific language governing permissions and limitations
@REM under the License.
@REM ----------------------------------------------------------------------------

@REM ----------------------------------------------------------------------------
@REM Apache Maven Wrapper startup batch script, version 3.3.2
@REM
@REM Optional ENV vars
@REM   MVNW_REPOURL - repo url base for downloading maven distribution
@REM   MVNW_USERNAME/MVNW_PASSWORD - user and password for downloading maven
@REM   MVNW_VERBOSE - true: enable verbose log; others: silence the output
@REM ----------------------------------------------------------------------------

@IF "%__MVNW_ARG0_NAME__%"=="" (SET __MVNW_ARG0_NAME__=%~nx0)
@SET __MVNW_CMD__=
@SET __MVNW_ERROR__=
@SET __MVNW_PSMODULEP_SAVE=%PSModulePath%
@SET PSModulePath=
@FOR /F "usebackq tokens=1* delims==" %%A IN (`powershell -noprofile "& {$scriptDir='%~dp0'; $script='%__MVNW_ARG0_NAME__%'; icm -ScriptBlock ([Scriptblock]::Create((Get-Content -Raw '%~f0'))) -NoNewScope}"`) DO @(
  IF "%%A"=="MVN_CMD" (set __MVNW_CMD__=%%B) ELSE IF "%%B"=="" (echo %%A) ELSE (echo %%A=%%B)
)
@SET PSModulePath=%__MVNW_PSMODULEP_SAVE%
@SET __MVNW_PSMODULEP_SAVE=
@SET __MVNW_ARG0_NAME__=
@SET MVNW_USERNAME=
@SET MVNW_PASSWORD=
@IF NOT "%__MVNW_CMD__%"=="" (%__MVNW_CMD__% %*)
@echo Cannot start maven from wrapper >&2 && exit /b 1
@GOTO :EOF
: end batch / begin powershell #>

$ErrorActionPreference = "Stop"
if ($env:MVNW_VERBOSE -eq "true") {
  $VerbosePreference = "Continue"
}

# calculate distributionUrl, requires .mvn/wrapper/maven-wrapper.properties
$distributionUrl = (Get-Content -Raw "$scriptDir/.mvn/wrapper/maven-wrapper.properties" | ConvertFrom-StringData).distributionUrl
if (!$distributionUrl) {
  Write-Error "cannot read distributionUrl property in $scriptDir/.mvn/wrapper/maven-wrapper.properties"
}

switch -wildcard -casesensitive ( $($distributionUrl -replace '^.*/','') ) {
  "maven-mvnd-*" {
    $USE_MVND = $true
    $distributionUrl = $distributionUrl -replace '-bin\.[^.]*$',"-windows-amd64.zip"
    $MVN_CMD = "mvnd.cmd"
    break
  }
  default {
    $USE_MVND = $false
    $MVN_CMD = $script -replace '^mvnw','mvn'
    break
  }
}

# apply MVNW_REPOURL and calculate MAVEN_HOME
# maven home pattern: ~/.m2/wrapper/dists/{apache-maven-<version>,maven-mvnd-<version>-<platform>}/<hash>
if ($env:MVNW_REPOURL) {
  $MVNW_REPO_PATTERN = if ($USE_MVND) { "/org/apache/maven/" } else { "/maven/mvnd/" }
  $distributionUrl = "$env:MVNW_REPOURL$MVNW_REPO_PATTERN$($distributionUrl -replace '^.*'+$MVNW_REPO_PATTERN,'')"
}
$distributionUrlName = $distributionUrl -replace '^.*/',''
$distributionUrlNameMain = $distributionUrlName -replace '\.[^.]*$','' -replace '-bin$',''
$MAVEN_HOME_PARENT = "$HOME/.m2/wrapper/dists/$distributionUrlNameMain"
if ($env:MAVEN_USER_HOME) {
  $MAVEN_HOME_PARENT = "$env:MAVEN_USER_HOME/wrapper/dists/$distributionUrlNameMain"
}
$MAVEN_HOME_NAME = ([System.Security.Cryptography.MD5]::Create().ComputeHash([byte[]][char[]]$distributionUrl) | ForEach-Object {$_.ToString("x2")}) -join ''
$MAVEN_HOME = "$MAVEN_HOME_PARENT/$MAVEN_HOME_NAME"

if (Test-Path -Path "$MAVEN_HOME" -PathType Container) {
  Write-Verbose "found existing MAVEN_HOME at $MAVEN_HOME"
  Write-Output "MVN_CMD=$MAVEN_HOME/bin/$MVN_CMD"
  exit $?
}

if (! $distributionUrlNameMain -or ($distributionUrlName -eq $distributionUrlNameMain)) {
  Write-Error "distributionUrl is not valid, must end with *-bin.zip, but found $distributionUrl"
}

# prepare tmp dir
$TMP_DOWNLOAD_DIR_HOLDER = New-TemporaryFile
$TMP_DOWNLOAD_DIR = New-Item -Itemtype Directory -Path "$TMP_DOWNLOAD_DIR_HOLDER.dir"
$TMP_DOWNLOAD_DIR_HOLDER.Delete() | Out-Null
trap {
  if ($TMP_DOWNLOAD_DIR.Exists) {
    try { Remove-Item $TMP_DOWNLOAD_DIR -Recurse -Force | Out-Null }
    catch { Write-Warning "Cannot remove $TMP_DOWNLOAD_DIR" }
  }
}

New-Item -Itemtype Directory -Path "$MAVEN_HOME_PARENT" -Force | Out-Null

# Download and Install Apache Maven
Write-Verbose "Couldn't find MAVEN_HOME, downloading and installing it ..."
Write-Verbose "Downloading from: $distributionUrl"
Write-Verbose "Downloading to: $TMP_DOWNLOAD_DIR/$distributionUrlName"

$webclient = New-Object System.Net.WebClient
if ($env:MVNW_USERNAME -and $env:MVNW_PASSWORD) {
  $webclient.Credentials = New-Object System.Net.NetworkCredential($env:MVNW_USERNAME, $env:MVNW_PASSWORD)
}
[Net.ServicePointManager]::SecurityProtocol = [Net.SecurityProtocolType]::Tls12
$webclient.DownloadFile($distributionUrl, "$TMP_DOWNLOAD_DIR/$distributionUrlName") | Out-Null

# If specified, validate the SHA-256 sum of the Maven distribution zip file
$distributionSha256Sum = (Get-Content -Raw "$scriptDir/.mvn/wrapper/maven-wrapper.properties" | ConvertFrom-StringData).distributionSha256Sum
if ($distributionSha256Sum) {
  if ($USE_MVND) {
    Write-Error "Checksum validation is not supported for maven-mvnd. `nPlease disable validation by removing 'distributionSha256Sum' from your maven-wrapper.properties."
  }
  Import-Module $PSHOME\Modules\Microsoft.PowerShell.Utility -Function Get-FileHash
  if ((Get-FileHash "$TMP_DOWNLOAD_DIR/$distributionUrlName" -Algorithm SHA256).Hash.ToLower() -ne $distributionSha256Sum) {
    Write-Error "Error: Failed to validate Maven distribution SHA-256, your Maven distribution might be compromised. If you updated your Maven version, you need to update the specified distributionSha256Sum property."
  }
}

# unzip and move
Expand-Archive "$TMP_DOWNLOAD_DIR/$distributionUrlName" -DestinationPath "$TMP_DOWNLOAD_DIR" | Out-Null
Rename-Item -Path "$TMP_DOWNLOAD_DIR/$distributionUrlNameMain" -NewName $MAVEN_HOME_NAME | Out-Null
try {
  Move-Item -Path "$TMP_DOWNLOAD_DIR/$MAVEN_HOME_NAME" -Destination $MAVEN_HOME_PARENT | Out-Null
} catch {
  if (! (Test-Path -Path "$MAVEN_HOME" -PathType Container)) {
    Write-Error "fail to move MAVEN_HOME"
  }
} finally {
  try { Remove-Item $TMP_DOWNLOAD_DIR -Recurse -Force | Out-Null }
  catch { Write-Warning "Cannot remove $TMP_DOWNLOAD_DIR" }
}

Write-Output "MVN_CMD=$MAVEN_HOME/bin/$MVN_CMD"
</file>

<file path="people-module/src/main/java/pe/edu/certus/peoplemodule/configuration/annotations/PeopleEntityScanConfig.java">
package pe.edu.certus.peoplemodule.configuration.annotations;

import org.springframework.boot.autoconfigure.domain.EntityScan;
import org.springframework.context.annotation.Configuration;

@Configuration
@EntityScan(basePackages = "pe.edu.certus.peoplemodule.repository.entity")
public class PeopleEntityScanConfig {
}
</file>

<file path="people-module/src/main/java/pe/edu/certus/peoplemodule/configuration/annotations/PeoplePersistenceConfig.java">
package pe.edu.certus.peoplemodule.configuration.annotations;

import org.springframework.context.annotation.Configuration;
import org.springframework.data.jpa.repository.config.EnableJpaRepositories;

@Configuration
@EnableJpaRepositories(basePackages = "pe.edu.certus.peoplemodule.repository")
public class PeoplePersistenceConfig {
}
</file>

<file path="people-module/src/main/java/pe/edu/certus/peoplemodule/configuration/mappers/PeopleMapperConfig.java">
package pe.edu.certus.peoplemodule.configuration.mappers;

import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;
import pe.edu.certus.peoplemodule.logic.adapters.mapper.PeopleMapper;

@Configuration
public class PeopleMapperConfig {
    @Bean
    public PeopleMapper peopleMapper() {
        return new PeopleMapper();
    }
}
</file>

<file path="people-module/src/main/java/pe/edu/certus/peoplemodule/configuration/mappers/PeopleMapperPersistenceConfig.java">
package pe.edu.certus.peoplemodule.configuration.mappers;

import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;
import pe.edu.certus.peoplemodule.repository.adapters.mapper.PeoplePersistenceMapper;

@Configuration
public class PeopleMapperPersistenceConfig {
    @Bean
    public PeoplePersistenceMapper peoplePersistenceMapper() {
        return new PeoplePersistenceMapper();
    }

}
</file>

<file path="people-module/src/main/java/pe/edu/certus/peoplemodule/logic/adapters/driven/PeopleManager.java">
package pe.edu.certus.peoplemodule.logic.adapters.driven;

import org.springframework.stereotype.Service;
import pe.edu.certus.peoplemodule.logic.model.PeopleModel;
import pe.edu.certus.peoplemodule.logic.ports.driven.ForManagingPeople;
import pe.edu.certus.peoplemodule.logic.ports.driver.ForPeople;

import java.util.List;

@Service
public class PeopleManager implements ForPeople<PeopleModel, Long> {

    private final ForManagingPeople forManagingPeople;

    public PeopleManager(ForManagingPeople forManagingPeople) {
        this.forManagingPeople = forManagingPeople;
    }

    @Override
    public void createPeople(PeopleModel peopleModel) {
        try {
            forManagingPeople.satisfyCreatePeople(peopleModel);
            System.out.println("THE PERSON HAS BEEN CREATED SUCCESSFULLY");
        } catch (IllegalArgumentException e) {
            System.out.println("ERROR CREATING THE PERSON: " + e.getMessage());
            e.printStackTrace();
        }
    }

    @Override
    public PeopleModel findPeopleById(Long id) {
        try {
            if (id == null) {
                throw new IllegalArgumentException("ID CANNOT BE NULL");
            }

            PeopleModel peopleModel = forManagingPeople.satisfyFindPeopleById(id);
            System.out.println("THE PERSON HAS BEEN FOUND SUCCESSFULLY");

            if (peopleModel == null) {
                throw new IllegalArgumentException("PERSON NOT FOUND");
            }

            return peopleModel;
        } catch (Exception e) {
            throw new RuntimeException("FAILED TO FIND PERSON", e);
        }
    }

    @Override
    public PeopleModel updatePeople(PeopleModel peopleModel) {
        try {
            if (peopleModel == null) {
                throw new IllegalArgumentException("PERSON MODEL CANNOT BE NULL");
            }

            PeopleModel updatedPeopleModel = forManagingPeople.satisfyUpdatePeople(peopleModel);
            System.out.println("PERSON UPDATED SUCCESSFULLY");

            return updatedPeopleModel;
        } catch (Exception e) {
            throw new RuntimeException("FAILED TO UPDATE PERSON", e);
        }
    }

    @Override
    public void deletePeople(Long id) {
        try {
            if (id == null) {
                throw new IllegalArgumentException("ID CANNOT BE NULL");
            }

            forManagingPeople.satisfyDeletePeopleById(id);
            System.out.println("PERSON DELETED SUCCESSFULLY");

        } catch (Exception e) {
            throw new RuntimeException("FAILED TO DELETE PERSON", e);
        }
    }

    @Override
    public List<PeopleModel> findAllPeople() {
        try {
            List<PeopleModel> peopleModels = forManagingPeople.satisfyFindAllPeople();
            System.out.println("ALL PEOPLE HAVE BEEN FOUND SUCCESSFULLY");
            return peopleModels;
        } catch (Exception e) {
            throw new RuntimeException("FAILED TO FIND ALL PEOPLE", e);
        }
    }
}
</file>

<file path="people-module/src/main/java/pe/edu/certus/peoplemodule/logic/ports/driven/ForManagingPeople.java">
package pe.edu.certus.peoplemodule.logic.ports.driven;

import pe.edu.certus.peoplemodule.logic.model.PeopleModel;

import java.util.List;

public interface ForManagingPeople {
    void satisfyCreatePeople(PeopleModel peopleModel);
    PeopleModel satisfyFindPeopleById(Long id);
    List<PeopleModel> satisfyFindAllPeople();
    PeopleModel satisfyUpdatePeople(PeopleModel peopleModel);
    void satisfyDeletePeopleById(Long id);
}
</file>

<file path="people-module/src/main/java/pe/edu/certus/peoplemodule/logic/ports/driver/ForPeople.java">
package pe.edu.certus.peoplemodule.logic.ports.driver;

import java.util.List;

public interface ForPeople<PeopleModel, Long> {
    void createPeople(PeopleModel peopleModel);
    PeopleModel findPeopleById(Long id);
    List<PeopleModel> findAllPeople();
    PeopleModel updatePeople(PeopleModel peopleModel);
    void deletePeople(Long id);
}
</file>

<file path="people-module/src/main/java/pe/edu/certus/peoplemodule/logic/ports/mapper/ForMappingPeople.java">
package pe.edu.certus.peoplemodule.logic.ports.mapper;

import pe.edu.certus.peoplemodule.logic.adapters.driver.PeopleWebModel;
import pe.edu.certus.peoplemodule.logic.model.PeopleModel;

public interface ForMappingPeople {
    PeopleModel fromWeb(PeopleWebModel peopleWebModel);
    PeopleWebModel toWeb(PeopleModel peopleModel);
}
</file>

<file path="people-module/src/main/java/pe/edu/certus/peoplemodule/PeopleModuleApplication.java">
package pe.edu.certus.peoplemodule;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;

@SpringBootApplication
public class PeopleModuleApplication {

    public static void main( String[] args ) {
        SpringApplication.run( PeopleModuleApplication.class, args );
    }

}
</file>

<file path="people-module/src/main/java/pe/edu/certus/peoplemodule/repository/ports/mapper/ForBridgingPeople.java">
package pe.edu.certus.peoplemodule.repository.ports.mapper;

import pe.edu.certus.peoplemodule.logic.model.PeopleModel;
import pe.edu.certus.peoplemodule.repository.entity.PeopleEntity;

public interface ForBridgingPeople {
    PeopleModel fromPersistence(PeopleEntity peopleEntity);
    PeopleEntity toPersistence(PeopleModel peopleModel);
}
</file>

<file path="people-module/src/main/resources/application.properties">
spring.application.name=people-module
</file>

<file path="src/main/java/pe/edu/certus/CertUsBackendServiceApplication.java">
package pe.edu.certus;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;

@SpringBootApplication
public class CertUsBackendServiceApplication {

	public static void main(String[] args) {
		SpringApplication.run(CertUsBackendServiceApplication.class, args);
	}

}
</file>

<file path="src/main/resources/application.properties">
spring.application.name=CertUs Backend Service
</file>

<file path="ui-module/.gitattributes">
/mvnw text eol=lf
*.cmd text eol=crlf
</file>

<file path="ui-module/.gitignore">
HELP.md
target/
.mvn/wrapper/maven-wrapper.jar
!**/src/main/**/target/
!**/src/test/**/target/

### STS ###
.apt_generated
.classpath
.factorypath
.project
.settings
.springBeans
.sts4-cache

### IntelliJ IDEA ###
.idea
*.iws
*.iml
*.ipr

### NetBeans ###
/nbproject/private/
/nbbuild/
/dist/
/nbdist/
/.nb-gradle/
build/
!**/src/main/**/build/
!**/src/test/**/build/

### VS Code ###
.vscode/
</file>

<file path="ui-module/mvnw">
#!/bin/sh
# ----------------------------------------------------------------------------
# Licensed to the Apache Software Foundation (ASF) under one
# or more contributor license agreements.  See the NOTICE file
# distributed with this work for additional information
# regarding copyright ownership.  The ASF licenses this file
# to you under the Apache License, Version 2.0 (the
# "License"); you may not use this file except in compliance
# with the License.  You may obtain a copy of the License at
#
#    http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing,
# software distributed under the License is distributed on an
# "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
# KIND, either express or implied.  See the License for the
# specific language governing permissions and limitations
# under the License.
# ----------------------------------------------------------------------------

# ----------------------------------------------------------------------------
# Apache Maven Wrapper startup batch script, version 3.3.2
#
# Optional ENV vars
# -----------------
#   JAVA_HOME - location of a JDK home dir, required when download maven via java source
#   MVNW_REPOURL - repo url base for downloading maven distribution
#   MVNW_USERNAME/MVNW_PASSWORD - user and password for downloading maven
#   MVNW_VERBOSE - true: enable verbose log; debug: trace the mvnw script; others: silence the output
# ----------------------------------------------------------------------------

set -euf
[ "${MVNW_VERBOSE-}" != debug ] || set -x

# OS specific support.
native_path() { printf %s\\n "$1"; }
case "$(uname)" in
CYGWIN* | MINGW*)
  [ -z "${JAVA_HOME-}" ] || JAVA_HOME="$(cygpath --unix "$JAVA_HOME")"
  native_path() { cygpath --path --windows "$1"; }
  ;;
esac

# set JAVACMD and JAVACCMD
set_java_home() {
  # For Cygwin and MinGW, ensure paths are in Unix format before anything is touched
  if [ -n "${JAVA_HOME-}" ]; then
    if [ -x "$JAVA_HOME/jre/sh/java" ]; then
      # IBM's JDK on AIX uses strange locations for the executables
      JAVACMD="$JAVA_HOME/jre/sh/java"
      JAVACCMD="$JAVA_HOME/jre/sh/javac"
    else
      JAVACMD="$JAVA_HOME/bin/java"
      JAVACCMD="$JAVA_HOME/bin/javac"

      if [ ! -x "$JAVACMD" ] || [ ! -x "$JAVACCMD" ]; then
        echo "The JAVA_HOME environment variable is not defined correctly, so mvnw cannot run." >&2
        echo "JAVA_HOME is set to \"$JAVA_HOME\", but \"\$JAVA_HOME/bin/java\" or \"\$JAVA_HOME/bin/javac\" does not exist." >&2
        return 1
      fi
    fi
  else
    JAVACMD="$(
      'set' +e
      'unset' -f command 2>/dev/null
      'command' -v java
    )" || :
    JAVACCMD="$(
      'set' +e
      'unset' -f command 2>/dev/null
      'command' -v javac
    )" || :

    if [ ! -x "${JAVACMD-}" ] || [ ! -x "${JAVACCMD-}" ]; then
      echo "The java/javac command does not exist in PATH nor is JAVA_HOME set, so mvnw cannot run." >&2
      return 1
    fi
  fi
}

# hash string like Java String::hashCode
hash_string() {
  str="${1:-}" h=0
  while [ -n "$str" ]; do
    char="${str%"${str#?}"}"
    h=$(((h * 31 + $(LC_CTYPE=C printf %d "'$char")) % 4294967296))
    str="${str#?}"
  done
  printf %x\\n $h
}

verbose() { :; }
[ "${MVNW_VERBOSE-}" != true ] || verbose() { printf %s\\n "${1-}"; }

die() {
  printf %s\\n "$1" >&2
  exit 1
}

trim() {
  # MWRAPPER-139:
  #   Trims trailing and leading whitespace, carriage returns, tabs, and linefeeds.
  #   Needed for removing poorly interpreted newline sequences when running in more
  #   exotic environments such as mingw bash on Windows.
  printf "%s" "${1}" | tr -d '[:space:]'
}

# parse distributionUrl and optional distributionSha256Sum, requires .mvn/wrapper/maven-wrapper.properties
while IFS="=" read -r key value; do
  case "${key-}" in
  distributionUrl) distributionUrl=$(trim "${value-}") ;;
  distributionSha256Sum) distributionSha256Sum=$(trim "${value-}") ;;
  esac
done <"${0%/*}/.mvn/wrapper/maven-wrapper.properties"
[ -n "${distributionUrl-}" ] || die "cannot read distributionUrl property in ${0%/*}/.mvn/wrapper/maven-wrapper.properties"

case "${distributionUrl##*/}" in
maven-mvnd-*bin.*)
  MVN_CMD=mvnd.sh _MVNW_REPO_PATTERN=/maven/mvnd/
  case "${PROCESSOR_ARCHITECTURE-}${PROCESSOR_ARCHITEW6432-}:$(uname -a)" in
  *AMD64:CYGWIN* | *AMD64:MINGW*) distributionPlatform=windows-amd64 ;;
  :Darwin*x86_64) distributionPlatform=darwin-amd64 ;;
  :Darwin*arm64) distributionPlatform=darwin-aarch64 ;;
  :Linux*x86_64*) distributionPlatform=linux-amd64 ;;
  *)
    echo "Cannot detect native platform for mvnd on $(uname)-$(uname -m), use pure java version" >&2
    distributionPlatform=linux-amd64
    ;;
  esac
  distributionUrl="${distributionUrl%-bin.*}-$distributionPlatform.zip"
  ;;
maven-mvnd-*) MVN_CMD=mvnd.sh _MVNW_REPO_PATTERN=/maven/mvnd/ ;;
*) MVN_CMD="mvn${0##*/mvnw}" _MVNW_REPO_PATTERN=/org/apache/maven/ ;;
esac

# apply MVNW_REPOURL and calculate MAVEN_HOME
# maven home pattern: ~/.m2/wrapper/dists/{apache-maven-<version>,maven-mvnd-<version>-<platform>}/<hash>
[ -z "${MVNW_REPOURL-}" ] || distributionUrl="$MVNW_REPOURL$_MVNW_REPO_PATTERN${distributionUrl#*"$_MVNW_REPO_PATTERN"}"
distributionUrlName="${distributionUrl##*/}"
distributionUrlNameMain="${distributionUrlName%.*}"
distributionUrlNameMain="${distributionUrlNameMain%-bin}"
MAVEN_USER_HOME="${MAVEN_USER_HOME:-${HOME}/.m2}"
MAVEN_HOME="${MAVEN_USER_HOME}/wrapper/dists/${distributionUrlNameMain-}/$(hash_string "$distributionUrl")"

exec_maven() {
  unset MVNW_VERBOSE MVNW_USERNAME MVNW_PASSWORD MVNW_REPOURL || :
  exec "$MAVEN_HOME/bin/$MVN_CMD" "$@" || die "cannot exec $MAVEN_HOME/bin/$MVN_CMD"
}

if [ -d "$MAVEN_HOME" ]; then
  verbose "found existing MAVEN_HOME at $MAVEN_HOME"
  exec_maven "$@"
fi

case "${distributionUrl-}" in
*?-bin.zip | *?maven-mvnd-?*-?*.zip) ;;
*) die "distributionUrl is not valid, must match *-bin.zip or maven-mvnd-*.zip, but found '${distributionUrl-}'" ;;
esac

# prepare tmp dir
if TMP_DOWNLOAD_DIR="$(mktemp -d)" && [ -d "$TMP_DOWNLOAD_DIR" ]; then
  clean() { rm -rf -- "$TMP_DOWNLOAD_DIR"; }
  trap clean HUP INT TERM EXIT
else
  die "cannot create temp dir"
fi

mkdir -p -- "${MAVEN_HOME%/*}"

# Download and Install Apache Maven
verbose "Couldn't find MAVEN_HOME, downloading and installing it ..."
verbose "Downloading from: $distributionUrl"
verbose "Downloading to: $TMP_DOWNLOAD_DIR/$distributionUrlName"

# select .zip or .tar.gz
if ! command -v unzip >/dev/null; then
  distributionUrl="${distributionUrl%.zip}.tar.gz"
  distributionUrlName="${distributionUrl##*/}"
fi

# verbose opt
__MVNW_QUIET_WGET=--quiet __MVNW_QUIET_CURL=--silent __MVNW_QUIET_UNZIP=-q __MVNW_QUIET_TAR=''
[ "${MVNW_VERBOSE-}" != true ] || __MVNW_QUIET_WGET='' __MVNW_QUIET_CURL='' __MVNW_QUIET_UNZIP='' __MVNW_QUIET_TAR=v

# normalize http auth
case "${MVNW_PASSWORD:+has-password}" in
'') MVNW_USERNAME='' MVNW_PASSWORD='' ;;
has-password) [ -n "${MVNW_USERNAME-}" ] || MVNW_USERNAME='' MVNW_PASSWORD='' ;;
esac

if [ -z "${MVNW_USERNAME-}" ] && command -v wget >/dev/null; then
  verbose "Found wget ... using wget"
  wget ${__MVNW_QUIET_WGET:+"$__MVNW_QUIET_WGET"} "$distributionUrl" -O "$TMP_DOWNLOAD_DIR/$distributionUrlName" || die "wget: Failed to fetch $distributionUrl"
elif [ -z "${MVNW_USERNAME-}" ] && command -v curl >/dev/null; then
  verbose "Found curl ... using curl"
  curl ${__MVNW_QUIET_CURL:+"$__MVNW_QUIET_CURL"} -f -L -o "$TMP_DOWNLOAD_DIR/$distributionUrlName" "$distributionUrl" || die "curl: Failed to fetch $distributionUrl"
elif set_java_home; then
  verbose "Falling back to use Java to download"
  javaSource="$TMP_DOWNLOAD_DIR/Downloader.java"
  targetZip="$TMP_DOWNLOAD_DIR/$distributionUrlName"
  cat >"$javaSource" <<-END
	public class Downloader extends java.net.Authenticator
	{
	  protected java.net.PasswordAuthentication getPasswordAuthentication()
	  {
	    return new java.net.PasswordAuthentication( System.getenv( "MVNW_USERNAME" ), System.getenv( "MVNW_PASSWORD" ).toCharArray() );
	  }
	  public static void main( String[] args ) throws Exception
	  {
	    setDefault( new Downloader() );
	    java.nio.file.Files.copy( java.net.URI.create( args[0] ).toURL().openStream(), java.nio.file.Paths.get( args[1] ).toAbsolutePath().normalize() );
	  }
	}
	END
  # For Cygwin/MinGW, switch paths to Windows format before running javac and java
  verbose " - Compiling Downloader.java ..."
  "$(native_path "$JAVACCMD")" "$(native_path "$javaSource")" || die "Failed to compile Downloader.java"
  verbose " - Running Downloader.java ..."
  "$(native_path "$JAVACMD")" -cp "$(native_path "$TMP_DOWNLOAD_DIR")" Downloader "$distributionUrl" "$(native_path "$targetZip")"
fi

# If specified, validate the SHA-256 sum of the Maven distribution zip file
if [ -n "${distributionSha256Sum-}" ]; then
  distributionSha256Result=false
  if [ "$MVN_CMD" = mvnd.sh ]; then
    echo "Checksum validation is not supported for maven-mvnd." >&2
    echo "Please disable validation by removing 'distributionSha256Sum' from your maven-wrapper.properties." >&2
    exit 1
  elif command -v sha256sum >/dev/null; then
    if echo "$distributionSha256Sum  $TMP_DOWNLOAD_DIR/$distributionUrlName" | sha256sum -c >/dev/null 2>&1; then
      distributionSha256Result=true
    fi
  elif command -v shasum >/dev/null; then
    if echo "$distributionSha256Sum  $TMP_DOWNLOAD_DIR/$distributionUrlName" | shasum -a 256 -c >/dev/null 2>&1; then
      distributionSha256Result=true
    fi
  else
    echo "Checksum validation was requested but neither 'sha256sum' or 'shasum' are available." >&2
    echo "Please install either command, or disable validation by removing 'distributionSha256Sum' from your maven-wrapper.properties." >&2
    exit 1
  fi
  if [ $distributionSha256Result = false ]; then
    echo "Error: Failed to validate Maven distribution SHA-256, your Maven distribution might be compromised." >&2
    echo "If you updated your Maven version, you need to update the specified distributionSha256Sum property." >&2
    exit 1
  fi
fi

# unzip and move
if command -v unzip >/dev/null; then
  unzip ${__MVNW_QUIET_UNZIP:+"$__MVNW_QUIET_UNZIP"} "$TMP_DOWNLOAD_DIR/$distributionUrlName" -d "$TMP_DOWNLOAD_DIR" || die "failed to unzip"
else
  tar xzf${__MVNW_QUIET_TAR:+"$__MVNW_QUIET_TAR"} "$TMP_DOWNLOAD_DIR/$distributionUrlName" -C "$TMP_DOWNLOAD_DIR" || die "failed to untar"
fi
printf %s\\n "$distributionUrl" >"$TMP_DOWNLOAD_DIR/$distributionUrlNameMain/mvnw.url"
mv -- "$TMP_DOWNLOAD_DIR/$distributionUrlNameMain" "$MAVEN_HOME" || [ -d "$MAVEN_HOME" ] || die "fail to move MAVEN_HOME"

clean || :
exec_maven "$@"
</file>

<file path="ui-module/mvnw.cmd">
<# : batch portion
@REM ----------------------------------------------------------------------------
@REM Licensed to the Apache Software Foundation (ASF) under one
@REM or more contributor license agreements.  See the NOTICE file
@REM distributed with this work for additional information
@REM regarding copyright ownership.  The ASF licenses this file
@REM to you under the Apache License, Version 2.0 (the
@REM "License"); you may not use this file except in compliance
@REM with the License.  You may obtain a copy of the License at
@REM
@REM    http://www.apache.org/licenses/LICENSE-2.0
@REM
@REM Unless required by applicable law or agreed to in writing,
@REM software distributed under the License is distributed on an
@REM "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
@REM KIND, either express or implied.  See the License for the
@REM specific language governing permissions and limitations
@REM under the License.
@REM ----------------------------------------------------------------------------

@REM ----------------------------------------------------------------------------
@REM Apache Maven Wrapper startup batch script, version 3.3.2
@REM
@REM Optional ENV vars
@REM   MVNW_REPOURL - repo url base for downloading maven distribution
@REM   MVNW_USERNAME/MVNW_PASSWORD - user and password for downloading maven
@REM   MVNW_VERBOSE - true: enable verbose log; others: silence the output
@REM ----------------------------------------------------------------------------

@IF "%__MVNW_ARG0_NAME__%"=="" (SET __MVNW_ARG0_NAME__=%~nx0)
@SET __MVNW_CMD__=
@SET __MVNW_ERROR__=
@SET __MVNW_PSMODULEP_SAVE=%PSModulePath%
@SET PSModulePath=
@FOR /F "usebackq tokens=1* delims==" %%A IN (`powershell -noprofile "& {$scriptDir='%~dp0'; $script='%__MVNW_ARG0_NAME__%'; icm -ScriptBlock ([Scriptblock]::Create((Get-Content -Raw '%~f0'))) -NoNewScope}"`) DO @(
  IF "%%A"=="MVN_CMD" (set __MVNW_CMD__=%%B) ELSE IF "%%B"=="" (echo %%A) ELSE (echo %%A=%%B)
)
@SET PSModulePath=%__MVNW_PSMODULEP_SAVE%
@SET __MVNW_PSMODULEP_SAVE=
@SET __MVNW_ARG0_NAME__=
@SET MVNW_USERNAME=
@SET MVNW_PASSWORD=
@IF NOT "%__MVNW_CMD__%"=="" (%__MVNW_CMD__% %*)
@echo Cannot start maven from wrapper >&2 && exit /b 1
@GOTO :EOF
: end batch / begin powershell #>

$ErrorActionPreference = "Stop"
if ($env:MVNW_VERBOSE -eq "true") {
  $VerbosePreference = "Continue"
}

# calculate distributionUrl, requires .mvn/wrapper/maven-wrapper.properties
$distributionUrl = (Get-Content -Raw "$scriptDir/.mvn/wrapper/maven-wrapper.properties" | ConvertFrom-StringData).distributionUrl
if (!$distributionUrl) {
  Write-Error "cannot read distributionUrl property in $scriptDir/.mvn/wrapper/maven-wrapper.properties"
}

switch -wildcard -casesensitive ( $($distributionUrl -replace '^.*/','') ) {
  "maven-mvnd-*" {
    $USE_MVND = $true
    $distributionUrl = $distributionUrl -replace '-bin\.[^.]*$',"-windows-amd64.zip"
    $MVN_CMD = "mvnd.cmd"
    break
  }
  default {
    $USE_MVND = $false
    $MVN_CMD = $script -replace '^mvnw','mvn'
    break
  }
}

# apply MVNW_REPOURL and calculate MAVEN_HOME
# maven home pattern: ~/.m2/wrapper/dists/{apache-maven-<version>,maven-mvnd-<version>-<platform>}/<hash>
if ($env:MVNW_REPOURL) {
  $MVNW_REPO_PATTERN = if ($USE_MVND) { "/org/apache/maven/" } else { "/maven/mvnd/" }
  $distributionUrl = "$env:MVNW_REPOURL$MVNW_REPO_PATTERN$($distributionUrl -replace '^.*'+$MVNW_REPO_PATTERN,'')"
}
$distributionUrlName = $distributionUrl -replace '^.*/',''
$distributionUrlNameMain = $distributionUrlName -replace '\.[^.]*$','' -replace '-bin$',''
$MAVEN_HOME_PARENT = "$HOME/.m2/wrapper/dists/$distributionUrlNameMain"
if ($env:MAVEN_USER_HOME) {
  $MAVEN_HOME_PARENT = "$env:MAVEN_USER_HOME/wrapper/dists/$distributionUrlNameMain"
}
$MAVEN_HOME_NAME = ([System.Security.Cryptography.MD5]::Create().ComputeHash([byte[]][char[]]$distributionUrl) | ForEach-Object {$_.ToString("x2")}) -join ''
$MAVEN_HOME = "$MAVEN_HOME_PARENT/$MAVEN_HOME_NAME"

if (Test-Path -Path "$MAVEN_HOME" -PathType Container) {
  Write-Verbose "found existing MAVEN_HOME at $MAVEN_HOME"
  Write-Output "MVN_CMD=$MAVEN_HOME/bin/$MVN_CMD"
  exit $?
}

if (! $distributionUrlNameMain -or ($distributionUrlName -eq $distributionUrlNameMain)) {
  Write-Error "distributionUrl is not valid, must end with *-bin.zip, but found $distributionUrl"
}

# prepare tmp dir
$TMP_DOWNLOAD_DIR_HOLDER = New-TemporaryFile
$TMP_DOWNLOAD_DIR = New-Item -Itemtype Directory -Path "$TMP_DOWNLOAD_DIR_HOLDER.dir"
$TMP_DOWNLOAD_DIR_HOLDER.Delete() | Out-Null
trap {
  if ($TMP_DOWNLOAD_DIR.Exists) {
    try { Remove-Item $TMP_DOWNLOAD_DIR -Recurse -Force | Out-Null }
    catch { Write-Warning "Cannot remove $TMP_DOWNLOAD_DIR" }
  }
}

New-Item -Itemtype Directory -Path "$MAVEN_HOME_PARENT" -Force | Out-Null

# Download and Install Apache Maven
Write-Verbose "Couldn't find MAVEN_HOME, downloading and installing it ..."
Write-Verbose "Downloading from: $distributionUrl"
Write-Verbose "Downloading to: $TMP_DOWNLOAD_DIR/$distributionUrlName"

$webclient = New-Object System.Net.WebClient
if ($env:MVNW_USERNAME -and $env:MVNW_PASSWORD) {
  $webclient.Credentials = New-Object System.Net.NetworkCredential($env:MVNW_USERNAME, $env:MVNW_PASSWORD)
}
[Net.ServicePointManager]::SecurityProtocol = [Net.SecurityProtocolType]::Tls12
$webclient.DownloadFile($distributionUrl, "$TMP_DOWNLOAD_DIR/$distributionUrlName") | Out-Null

# If specified, validate the SHA-256 sum of the Maven distribution zip file
$distributionSha256Sum = (Get-Content -Raw "$scriptDir/.mvn/wrapper/maven-wrapper.properties" | ConvertFrom-StringData).distributionSha256Sum
if ($distributionSha256Sum) {
  if ($USE_MVND) {
    Write-Error "Checksum validation is not supported for maven-mvnd. `nPlease disable validation by removing 'distributionSha256Sum' from your maven-wrapper.properties."
  }
  Import-Module $PSHOME\Modules\Microsoft.PowerShell.Utility -Function Get-FileHash
  if ((Get-FileHash "$TMP_DOWNLOAD_DIR/$distributionUrlName" -Algorithm SHA256).Hash.ToLower() -ne $distributionSha256Sum) {
    Write-Error "Error: Failed to validate Maven distribution SHA-256, your Maven distribution might be compromised. If you updated your Maven version, you need to update the specified distributionSha256Sum property."
  }
}

# unzip and move
Expand-Archive "$TMP_DOWNLOAD_DIR/$distributionUrlName" -DestinationPath "$TMP_DOWNLOAD_DIR" | Out-Null
Rename-Item -Path "$TMP_DOWNLOAD_DIR/$distributionUrlNameMain" -NewName $MAVEN_HOME_NAME | Out-Null
try {
  Move-Item -Path "$TMP_DOWNLOAD_DIR/$MAVEN_HOME_NAME" -Destination $MAVEN_HOME_PARENT | Out-Null
} catch {
  if (! (Test-Path -Path "$MAVEN_HOME" -PathType Container)) {
    Write-Error "fail to move MAVEN_HOME"
  }
} finally {
  try { Remove-Item $TMP_DOWNLOAD_DIR -Recurse -Force | Out-Null }
  catch { Write-Warning "Cannot remove $TMP_DOWNLOAD_DIR" }
}

Write-Output "MVN_CMD=$MAVEN_HOME/bin/$MVN_CMD"
</file>

<file path="ui-module/pom.xml">
<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd">
    <modelVersion>4.0.0</modelVersion>
    <parent>
        <groupId>pe.edu.certus</groupId>
        <artifactId>cm-backend</artifactId>
        <version>0.0.1-SNAPSHOT</version>
    </parent>

    <artifactId>ui-module</artifactId>
    <name>CertUs Frontend Service</name>
    <description>Frontend project for CertUs</description>

    <properties>
        <java.version>17</java.version>
    </properties>

    <dependencies>

        <dependency>
            <groupId>pe.edu.certus</groupId>
            <artifactId>works-module</artifactId>
            <version>${project.version}</version>
        </dependency>

        <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-starter-thymeleaf</artifactId>
        </dependency>
        <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-starter-web</artifactId>
        </dependency>

        <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-devtools</artifactId>
            <scope>runtime</scope>
            <optional>true</optional>
        </dependency>
        <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-starter-test</artifactId>
            <scope>test</scope>
        </dependency>
        <dependency>
            <groupId>org.projectlombok</groupId>
            <artifactId>lombok</artifactId>
            <scope>provided</scope>
        </dependency>
    </dependencies>

    <build>
        <plugins>

        </plugins>
    </build>
</project>
</file>

<file path="ui-module/src/main/java/pe/edu/certus/uimodule/ui/config/StorageConfig.java">
package pe.edu.certus.uimodule.ui.config;

import org.springframework.stereotype.Service;
import org.springframework.web.multipart.MultipartFile;

import java.io.IOException;
import java.nio.file.Files;
import java.nio.file.Path;
import java.nio.file.Paths;
import java.util.UUID;

@Service
public class StorageConfig {

    private final Path imageStorageLocation = Paths.get( "ui-module/src/main/resources/static/img/works/uploads" );
    private final Path projectStorageLocation = Paths.get( "ui-module/src/main/resources/static/projects" );

    public StorageConfig( ) throws IOException {
        Files.createDirectories( imageStorageLocation );
        Files.createDirectories( projectStorageLocation );
    }

    public String storeFile( MultipartFile file, String type ) throws IOException {
        if ( file.isEmpty( ) ) {
            throw new IOException( "Failed to store empty file." );
        }

        // Generar un nombre de archivo único para evitar colisiones
        String originalFilename = file.getOriginalFilename( );
        String extension = "";
        if ( originalFilename != null && originalFilename.contains( "." ) ) {
            extension = originalFilename.substring( originalFilename.lastIndexOf( "." ) );
        }
        String uniqueFilename = UUID.randomUUID( ).toString( ) + extension;

        Path targetLocation;
        String webPath;

        if ( "image".equals( type ) ) {
            targetLocation = this.imageStorageLocation.resolve( uniqueFilename );
            webPath = "/img/works/uploads/" + uniqueFilename;
        } else if ( "project".equals( type ) ) {
            targetLocation = this.projectStorageLocation.resolve( uniqueFilename );
            webPath = "/projects/" + uniqueFilename;
        } else {
            throw new IllegalArgumentException( "Invalid file type specified." );
        }

        Files.copy( file.getInputStream( ), targetLocation );

        return webPath;
    }
}
</file>

<file path="ui-module/src/main/java/pe/edu/certus/uimodule/ui/config/WebConfig.java">
package pe.edu.certus.uimodule.ui.config;

import org.springframework.context.annotation.Configuration;
import org.springframework.web.servlet.config.annotation.ResourceHandlerRegistry;
import org.springframework.web.servlet.config.annotation.WebMvcConfigurer;

@Configuration
public class WebConfig implements WebMvcConfigurer {

    @Override
    public void addResourceHandlers( ResourceHandlerRegistry registry ) {

        registry.addResourceHandler( "/css/**" )
                .addResourceLocations( "classpath:/frontend-config/css/" );

        registry.addResourceHandler( "/scripts/**" )
                .addResourceLocations( "classpath:/static/scripts/" );

        registry.addResourceHandler( "/img/**" )
                .addResourceLocations( "classpath:/static/img/" );

        registry.addResourceHandler( "/video/**" )
                .addResourceLocations( "classpath:/static/video/" );
    }
}
</file>

<file path="ui-module/src/main/java/pe/edu/certus/uimodule/ui/pages/auth/login/adapters/drivers/LoginRoute.java">
package pe.edu.certus.uimodule.ui.pages.auth.login.adapters.drivers;

public class LoginRoute {
    public static final String LOGIN_PAGE_ROUTE = "/auth/login";
    public static final String LOGIN_PAGE_FILE = "/auth/login/templates/login";
}
</file>

<file path="ui-module/src/main/java/pe/edu/certus/uimodule/ui/pages/auth/login/ports/drivers/ForLogin.java">
package pe.edu.certus.uimodule.ui.pages.auth.login.ports.drivers;

import org.springframework.ui.Model;

public interface ForLogin {
    String showLoginPage( Model model );
}
</file>

<file path="ui-module/src/main/java/pe/edu/certus/uimodule/ui/pages/auth/register/adapters/drivers/RegisterController.java">
package pe.edu.certus.uimodule.ui.pages.auth.register.adapters.drivers;

import org.springframework.beans.factory.annotation.Value;
import org.springframework.stereotype.Controller;
import org.springframework.ui.Model;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RequestMapping;
import pe.edu.certus.uimodule.ui.pages.auth.register.ports.drivers.ForRegister;
import pe.edu.certus.uimodule.ui.pages.constants.BusinessRoute;

@Controller
@RequestMapping( BusinessRoute.BUSINESS_PAGE_ROUTE )
public class RegisterController implements ForRegister {

    @Value( "${google.client-id}" )
    private String googleClientId;

    @GetMapping( RegisterRoute.REGISTER_PAGE_ROUTE )
    @Override
    public String showRegisterPage( Model model ) {
        model.addAttribute( "googleClientId", googleClientId );
        return RegisterRoute.REGISTER_PAGE_FILE;
    }
}
</file>

<file path="ui-module/src/main/java/pe/edu/certus/uimodule/ui/pages/auth/register/adapters/drivers/RegisterRoute.java">
package pe.edu.certus.uimodule.ui.pages.auth.register.adapters.drivers;

public class RegisterRoute {
    public static final String REGISTER_PAGE_ROUTE = "/auth/register";
    public static final String REGISTER_PAGE_FILE = "/auth/register/templates/register";
}
</file>

<file path="ui-module/src/main/java/pe/edu/certus/uimodule/ui/pages/auth/register/ports/drivers/ForRegister.java">
package pe.edu.certus.uimodule.ui.pages.auth.register.ports.drivers;

import org.springframework.ui.Model;

public interface ForRegister {
    String showRegisterPage( Model model );
}
</file>

<file path="ui-module/src/main/java/pe/edu/certus/uimodule/ui/pages/constants/BusinessRoute.java">
package pe.edu.certus.uimodule.ui.pages.constants;

public class BusinessRoute {
    public static final String BUSINESS_PAGE_ROUTE = "/marketplace";
}
</file>

<file path="ui-module/src/main/java/pe/edu/certus/uimodule/ui/pages/dashboard/admin/adapters/driver/AdminDashboardController.java">
package pe.edu.certus.uimodule.ui.pages.dashboard.admin.adapters.driver;

import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RequestMapping;
import pe.edu.certus.uimodule.ui.pages.constants.BusinessRoute;
import pe.edu.certus.uimodule.ui.pages.dashboard.admin.ports.driver.ForAdminDashboard;

@Controller
@RequestMapping( BusinessRoute.BUSINESS_PAGE_ROUTE )
public class AdminDashboardController implements ForAdminDashboard {

    @GetMapping( AdminDashboardRoute.ADMIN_DASHBOARD_ROUTE )
    @Override
    public String showAdminDashboard( ) {
        return AdminDashboardRoute.ADMIN_DASHBOARD_FILE;
    }
}
</file>

<file path="ui-module/src/main/java/pe/edu/certus/uimodule/ui/pages/dashboard/admin/adapters/driver/AdminDashboardRoute.java">
package pe.edu.certus.uimodule.ui.pages.dashboard.admin.adapters.driver;

public class AdminDashboardRoute {
    public static final String ADMIN_DASHBOARD_ROUTE = "/dashboard/admin";

    public static final String ADMIN_DASHBOARD_FILE = "/dashboard/admin/templates/admin-dashboard";

}
</file>

<file path="ui-module/src/main/java/pe/edu/certus/uimodule/ui/pages/dashboard/admin/ports/driver/ForAdminDashboard.java">
package pe.edu.certus.uimodule.ui.pages.dashboard.admin.ports.driver;

public interface ForAdminDashboard {

    String showAdminDashboard( );
}
</file>

<file path="ui-module/src/main/java/pe/edu/certus/uimodule/ui/pages/dashboard/seller/adapters/driver/SellerDashboardController.java">
package pe.edu.certus.uimodule.ui.pages.dashboard.seller.adapters.driver;

import org.springframework.stereotype.Controller;
import org.springframework.ui.Model;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RequestMapping;
import pe.edu.certus.uimodule.ui.pages.constants.BusinessRoute;
import pe.edu.certus.uimodule.ui.pages.dashboard.seller.ports.driver.ForSellerDashboard;
import pe.edu.certus.worksmodule.logic.model.WorkCategoryModel;
import pe.edu.certus.worksmodule.logic.model.WorkModel;
import pe.edu.certus.worksmodule.logic.ports.driver.ForWorkCategory;

@Controller
@RequestMapping( BusinessRoute.BUSINESS_PAGE_ROUTE )
@SuppressWarnings( "SpringJavaInjectionPointsAutowiringInspection" )
public class SellerDashboardController implements ForSellerDashboard {

    private final ForWorkCategory forWorkCategory;

    public SellerDashboardController( ForWorkCategory forWorkCategory ) {
        this.forWorkCategory = forWorkCategory;
    }

    @GetMapping( SellerDashboardRoute.SELLER_DASHBOARD_ROUTE )
    @Override
    public String showSellerDashboard( Model model ) { // <-- Añadir Model
        // Pasar un objeto vacío para el formulario del modal
        model.addAttribute( "newWork", WorkModel.builder( ).build( ) );

        // Pasar la lista de categorías para el select
        java.util.List< WorkCategoryModel > categories = forWorkCategory.findAllCategories( );
        model.addAttribute( "categories", categories );

        return SellerDashboardRoute.SELLER_DASHBOARD_FILE;
    }

    @GetMapping( "/fragments/seller-works" )
    public String loadWorkString( ) {
        return SellerDashboardRoute.SELLER_WORKS_FRAGMENT + " :: content";
    }

    @GetMapping( "/fragments/seller-works-under-review" )
    public String loadSellerWorksUnderReview( ) {
        return SellerDashboardRoute.SELLER_WORKS_UNDER_REVIEW_FRAGMENT + " :: content";
    }

    @GetMapping( "/fragments/seller-sales" )
    public String loadSales( ) {
        return SellerDashboardRoute.SELLER_SALES_FRAGMENT + " :: content";
    }

}
</file>

<file path="ui-module/src/main/java/pe/edu/certus/uimodule/ui/pages/dashboard/seller/adapters/driver/SellerDashboardRoute.java">
package pe.edu.certus.uimodule.ui.pages.dashboard.seller.adapters.driver;

public class SellerDashboardRoute {

    public static final String SELLER_DASHBOARD_ROUTE = "/dashboard/seller";

    public static final String SELLER_DASHBOARD_FILE = "/dashboard/seller/seller-dashboard";

    // Fragments Routes (View Dynamic Dashboard)

    public static final String SELLER_WORKS_FRAGMENT = "/dashboard/seller/fragments/seller-works";
    public static final String SELLER_WORKS_UNDER_REVIEW_FRAGMENT = "/dashboard/seller/fragments/seller-works-under-review";
    public static final String SELLER_SALES_FRAGMENT = "/dashboard/seller/fragments/seller-sales";
}
</file>

<file path="ui-module/src/main/java/pe/edu/certus/uimodule/ui/pages/dashboard/seller/ports/driver/ForSellerDashboard.java">
package pe.edu.certus.uimodule.ui.pages.dashboard.seller.ports.driver;

import org.springframework.ui.Model;

public interface ForSellerDashboard {

    /* ==================================
          SELLER DASHBOARD ENDPOINTS
     ================================== */
    String showSellerDashboard( Model model );

}
</file>

<file path="ui-module/src/main/java/pe/edu/certus/uimodule/ui/pages/home/adapters/drivers/HomeController.java">
package pe.edu.certus.uimodule.ui.pages.home.adapters.drivers;

import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RequestMapping;
import pe.edu.certus.uimodule.ui.pages.constants.BusinessRoute;
import pe.edu.certus.uimodule.ui.pages.home.ports.drivers.ForHome;

@Controller
@RequestMapping( BusinessRoute.BUSINESS_PAGE_ROUTE )
public class HomeController implements ForHome {

    @GetMapping( HomeRoute.HOME_PAGE_ROUTE )
    @Override
    public String showHomePage( ) {
        return HomeRoute.HOME_PAGE_FILE;
    }
}
</file>

<file path="ui-module/src/main/java/pe/edu/certus/uimodule/ui/pages/home/adapters/drivers/HomeRoute.java">
package pe.edu.certus.uimodule.ui.pages.home.adapters.drivers;

class HomeRoute {
    public static final String HOME_PAGE_ROUTE = "/home";
    public static final String HOME_PAGE_FILE = "/home/templates/home";
}
</file>

<file path="ui-module/src/main/java/pe/edu/certus/uimodule/ui/pages/home/ports/drivers/ForHome.java">
package pe.edu.certus.uimodule.ui.pages.home.ports.drivers;

public interface ForHome {
    String showHomePage( );
}
</file>

<file path="ui-module/src/main/java/pe/edu/certus/uimodule/ui/pages/orders/adapters/drivers/OrderController.java">
package pe.edu.certus.uimodule.ui.pages.orders.adapters.drivers;

import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RequestMapping;
import pe.edu.certus.uimodule.ui.pages.constants.BusinessRoute;
import pe.edu.certus.uimodule.ui.pages.orders.ports.drivers.ForOrder;

@Controller
@RequestMapping( BusinessRoute.BUSINESS_PAGE_ROUTE )
public class OrderController implements ForOrder {

    @GetMapping( OrderRoute.ORDERS_PAGE_ROUTE )
    @Override
    public String showOrders( ) {
        return OrderRoute.ORDERS_PAGE_FILE;
    }


    @GetMapping( OrderRoute.ORDER_DETAILS_PAGE_ROUTE )
    @Override
    public String showOrderDetails( ) {
        return OrderRoute.ORDER_DETAILS_PAGE_FILE;
    }
}
</file>

<file path="ui-module/src/main/java/pe/edu/certus/uimodule/ui/pages/orders/adapters/drivers/OrderRoute.java">
package pe.edu.certus.uimodule.ui.pages.orders.adapters.drivers;

public class OrderRoute {

    public static final String ORDERS_PAGE_ROUTE = "/orders";
    public static final String ORDERS_PAGE_FILE = "/orders/templates/orders";

    public static final String ORDER_DETAILS_PAGE_ROUTE = "/orders/orderId";
    public static final String ORDER_DETAILS_PAGE_FILE = "/orders/templates/order-details";

}
</file>

<file path="ui-module/src/main/java/pe/edu/certus/uimodule/ui/pages/orders/ports/drivers/CartRequest.java">
package pe.edu.certus.uimodule.ui.pages.orders.ports.drivers;

import lombok.Getter;
import lombok.Setter;

import java.util.List;

@Getter
@Setter
public class CartRequest {
    private List< Long > workIds;
}
</file>

<file path="ui-module/src/main/java/pe/edu/certus/uimodule/ui/pages/orders/ports/drivers/ForOrder.java">
package pe.edu.certus.uimodule.ui.pages.orders.ports.drivers;

public interface ForOrder {
    String showOrders( );

    String showOrderDetails( );
}
</file>

<file path="ui-module/src/main/java/pe/edu/certus/uimodule/ui/pages/profile/adapters/drivers/ProfileController.java">
package pe.edu.certus.uimodule.ui.pages.profile.adapters.drivers;

import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.PathVariable;
import org.springframework.web.bind.annotation.RequestMapping;
import pe.edu.certus.uimodule.ui.pages.constants.BusinessRoute;

@Controller
@RequestMapping(BusinessRoute.BUSINESS_PAGE_ROUTE)
public class ProfileController {

    @GetMapping(value = {"/profile", "/profiles/{userId}"})
    public String showProfile(@PathVariable(required = false) Long userId) {
        return ProfileRoute.PROFILE_PAGE_FILE;
    }
}
</file>

<file path="ui-module/src/main/java/pe/edu/certus/uimodule/ui/pages/profile/adapters/drivers/ProfileRoute.java">
package pe.edu.certus.uimodule.ui.pages.profile.adapters.drivers;

public class ProfileRoute {
    public static final String PROFILE_PAGE_ROUTE = "/profiles/userId";
    public static final String PROFILE_PAGE_FILE = "/profile/templates/profile";

}
</file>

<file path="ui-module/src/main/java/pe/edu/certus/uimodule/ui/pages/profile/ports/drivers/ForProfile.java">
package pe.edu.certus.uimodule.ui.pages.profile.ports.drivers;

public interface ForProfile {
    String showProfile( );
}
</file>

<file path="ui-module/src/main/java/pe/edu/certus/uimodule/ui/pages/request/adapters/drivers/RequestSellerRoleController.java">
package pe.edu.certus.uimodule.ui.pages.request.adapters.drivers;

import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RequestMapping;
import pe.edu.certus.uimodule.ui.pages.constants.BusinessRoute;
import pe.edu.certus.uimodule.ui.pages.request.ports.drivers.ForRequestSeller;

@Controller
@RequestMapping( BusinessRoute.BUSINESS_PAGE_ROUTE )
public class RequestSellerRoleController implements ForRequestSeller {

    @GetMapping( RequestSellerRoleRoute.REQUEST_SELLER_ROLE_PAGE_ROUTE )
    @Override
    public String showRequestRolePage( ) {
        return RequestSellerRoleRoute.REQUEST_SELLER_ROLE_PAGE_FILE;
    }

}
</file>

<file path="ui-module/src/main/java/pe/edu/certus/uimodule/ui/pages/request/adapters/drivers/RequestSellerRoleRoute.java">
package pe.edu.certus.uimodule.ui.pages.request.adapters.drivers;

public class RequestSellerRoleRoute {

    public static final String REQUEST_SELLER_ROLE_PAGE_ROUTE = "/request-seller-role";
    public static final String REQUEST_SELLER_ROLE_PAGE_FILE = "/request/templates/request-seller-role";

}
</file>

<file path="ui-module/src/main/java/pe/edu/certus/uimodule/ui/pages/request/ports/drivers/ForRequestSeller.java">
package pe.edu.certus.uimodule.ui.pages.request.ports.drivers;

public interface ForRequestSeller {

    /* ==================================
            REQUEST SELLER ROLE ENDPOINTS
     ================================== */

    String showRequestRolePage( );

}
</file>

<file path="ui-module/src/main/java/pe/edu/certus/uimodule/ui/pages/works/adapters/drivers/WorkController.java">
package pe.edu.certus.uimodule.ui.pages.works.adapters.drivers;

import org.springframework.http.HttpStatus;
import org.springframework.http.ResponseEntity;
import org.springframework.security.core.Authentication;
import org.springframework.web.bind.annotation.*;
import org.springframework.web.multipart.MultipartFile;
import pe.edu.certus.uimodule.ui.config.StorageConfig;
import pe.edu.certus.worksmodule.logic.model.WorkModel;
import pe.edu.certus.worksmodule.logic.ports.driver.ForWork;

import java.io.IOException;
import java.util.ArrayList;
import java.util.List;
import java.util.Map;

// CAMBIO 1: Usar @RestController para que los métodos devuelvan JSON por defecto.
@RestController
@RequestMapping("/marketplace/dashboard/seller/works")
@SuppressWarnings("SpringJavaInjectionPointsAutowiringInspection")
public class WorkController {

    private final ForWork forWork;
    private final StorageConfig storageConfig;

    public WorkController(ForWork forWork, StorageConfig storageConfig) {
        this.forWork = forWork;
        this.storageConfig = storageConfig;
    }

    @PostMapping("/create")
    public ResponseEntity<?> createWork(@ModelAttribute("newWork") WorkModel workModel,
                                        @RequestParam("imageFiles") List<MultipartFile> imageFiles,
                                        @RequestParam("projectFile") MultipartFile projectFile,
                                        Authentication authentication) {

        if (authentication == null) {
            return ResponseEntity.status(HttpStatus.UNAUTHORIZED).body(Map.of("errorMessage", "Error de autenticación. Por favor, inicia sesión de nuevo."));
        }

        if (imageFiles.isEmpty() || imageFiles.get(0).isEmpty()) {
            return ResponseEntity.badRequest().body(Map.of("errorMessage", "Debes subir al menos una imagen para el trabajo."));
        }

        if (projectFile.isEmpty()) {
            return ResponseEntity.badRequest().body(Map.of("errorMessage", "Debes subir el archivo del proyecto."));
        }

        try {
            Long sellerId = Long.parseLong(authentication.getName());
            workModel.setIdSellerUser(sellerId);

            List<String> imageUrls = new ArrayList<>();
            for (MultipartFile file : imageFiles) {
                if (!file.isEmpty()) {
                    imageUrls.add(storageConfig.storeFile(file, "image"));
                }
            }

            if (!imageUrls.isEmpty()) {
                workModel.setWorkImageUrl(imageUrls.get(0));
                workModel.setImageUrls(imageUrls);
            }

            String projectPath = storageConfig.storeFile(projectFile, "project");
            workModel.setWorkFilePath(projectPath);
            workModel.setWorkStatus(WorkModel.WorkStatus.EN_REVISION);

            forWork.createWork(workModel);

            return ResponseEntity.ok(Map.of("successMessage", "¡Trabajo enviado a revisión con éxito!"));

        } catch (IOException e) {
            e.printStackTrace();
            return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).body(Map.of("errorMessage", "Error al subir los archivos: " + e.getMessage()));
        } catch (Exception e) {
            e.printStackTrace();
            return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).body(Map.of("errorMessage", "Error inesperado al crear el trabajo: " + e.getMessage()));
        }
    }
}
</file>

<file path="ui-module/src/main/java/pe/edu/certus/uimodule/ui/pages/works/adapters/drivers/WorkRoute.java">
package pe.edu.certus.uimodule.ui.pages.works.adapters.drivers;

public class WorkRoute {
    public static final String WORK_PAGE_FILE = "/works/templates/works";
    public static final String WORK_PAGE_ROUTE = "/works";

    public static final String WORK_DETAIL_PAGE_FILE = "/works/templates/work-details";
    public static final String WORK_DETAIL_PAGE_ROUTE = "/works/{workId}";
}
</file>

<file path="ui-module/src/main/java/pe/edu/certus/uimodule/ui/pages/works/adapters/drivers/WorkRouteController.java">
package pe.edu.certus.uimodule.ui.pages.works.adapters.drivers;

import org.springframework.stereotype.Controller;
import org.springframework.ui.Model;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.PathVariable;
import org.springframework.web.bind.annotation.RequestMapping;
import pe.edu.certus.uimodule.ui.pages.constants.BusinessRoute;
import pe.edu.certus.worksmodule.logic.model.WorkModel;
import pe.edu.certus.worksmodule.logic.ports.driver.ForWork;

@Controller
@RequestMapping( BusinessRoute.BUSINESS_PAGE_ROUTE )
@SuppressWarnings( "SpringJavaInjectionPointsAutowiringInspection" )
public class WorkRouteController {

    private final ForWork forWork;

    public WorkRouteController( ForWork forWork ) {
        this.forWork = forWork;
    }

    @GetMapping( WorkRoute.WORK_PAGE_ROUTE )
    public String showWorksPage( ) {
        return WorkRoute.WORK_PAGE_FILE;
    }

    @GetMapping( WorkRoute.WORK_DETAIL_PAGE_ROUTE )
    public String showWorkDetailPage( @PathVariable Long workId, Model model ) {
        WorkModel work = ( WorkModel ) forWork.findWorkById( workId );

        model.addAttribute( "work", work );
        model.addAttribute( "ratings", work.getRatings( ) );

        return WorkRoute.WORK_DETAIL_PAGE_FILE;
    }
}
</file>

<file path="ui-module/src/main/java/pe/edu/certus/uimodule/ui/pages/works/ports/drivers/ForWorkRoute.java">
package pe.edu.certus.uimodule.ui.pages.works.ports.drivers;

import org.springframework.ui.Model;

public interface ForWorkRoute {
    String showWorksPage( Model model, String category, String priceRange, Integer popularity, int page, int size );

    String showWorkDetailPage( Long workId, Model model );
}
</file>

<file path="ui-module/src/main/java/pe/edu/certus/uimodule/UiModuleApplication.java">
package pe.edu.certus.uimodule;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;

@SpringBootApplication
public class UiModuleApplication {

    public static void main( String[] args ) {
        SpringApplication.run( UiModuleApplication.class, args );
    }

}
</file>

<file path="ui-module/src/main/resources/application.properties">
spring.application.name=ui-module
</file>

<file path="ui-module/src/main/resources/frontend-config/css/animate.css">
@charset "UTF-8";
/*!
 * animate.css - https://animate.style/
 * Version - 4.1.1
 * Licensed under the MIT license - http://opensource.org/licenses/MIT
 *
 * Copyright (c) 2020 Animate.css
 */
:root {
    --animate-duration: 1s;
    --animate-delay: 1s;
    --animate-repeat: 1;
}

.animate__animated {
    -webkit-animation-duration: 1s;
    animation-duration: 1s;
    -webkit-animation-duration: var(--animate-duration);
    animation-duration: var(--animate-duration);
    -webkit-animation-fill-mode: both;
    animation-fill-mode: both;
}

.animate__animated.animate__infinite {
    -webkit-animation-iteration-count: infinite;
    animation-iteration-count: infinite;
}

.animate__animated.animate__repeat-1 {
    -webkit-animation-iteration-count: 1;
    animation-iteration-count: 1;
    -webkit-animation-iteration-count: var(--animate-repeat);
    animation-iteration-count: var(--animate-repeat);
}

.animate__animated.animate__repeat-2 {
    -webkit-animation-iteration-count: calc(1 * 2);
    animation-iteration-count: calc(1 * 2);
    -webkit-animation-iteration-count: calc(var(--animate-repeat) * 2);
    animation-iteration-count: calc(var(--animate-repeat) * 2);
}

.animate__animated.animate__repeat-3 {
    -webkit-animation-iteration-count: calc(1 * 3);
    animation-iteration-count: calc(1 * 3);
    -webkit-animation-iteration-count: calc(var(--animate-repeat) * 3);
    animation-iteration-count: calc(var(--animate-repeat) * 3);
}

.animate__animated.animate__delay-1s {
    -webkit-animation-delay: 1s;
    animation-delay: 1s;
    -webkit-animation-delay: var(--animate-delay);
    animation-delay: var(--animate-delay);
}

.animate__animated.animate__delay-2s {
    -webkit-animation-delay: calc(1s * 2);
    animation-delay: calc(1s * 2);
    -webkit-animation-delay: calc(var(--animate-delay) * 2);
    animation-delay: calc(var(--animate-delay) * 2);
}

.animate__animated.animate__delay-3s {
    -webkit-animation-delay: calc(1s * 3);
    animation-delay: calc(1s * 3);
    -webkit-animation-delay: calc(var(--animate-delay) * 3);
    animation-delay: calc(var(--animate-delay) * 3);
}

.animate__animated.animate__delay-4s {
    -webkit-animation-delay: calc(1s * 4);
    animation-delay: calc(1s * 4);
    -webkit-animation-delay: calc(var(--animate-delay) * 4);
    animation-delay: calc(var(--animate-delay) * 4);
}

.animate__animated.animate__delay-5s {
    -webkit-animation-delay: calc(1s * 5);
    animation-delay: calc(1s * 5);
    -webkit-animation-delay: calc(var(--animate-delay) * 5);
    animation-delay: calc(var(--animate-delay) * 5);
}

.animate__animated.animate__faster {
    -webkit-animation-duration: calc(1s / 2);
    animation-duration: calc(1s / 2);
    -webkit-animation-duration: calc(var(--animate-duration) / 2);
    animation-duration: calc(var(--animate-duration) / 2);
}

.animate__animated.animate__fast {
    -webkit-animation-duration: calc(1s * 0.8);
    animation-duration: calc(1s * 0.8);
    -webkit-animation-duration: calc(var(--animate-duration) * 0.8);
    animation-duration: calc(var(--animate-duration) * 0.8);
}

.animate__animated.animate__slow {
    -webkit-animation-duration: calc(1s * 2);
    animation-duration: calc(1s * 2);
    -webkit-animation-duration: calc(var(--animate-duration) * 2);
    animation-duration: calc(var(--animate-duration) * 2);
}

.animate__animated.animate__slower {
    -webkit-animation-duration: calc(1s * 3);
    animation-duration: calc(1s * 3);
    -webkit-animation-duration: calc(var(--animate-duration) * 3);
    animation-duration: calc(var(--animate-duration) * 3);
}

@media print, (prefers-reduced-motion: reduce) {
    .animate__animated {
        -webkit-animation-duration: 1ms !important;
        animation-duration: 1ms !important;
        -webkit-transition-duration: 1ms !important;
        transition-duration: 1ms !important;
        -webkit-animation-iteration-count: 1 !important;
        animation-iteration-count: 1 !important;
    }

    .animate__animated[class*='Out'] {
        opacity: 0;
    }
}

/* Attention seekers  */
@-webkit-keyframes bounce {
    from,
    20%,
    53%,
    to {
        -webkit-animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);
        animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);
        -webkit-transform: translate3d(0, 0, 0);
        transform: translate3d(0, 0, 0);
    }

    40%,
    43% {
        -webkit-animation-timing-function: cubic-bezier(0.755, 0.05, 0.855, 0.06);
        animation-timing-function: cubic-bezier(0.755, 0.05, 0.855, 0.06);
        -webkit-transform: translate3d(0, -30px, 0) scaleY(1.1);
        transform: translate3d(0, -30px, 0) scaleY(1.1);
    }

    70% {
        -webkit-animation-timing-function: cubic-bezier(0.755, 0.05, 0.855, 0.06);
        animation-timing-function: cubic-bezier(0.755, 0.05, 0.855, 0.06);
        -webkit-transform: translate3d(0, -15px, 0) scaleY(1.05);
        transform: translate3d(0, -15px, 0) scaleY(1.05);
    }

    80% {
        -webkit-transition-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);
        transition-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);
        -webkit-transform: translate3d(0, 0, 0) scaleY(0.95);
        transform: translate3d(0, 0, 0) scaleY(0.95);
    }

    90% {
        -webkit-transform: translate3d(0, -4px, 0) scaleY(1.02);
        transform: translate3d(0, -4px, 0) scaleY(1.02);
    }
}

@keyframes bounce {
    from,
    20%,
    53%,
    to {
        -webkit-animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);
        animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);
        -webkit-transform: translate3d(0, 0, 0);
        transform: translate3d(0, 0, 0);
    }

    40%,
    43% {
        -webkit-animation-timing-function: cubic-bezier(0.755, 0.05, 0.855, 0.06);
        animation-timing-function: cubic-bezier(0.755, 0.05, 0.855, 0.06);
        -webkit-transform: translate3d(0, -30px, 0) scaleY(1.1);
        transform: translate3d(0, -30px, 0) scaleY(1.1);
    }

    70% {
        -webkit-animation-timing-function: cubic-bezier(0.755, 0.05, 0.855, 0.06);
        animation-timing-function: cubic-bezier(0.755, 0.05, 0.855, 0.06);
        -webkit-transform: translate3d(0, -15px, 0) scaleY(1.05);
        transform: translate3d(0, -15px, 0) scaleY(1.05);
    }

    80% {
        -webkit-transition-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);
        transition-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);
        -webkit-transform: translate3d(0, 0, 0) scaleY(0.95);
        transform: translate3d(0, 0, 0) scaleY(0.95);
    }

    90% {
        -webkit-transform: translate3d(0, -4px, 0) scaleY(1.02);
        transform: translate3d(0, -4px, 0) scaleY(1.02);
    }
}

.animate__bounce {
    -webkit-animation-name: bounce;
    animation-name: bounce;
    -webkit-transform-origin: center bottom;
    transform-origin: center bottom;
}

@-webkit-keyframes flash {
    from,
    50%,
    to {
        opacity: 1;
    }

    25%,
    75% {
        opacity: 0;
    }
}

@keyframes flash {
    from,
    50%,
    to {
        opacity: 1;
    }

    25%,
    75% {
        opacity: 0;
    }
}

.animate__flash {
    -webkit-animation-name: flash;
    animation-name: flash;
}

/* originally authored by Nick Pettit - https://github.com/nickpettit/glide */
@-webkit-keyframes pulse {
    from {
        -webkit-transform: scale3d(1, 1, 1);
        transform: scale3d(1, 1, 1);
    }

    50% {
        -webkit-transform: scale3d(1.05, 1.05, 1.05);
        transform: scale3d(1.05, 1.05, 1.05);
    }

    to {
        -webkit-transform: scale3d(1, 1, 1);
        transform: scale3d(1, 1, 1);
    }
}

@keyframes pulse {
    from {
        -webkit-transform: scale3d(1, 1, 1);
        transform: scale3d(1, 1, 1);
    }

    50% {
        -webkit-transform: scale3d(1.05, 1.05, 1.05);
        transform: scale3d(1.05, 1.05, 1.05);
    }

    to {
        -webkit-transform: scale3d(1, 1, 1);
        transform: scale3d(1, 1, 1);
    }
}

.animate__pulse {
    -webkit-animation-name: pulse;
    animation-name: pulse;
    -webkit-animation-timing-function: ease-in-out;
    animation-timing-function: ease-in-out;
}

@-webkit-keyframes rubberBand {
    from {
        -webkit-transform: scale3d(1, 1, 1);
        transform: scale3d(1, 1, 1);
    }

    30% {
        -webkit-transform: scale3d(1.25, 0.75, 1);
        transform: scale3d(1.25, 0.75, 1);
    }

    40% {
        -webkit-transform: scale3d(0.75, 1.25, 1);
        transform: scale3d(0.75, 1.25, 1);
    }

    50% {
        -webkit-transform: scale3d(1.15, 0.85, 1);
        transform: scale3d(1.15, 0.85, 1);
    }

    65% {
        -webkit-transform: scale3d(0.95, 1.05, 1);
        transform: scale3d(0.95, 1.05, 1);
    }

    75% {
        -webkit-transform: scale3d(1.05, 0.95, 1);
        transform: scale3d(1.05, 0.95, 1);
    }

    to {
        -webkit-transform: scale3d(1, 1, 1);
        transform: scale3d(1, 1, 1);
    }
}

@keyframes rubberBand {
    from {
        -webkit-transform: scale3d(1, 1, 1);
        transform: scale3d(1, 1, 1);
    }

    30% {
        -webkit-transform: scale3d(1.25, 0.75, 1);
        transform: scale3d(1.25, 0.75, 1);
    }

    40% {
        -webkit-transform: scale3d(0.75, 1.25, 1);
        transform: scale3d(0.75, 1.25, 1);
    }

    50% {
        -webkit-transform: scale3d(1.15, 0.85, 1);
        transform: scale3d(1.15, 0.85, 1);
    }

    65% {
        -webkit-transform: scale3d(0.95, 1.05, 1);
        transform: scale3d(0.95, 1.05, 1);
    }

    75% {
        -webkit-transform: scale3d(1.05, 0.95, 1);
        transform: scale3d(1.05, 0.95, 1);
    }

    to {
        -webkit-transform: scale3d(1, 1, 1);
        transform: scale3d(1, 1, 1);
    }
}

.animate__rubberBand {
    -webkit-animation-name: rubberBand;
    animation-name: rubberBand;
}

@-webkit-keyframes shakeX {
    from,
    to {
        -webkit-transform: translate3d(0, 0, 0);
        transform: translate3d(0, 0, 0);
    }

    10%,
    30%,
    50%,
    70%,
    90% {
        -webkit-transform: translate3d(-10px, 0, 0);
        transform: translate3d(-10px, 0, 0);
    }

    20%,
    40%,
    60%,
    80% {
        -webkit-transform: translate3d(10px, 0, 0);
        transform: translate3d(10px, 0, 0);
    }
}

@keyframes shakeX {
    from,
    to {
        -webkit-transform: translate3d(0, 0, 0);
        transform: translate3d(0, 0, 0);
    }

    10%,
    30%,
    50%,
    70%,
    90% {
        -webkit-transform: translate3d(-10px, 0, 0);
        transform: translate3d(-10px, 0, 0);
    }

    20%,
    40%,
    60%,
    80% {
        -webkit-transform: translate3d(10px, 0, 0);
        transform: translate3d(10px, 0, 0);
    }
}

.animate__shakeX {
    -webkit-animation-name: shakeX;
    animation-name: shakeX;
}

@-webkit-keyframes shakeY {
    from,
    to {
        -webkit-transform: translate3d(0, 0, 0);
        transform: translate3d(0, 0, 0);
    }

    10%,
    30%,
    50%,
    70%,
    90% {
        -webkit-transform: translate3d(0, -10px, 0);
        transform: translate3d(0, -10px, 0);
    }

    20%,
    40%,
    60%,
    80% {
        -webkit-transform: translate3d(0, 10px, 0);
        transform: translate3d(0, 10px, 0);
    }
}

@keyframes shakeY {
    from,
    to {
        -webkit-transform: translate3d(0, 0, 0);
        transform: translate3d(0, 0, 0);
    }

    10%,
    30%,
    50%,
    70%,
    90% {
        -webkit-transform: translate3d(0, -10px, 0);
        transform: translate3d(0, -10px, 0);
    }

    20%,
    40%,
    60%,
    80% {
        -webkit-transform: translate3d(0, 10px, 0);
        transform: translate3d(0, 10px, 0);
    }
}

.animate__shakeY {
    -webkit-animation-name: shakeY;
    animation-name: shakeY;
}

@-webkit-keyframes headShake {
    0% {
        -webkit-transform: translateX(0);
        transform: translateX(0);
    }

    6.5% {
        -webkit-transform: translateX(-6px) rotateY(-9deg);
        transform: translateX(-6px) rotateY(-9deg);
    }

    18.5% {
        -webkit-transform: translateX(5px) rotateY(7deg);
        transform: translateX(5px) rotateY(7deg);
    }

    31.5% {
        -webkit-transform: translateX(-3px) rotateY(-5deg);
        transform: translateX(-3px) rotateY(-5deg);
    }

    43.5% {
        -webkit-transform: translateX(2px) rotateY(3deg);
        transform: translateX(2px) rotateY(3deg);
    }

    50% {
        -webkit-transform: translateX(0);
        transform: translateX(0);
    }
}

@keyframes headShake {
    0% {
        -webkit-transform: translateX(0);
        transform: translateX(0);
    }

    6.5% {
        -webkit-transform: translateX(-6px) rotateY(-9deg);
        transform: translateX(-6px) rotateY(-9deg);
    }

    18.5% {
        -webkit-transform: translateX(5px) rotateY(7deg);
        transform: translateX(5px) rotateY(7deg);
    }

    31.5% {
        -webkit-transform: translateX(-3px) rotateY(-5deg);
        transform: translateX(-3px) rotateY(-5deg);
    }

    43.5% {
        -webkit-transform: translateX(2px) rotateY(3deg);
        transform: translateX(2px) rotateY(3deg);
    }

    50% {
        -webkit-transform: translateX(0);
        transform: translateX(0);
    }
}

.animate__headShake {
    -webkit-animation-timing-function: ease-in-out;
    animation-timing-function: ease-in-out;
    -webkit-animation-name: headShake;
    animation-name: headShake;
}

@-webkit-keyframes swing {
    20% {
        -webkit-transform: rotate3d(0, 0, 1, 15deg);
        transform: rotate3d(0, 0, 1, 15deg);
    }

    40% {
        -webkit-transform: rotate3d(0, 0, 1, -10deg);
        transform: rotate3d(0, 0, 1, -10deg);
    }

    60% {
        -webkit-transform: rotate3d(0, 0, 1, 5deg);
        transform: rotate3d(0, 0, 1, 5deg);
    }

    80% {
        -webkit-transform: rotate3d(0, 0, 1, -5deg);
        transform: rotate3d(0, 0, 1, -5deg);
    }

    to {
        -webkit-transform: rotate3d(0, 0, 1, 0deg);
        transform: rotate3d(0, 0, 1, 0deg);
    }
}

@keyframes swing {
    20% {
        -webkit-transform: rotate3d(0, 0, 1, 15deg);
        transform: rotate3d(0, 0, 1, 15deg);
    }

    40% {
        -webkit-transform: rotate3d(0, 0, 1, -10deg);
        transform: rotate3d(0, 0, 1, -10deg);
    }

    60% {
        -webkit-transform: rotate3d(0, 0, 1, 5deg);
        transform: rotate3d(0, 0, 1, 5deg);
    }

    80% {
        -webkit-transform: rotate3d(0, 0, 1, -5deg);
        transform: rotate3d(0, 0, 1, -5deg);
    }

    to {
        -webkit-transform: rotate3d(0, 0, 1, 0deg);
        transform: rotate3d(0, 0, 1, 0deg);
    }
}

.animate__swing {
    -webkit-transform-origin: top center;
    transform-origin: top center;
    -webkit-animation-name: swing;
    animation-name: swing;
}

@-webkit-keyframes tada {
    from {
        -webkit-transform: scale3d(1, 1, 1);
        transform: scale3d(1, 1, 1);
    }

    10%,
    20% {
        -webkit-transform: scale3d(0.9, 0.9, 0.9) rotate3d(0, 0, 1, -3deg);
        transform: scale3d(0.9, 0.9, 0.9) rotate3d(0, 0, 1, -3deg);
    }

    30%,
    50%,
    70%,
    90% {
        -webkit-transform: scale3d(1.1, 1.1, 1.1) rotate3d(0, 0, 1, 3deg);
        transform: scale3d(1.1, 1.1, 1.1) rotate3d(0, 0, 1, 3deg);
    }

    40%,
    60%,
    80% {
        -webkit-transform: scale3d(1.1, 1.1, 1.1) rotate3d(0, 0, 1, -3deg);
        transform: scale3d(1.1, 1.1, 1.1) rotate3d(0, 0, 1, -3deg);
    }

    to {
        -webkit-transform: scale3d(1, 1, 1);
        transform: scale3d(1, 1, 1);
    }
}

@keyframes tada {
    from {
        -webkit-transform: scale3d(1, 1, 1);
        transform: scale3d(1, 1, 1);
    }

    10%,
    20% {
        -webkit-transform: scale3d(0.9, 0.9, 0.9) rotate3d(0, 0, 1, -3deg);
        transform: scale3d(0.9, 0.9, 0.9) rotate3d(0, 0, 1, -3deg);
    }

    30%,
    50%,
    70%,
    90% {
        -webkit-transform: scale3d(1.1, 1.1, 1.1) rotate3d(0, 0, 1, 3deg);
        transform: scale3d(1.1, 1.1, 1.1) rotate3d(0, 0, 1, 3deg);
    }

    40%,
    60%,
    80% {
        -webkit-transform: scale3d(1.1, 1.1, 1.1) rotate3d(0, 0, 1, -3deg);
        transform: scale3d(1.1, 1.1, 1.1) rotate3d(0, 0, 1, -3deg);
    }

    to {
        -webkit-transform: scale3d(1, 1, 1);
        transform: scale3d(1, 1, 1);
    }
}

.animate__tada {
    -webkit-animation-name: tada;
    animation-name: tada;
}

/* originally authored by Nick Pettit - https://github.com/nickpettit/glide */
@-webkit-keyframes wobble {
    from {
        -webkit-transform: translate3d(0, 0, 0);
        transform: translate3d(0, 0, 0);
    }

    15% {
        -webkit-transform: translate3d(-25%, 0, 0) rotate3d(0, 0, 1, -5deg);
        transform: translate3d(-25%, 0, 0) rotate3d(0, 0, 1, -5deg);
    }

    30% {
        -webkit-transform: translate3d(20%, 0, 0) rotate3d(0, 0, 1, 3deg);
        transform: translate3d(20%, 0, 0) rotate3d(0, 0, 1, 3deg);
    }

    45% {
        -webkit-transform: translate3d(-15%, 0, 0) rotate3d(0, 0, 1, -3deg);
        transform: translate3d(-15%, 0, 0) rotate3d(0, 0, 1, -3deg);
    }

    60% {
        -webkit-transform: translate3d(10%, 0, 0) rotate3d(0, 0, 1, 2deg);
        transform: translate3d(10%, 0, 0) rotate3d(0, 0, 1, 2deg);
    }

    75% {
        -webkit-transform: translate3d(-5%, 0, 0) rotate3d(0, 0, 1, -1deg);
        transform: translate3d(-5%, 0, 0) rotate3d(0, 0, 1, -1deg);
    }

    to {
        -webkit-transform: translate3d(0, 0, 0);
        transform: translate3d(0, 0, 0);
    }
}

@keyframes wobble {
    from {
        -webkit-transform: translate3d(0, 0, 0);
        transform: translate3d(0, 0, 0);
    }

    15% {
        -webkit-transform: translate3d(-25%, 0, 0) rotate3d(0, 0, 1, -5deg);
        transform: translate3d(-25%, 0, 0) rotate3d(0, 0, 1, -5deg);
    }

    30% {
        -webkit-transform: translate3d(20%, 0, 0) rotate3d(0, 0, 1, 3deg);
        transform: translate3d(20%, 0, 0) rotate3d(0, 0, 1, 3deg);
    }

    45% {
        -webkit-transform: translate3d(-15%, 0, 0) rotate3d(0, 0, 1, -3deg);
        transform: translate3d(-15%, 0, 0) rotate3d(0, 0, 1, -3deg);
    }

    60% {
        -webkit-transform: translate3d(10%, 0, 0) rotate3d(0, 0, 1, 2deg);
        transform: translate3d(10%, 0, 0) rotate3d(0, 0, 1, 2deg);
    }

    75% {
        -webkit-transform: translate3d(-5%, 0, 0) rotate3d(0, 0, 1, -1deg);
        transform: translate3d(-5%, 0, 0) rotate3d(0, 0, 1, -1deg);
    }

    to {
        -webkit-transform: translate3d(0, 0, 0);
        transform: translate3d(0, 0, 0);
    }
}

.animate__wobble {
    -webkit-animation-name: wobble;
    animation-name: wobble;
}

@-webkit-keyframes jello {
    from,
    11.1%,
    to {
        -webkit-transform: translate3d(0, 0, 0);
        transform: translate3d(0, 0, 0);
    }

    22.2% {
        -webkit-transform: skewX(-12.5deg) skewY(-12.5deg);
        transform: skewX(-12.5deg) skewY(-12.5deg);
    }

    33.3% {
        -webkit-transform: skewX(6.25deg) skewY(6.25deg);
        transform: skewX(6.25deg) skewY(6.25deg);
    }

    44.4% {
        -webkit-transform: skewX(-3.125deg) skewY(-3.125deg);
        transform: skewX(-3.125deg) skewY(-3.125deg);
    }

    55.5% {
        -webkit-transform: skewX(1.5625deg) skewY(1.5625deg);
        transform: skewX(1.5625deg) skewY(1.5625deg);
    }

    66.6% {
        -webkit-transform: skewX(-0.78125deg) skewY(-0.78125deg);
        transform: skewX(-0.78125deg) skewY(-0.78125deg);
    }

    77.7% {
        -webkit-transform: skewX(0.390625deg) skewY(0.390625deg);
        transform: skewX(0.390625deg) skewY(0.390625deg);
    }

    88.8% {
        -webkit-transform: skewX(-0.1953125deg) skewY(-0.1953125deg);
        transform: skewX(-0.1953125deg) skewY(-0.1953125deg);
    }
}

@keyframes jello {
    from,
    11.1%,
    to {
        -webkit-transform: translate3d(0, 0, 0);
        transform: translate3d(0, 0, 0);
    }

    22.2% {
        -webkit-transform: skewX(-12.5deg) skewY(-12.5deg);
        transform: skewX(-12.5deg) skewY(-12.5deg);
    }

    33.3% {
        -webkit-transform: skewX(6.25deg) skewY(6.25deg);
        transform: skewX(6.25deg) skewY(6.25deg);
    }

    44.4% {
        -webkit-transform: skewX(-3.125deg) skewY(-3.125deg);
        transform: skewX(-3.125deg) skewY(-3.125deg);
    }

    55.5% {
        -webkit-transform: skewX(1.5625deg) skewY(1.5625deg);
        transform: skewX(1.5625deg) skewY(1.5625deg);
    }

    66.6% {
        -webkit-transform: skewX(-0.78125deg) skewY(-0.78125deg);
        transform: skewX(-0.78125deg) skewY(-0.78125deg);
    }

    77.7% {
        -webkit-transform: skewX(0.390625deg) skewY(0.390625deg);
        transform: skewX(0.390625deg) skewY(0.390625deg);
    }

    88.8% {
        -webkit-transform: skewX(-0.1953125deg) skewY(-0.1953125deg);
        transform: skewX(-0.1953125deg) skewY(-0.1953125deg);
    }
}

.animate__jello {
    -webkit-animation-name: jello;
    animation-name: jello;
    -webkit-transform-origin: center;
    transform-origin: center;
}

@-webkit-keyframes heartBeat {
    0% {
        -webkit-transform: scale(1);
        transform: scale(1);
    }

    14% {
        -webkit-transform: scale(1.3);
        transform: scale(1.3);
    }

    28% {
        -webkit-transform: scale(1);
        transform: scale(1);
    }

    42% {
        -webkit-transform: scale(1.3);
        transform: scale(1.3);
    }

    70% {
        -webkit-transform: scale(1);
        transform: scale(1);
    }
}

@keyframes heartBeat {
    0% {
        -webkit-transform: scale(1);
        transform: scale(1);
    }

    14% {
        -webkit-transform: scale(1.3);
        transform: scale(1.3);
    }

    28% {
        -webkit-transform: scale(1);
        transform: scale(1);
    }

    42% {
        -webkit-transform: scale(1.3);
        transform: scale(1.3);
    }

    70% {
        -webkit-transform: scale(1);
        transform: scale(1);
    }
}

.animate__heartBeat {
    -webkit-animation-name: heartBeat;
    animation-name: heartBeat;
    -webkit-animation-duration: calc(1s * 1.3);
    animation-duration: calc(1s * 1.3);
    -webkit-animation-duration: calc(var(--animate-duration) * 1.3);
    animation-duration: calc(var(--animate-duration) * 1.3);
    -webkit-animation-timing-function: ease-in-out;
    animation-timing-function: ease-in-out;
}

/* Back entrances */
@-webkit-keyframes backInDown {
    0% {
        -webkit-transform: translateY(-1200px) scale(0.7);
        transform: translateY(-1200px) scale(0.7);
        opacity: 0.7;
    }

    80% {
        -webkit-transform: translateY(0px) scale(0.7);
        transform: translateY(0px) scale(0.7);
        opacity: 0.7;
    }

    100% {
        -webkit-transform: scale(1);
        transform: scale(1);
        opacity: 1;
    }
}

@keyframes backInDown {
    0% {
        -webkit-transform: translateY(-1200px) scale(0.7);
        transform: translateY(-1200px) scale(0.7);
        opacity: 0.7;
    }

    80% {
        -webkit-transform: translateY(0px) scale(0.7);
        transform: translateY(0px) scale(0.7);
        opacity: 0.7;
    }

    100% {
        -webkit-transform: scale(1);
        transform: scale(1);
        opacity: 1;
    }
}

.animate__backInDown {
    -webkit-animation-name: backInDown;
    animation-name: backInDown;
}

@-webkit-keyframes backInLeft {
    0% {
        -webkit-transform: translateX(-2000px) scale(0.7);
        transform: translateX(-2000px) scale(0.7);
        opacity: 0.7;
    }

    80% {
        -webkit-transform: translateX(0px) scale(0.7);
        transform: translateX(0px) scale(0.7);
        opacity: 0.7;
    }

    100% {
        -webkit-transform: scale(1);
        transform: scale(1);
        opacity: 1;
    }
}

@keyframes backInLeft {
    0% {
        -webkit-transform: translateX(-2000px) scale(0.7);
        transform: translateX(-2000px) scale(0.7);
        opacity: 0.7;
    }

    80% {
        -webkit-transform: translateX(0px) scale(0.7);
        transform: translateX(0px) scale(0.7);
        opacity: 0.7;
    }

    100% {
        -webkit-transform: scale(1);
        transform: scale(1);
        opacity: 1;
    }
}

.animate__backInLeft {
    -webkit-animation-name: backInLeft;
    animation-name: backInLeft;
}

@-webkit-keyframes backInRight {
    0% {
        -webkit-transform: translateX(2000px) scale(0.7);
        transform: translateX(2000px) scale(0.7);
        opacity: 0.7;
    }

    80% {
        -webkit-transform: translateX(0px) scale(0.7);
        transform: translateX(0px) scale(0.7);
        opacity: 0.7;
    }

    100% {
        -webkit-transform: scale(1);
        transform: scale(1);
        opacity: 1;
    }
}

@keyframes backInRight {
    0% {
        -webkit-transform: translateX(2000px) scale(0.7);
        transform: translateX(2000px) scale(0.7);
        opacity: 0.7;
    }

    80% {
        -webkit-transform: translateX(0px) scale(0.7);
        transform: translateX(0px) scale(0.7);
        opacity: 0.7;
    }

    100% {
        -webkit-transform: scale(1);
        transform: scale(1);
        opacity: 1;
    }
}

.animate__backInRight {
    -webkit-animation-name: backInRight;
    animation-name: backInRight;
}

@-webkit-keyframes backInUp {
    0% {
        -webkit-transform: translateY(1200px) scale(0.7);
        transform: translateY(1200px) scale(0.7);
        opacity: 0.7;
    }

    80% {
        -webkit-transform: translateY(0px) scale(0.7);
        transform: translateY(0px) scale(0.7);
        opacity: 0.7;
    }

    100% {
        -webkit-transform: scale(1);
        transform: scale(1);
        opacity: 1;
    }
}

@keyframes backInUp {
    0% {
        -webkit-transform: translateY(1200px) scale(0.7);
        transform: translateY(1200px) scale(0.7);
        opacity: 0.7;
    }

    80% {
        -webkit-transform: translateY(0px) scale(0.7);
        transform: translateY(0px) scale(0.7);
        opacity: 0.7;
    }

    100% {
        -webkit-transform: scale(1);
        transform: scale(1);
        opacity: 1;
    }
}

.animate__backInUp {
    -webkit-animation-name: backInUp;
    animation-name: backInUp;
}

/* Back exits */
@-webkit-keyframes backOutDown {
    0% {
        -webkit-transform: scale(1);
        transform: scale(1);
        opacity: 1;
    }

    20% {
        -webkit-transform: translateY(0px) scale(0.7);
        transform: translateY(0px) scale(0.7);
        opacity: 0.7;
    }

    100% {
        -webkit-transform: translateY(700px) scale(0.7);
        transform: translateY(700px) scale(0.7);
        opacity: 0.7;
    }
}

@keyframes backOutDown {
    0% {
        -webkit-transform: scale(1);
        transform: scale(1);
        opacity: 1;
    }

    20% {
        -webkit-transform: translateY(0px) scale(0.7);
        transform: translateY(0px) scale(0.7);
        opacity: 0.7;
    }

    100% {
        -webkit-transform: translateY(700px) scale(0.7);
        transform: translateY(700px) scale(0.7);
        opacity: 0.7;
    }
}

.animate__backOutDown {
    -webkit-animation-name: backOutDown;
    animation-name: backOutDown;
}

@-webkit-keyframes backOutLeft {
    0% {
        -webkit-transform: scale(1);
        transform: scale(1);
        opacity: 1;
    }

    20% {
        -webkit-transform: translateX(0px) scale(0.7);
        transform: translateX(0px) scale(0.7);
        opacity: 0.7;
    }

    100% {
        -webkit-transform: translateX(-2000px) scale(0.7);
        transform: translateX(-2000px) scale(0.7);
        opacity: 0.7;
    }
}

@keyframes backOutLeft {
    0% {
        -webkit-transform: scale(1);
        transform: scale(1);
        opacity: 1;
    }

    20% {
        -webkit-transform: translateX(0px) scale(0.7);
        transform: translateX(0px) scale(0.7);
        opacity: 0.7;
    }

    100% {
        -webkit-transform: translateX(-2000px) scale(0.7);
        transform: translateX(-2000px) scale(0.7);
        opacity: 0.7;
    }
}

.animate__backOutLeft {
    -webkit-animation-name: backOutLeft;
    animation-name: backOutLeft;
}

@-webkit-keyframes backOutRight {
    0% {
        -webkit-transform: scale(1);
        transform: scale(1);
        opacity: 1;
    }

    20% {
        -webkit-transform: translateX(0px) scale(0.7);
        transform: translateX(0px) scale(0.7);
        opacity: 0.7;
    }

    100% {
        -webkit-transform: translateX(2000px) scale(0.7);
        transform: translateX(2000px) scale(0.7);
        opacity: 0.7;
    }
}

@keyframes backOutRight {
    0% {
        -webkit-transform: scale(1);
        transform: scale(1);
        opacity: 1;
    }

    20% {
        -webkit-transform: translateX(0px) scale(0.7);
        transform: translateX(0px) scale(0.7);
        opacity: 0.7;
    }

    100% {
        -webkit-transform: translateX(2000px) scale(0.7);
        transform: translateX(2000px) scale(0.7);
        opacity: 0.7;
    }
}

.animate__backOutRight {
    -webkit-animation-name: backOutRight;
    animation-name: backOutRight;
}

@-webkit-keyframes backOutUp {
    0% {
        -webkit-transform: scale(1);
        transform: scale(1);
        opacity: 1;
    }

    20% {
        -webkit-transform: translateY(0px) scale(0.7);
        transform: translateY(0px) scale(0.7);
        opacity: 0.7;
    }

    100% {
        -webkit-transform: translateY(-700px) scale(0.7);
        transform: translateY(-700px) scale(0.7);
        opacity: 0.7;
    }
}

@keyframes backOutUp {
    0% {
        -webkit-transform: scale(1);
        transform: scale(1);
        opacity: 1;
    }

    20% {
        -webkit-transform: translateY(0px) scale(0.7);
        transform: translateY(0px) scale(0.7);
        opacity: 0.7;
    }

    100% {
        -webkit-transform: translateY(-700px) scale(0.7);
        transform: translateY(-700px) scale(0.7);
        opacity: 0.7;
    }
}

.animate__backOutUp {
    -webkit-animation-name: backOutUp;
    animation-name: backOutUp;
}

/* Bouncing entrances  */
@-webkit-keyframes bounceIn {
    from,
    20%,
    40%,
    60%,
    80%,
    to {
        -webkit-animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);
        animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);
    }

    0% {
        opacity: 0;
        -webkit-transform: scale3d(0.3, 0.3, 0.3);
        transform: scale3d(0.3, 0.3, 0.3);
    }

    20% {
        -webkit-transform: scale3d(1.1, 1.1, 1.1);
        transform: scale3d(1.1, 1.1, 1.1);
    }

    40% {
        -webkit-transform: scale3d(0.9, 0.9, 0.9);
        transform: scale3d(0.9, 0.9, 0.9);
    }

    60% {
        opacity: 1;
        -webkit-transform: scale3d(1.03, 1.03, 1.03);
        transform: scale3d(1.03, 1.03, 1.03);
    }

    80% {
        -webkit-transform: scale3d(0.97, 0.97, 0.97);
        transform: scale3d(0.97, 0.97, 0.97);
    }

    to {
        opacity: 1;
        -webkit-transform: scale3d(1, 1, 1);
        transform: scale3d(1, 1, 1);
    }
}

@keyframes bounceIn {
    from,
    20%,
    40%,
    60%,
    80%,
    to {
        -webkit-animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);
        animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);
    }

    0% {
        opacity: 0;
        -webkit-transform: scale3d(0.3, 0.3, 0.3);
        transform: scale3d(0.3, 0.3, 0.3);
    }

    20% {
        -webkit-transform: scale3d(1.1, 1.1, 1.1);
        transform: scale3d(1.1, 1.1, 1.1);
    }

    40% {
        -webkit-transform: scale3d(0.9, 0.9, 0.9);
        transform: scale3d(0.9, 0.9, 0.9);
    }

    60% {
        opacity: 1;
        -webkit-transform: scale3d(1.03, 1.03, 1.03);
        transform: scale3d(1.03, 1.03, 1.03);
    }

    80% {
        -webkit-transform: scale3d(0.97, 0.97, 0.97);
        transform: scale3d(0.97, 0.97, 0.97);
    }

    to {
        opacity: 1;
        -webkit-transform: scale3d(1, 1, 1);
        transform: scale3d(1, 1, 1);
    }
}

.animate__bounceIn {
    -webkit-animation-duration: calc(1s * 0.75);
    animation-duration: calc(1s * 0.75);
    -webkit-animation-duration: calc(var(--animate-duration) * 0.75);
    animation-duration: calc(var(--animate-duration) * 0.75);
    -webkit-animation-name: bounceIn;
    animation-name: bounceIn;
}

@-webkit-keyframes bounceInDown {
    from,
    60%,
    75%,
    90%,
    to {
        -webkit-animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);
        animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);
    }

    0% {
        opacity: 0;
        -webkit-transform: translate3d(0, -3000px, 0) scaleY(3);
        transform: translate3d(0, -3000px, 0) scaleY(3);
    }

    60% {
        opacity: 1;
        -webkit-transform: translate3d(0, 25px, 0) scaleY(0.9);
        transform: translate3d(0, 25px, 0) scaleY(0.9);
    }

    75% {
        -webkit-transform: translate3d(0, -10px, 0) scaleY(0.95);
        transform: translate3d(0, -10px, 0) scaleY(0.95);
    }

    90% {
        -webkit-transform: translate3d(0, 5px, 0) scaleY(0.985);
        transform: translate3d(0, 5px, 0) scaleY(0.985);
    }

    to {
        -webkit-transform: translate3d(0, 0, 0);
        transform: translate3d(0, 0, 0);
    }
}

@keyframes bounceInDown {
    from,
    60%,
    75%,
    90%,
    to {
        -webkit-animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);
        animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);
    }

    0% {
        opacity: 0;
        -webkit-transform: translate3d(0, -3000px, 0) scaleY(3);
        transform: translate3d(0, -3000px, 0) scaleY(3);
    }

    60% {
        opacity: 1;
        -webkit-transform: translate3d(0, 25px, 0) scaleY(0.9);
        transform: translate3d(0, 25px, 0) scaleY(0.9);
    }

    75% {
        -webkit-transform: translate3d(0, -10px, 0) scaleY(0.95);
        transform: translate3d(0, -10px, 0) scaleY(0.95);
    }

    90% {
        -webkit-transform: translate3d(0, 5px, 0) scaleY(0.985);
        transform: translate3d(0, 5px, 0) scaleY(0.985);
    }

    to {
        -webkit-transform: translate3d(0, 0, 0);
        transform: translate3d(0, 0, 0);
    }
}

.animate__bounceInDown {
    -webkit-animation-name: bounceInDown;
    animation-name: bounceInDown;
}

@-webkit-keyframes bounceInLeft {
    from,
    60%,
    75%,
    90%,
    to {
        -webkit-animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);
        animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);
    }

    0% {
        opacity: 0;
        -webkit-transform: translate3d(-3000px, 0, 0) scaleX(3);
        transform: translate3d(-3000px, 0, 0) scaleX(3);
    }

    60% {
        opacity: 1;
        -webkit-transform: translate3d(25px, 0, 0) scaleX(1);
        transform: translate3d(25px, 0, 0) scaleX(1);
    }

    75% {
        -webkit-transform: translate3d(-10px, 0, 0) scaleX(0.98);
        transform: translate3d(-10px, 0, 0) scaleX(0.98);
    }

    90% {
        -webkit-transform: translate3d(5px, 0, 0) scaleX(0.995);
        transform: translate3d(5px, 0, 0) scaleX(0.995);
    }

    to {
        -webkit-transform: translate3d(0, 0, 0);
        transform: translate3d(0, 0, 0);
    }
}

@keyframes bounceInLeft {
    from,
    60%,
    75%,
    90%,
    to {
        -webkit-animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);
        animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);
    }

    0% {
        opacity: 0;
        -webkit-transform: translate3d(-3000px, 0, 0) scaleX(3);
        transform: translate3d(-3000px, 0, 0) scaleX(3);
    }

    60% {
        opacity: 1;
        -webkit-transform: translate3d(25px, 0, 0) scaleX(1);
        transform: translate3d(25px, 0, 0) scaleX(1);
    }

    75% {
        -webkit-transform: translate3d(-10px, 0, 0) scaleX(0.98);
        transform: translate3d(-10px, 0, 0) scaleX(0.98);
    }

    90% {
        -webkit-transform: translate3d(5px, 0, 0) scaleX(0.995);
        transform: translate3d(5px, 0, 0) scaleX(0.995);
    }

    to {
        -webkit-transform: translate3d(0, 0, 0);
        transform: translate3d(0, 0, 0);
    }
}

.animate__bounceInLeft {
    -webkit-animation-name: bounceInLeft;
    animation-name: bounceInLeft;
}

@-webkit-keyframes bounceInRight {
    from,
    60%,
    75%,
    90%,
    to {
        -webkit-animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);
        animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);
    }

    from {
        opacity: 0;
        -webkit-transform: translate3d(3000px, 0, 0) scaleX(3);
        transform: translate3d(3000px, 0, 0) scaleX(3);
    }

    60% {
        opacity: 1;
        -webkit-transform: translate3d(-25px, 0, 0) scaleX(1);
        transform: translate3d(-25px, 0, 0) scaleX(1);
    }

    75% {
        -webkit-transform: translate3d(10px, 0, 0) scaleX(0.98);
        transform: translate3d(10px, 0, 0) scaleX(0.98);
    }

    90% {
        -webkit-transform: translate3d(-5px, 0, 0) scaleX(0.995);
        transform: translate3d(-5px, 0, 0) scaleX(0.995);
    }

    to {
        -webkit-transform: translate3d(0, 0, 0);
        transform: translate3d(0, 0, 0);
    }
}

@keyframes bounceInRight {
    from,
    60%,
    75%,
    90%,
    to {
        -webkit-animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);
        animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);
    }

    from {
        opacity: 0;
        -webkit-transform: translate3d(3000px, 0, 0) scaleX(3);
        transform: translate3d(3000px, 0, 0) scaleX(3);
    }

    60% {
        opacity: 1;
        -webkit-transform: translate3d(-25px, 0, 0) scaleX(1);
        transform: translate3d(-25px, 0, 0) scaleX(1);
    }

    75% {
        -webkit-transform: translate3d(10px, 0, 0) scaleX(0.98);
        transform: translate3d(10px, 0, 0) scaleX(0.98);
    }

    90% {
        -webkit-transform: translate3d(-5px, 0, 0) scaleX(0.995);
        transform: translate3d(-5px, 0, 0) scaleX(0.995);
    }

    to {
        -webkit-transform: translate3d(0, 0, 0);
        transform: translate3d(0, 0, 0);
    }
}

.animate__bounceInRight {
    -webkit-animation-name: bounceInRight;
    animation-name: bounceInRight;
}

@-webkit-keyframes bounceInUp {
    from,
    60%,
    75%,
    90%,
    to {
        -webkit-animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);
        animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);
    }

    from {
        opacity: 0;
        -webkit-transform: translate3d(0, 3000px, 0) scaleY(5);
        transform: translate3d(0, 3000px, 0) scaleY(5);
    }

    60% {
        opacity: 1;
        -webkit-transform: translate3d(0, -20px, 0) scaleY(0.9);
        transform: translate3d(0, -20px, 0) scaleY(0.9);
    }

    75% {
        -webkit-transform: translate3d(0, 10px, 0) scaleY(0.95);
        transform: translate3d(0, 10px, 0) scaleY(0.95);
    }

    90% {
        -webkit-transform: translate3d(0, -5px, 0) scaleY(0.985);
        transform: translate3d(0, -5px, 0) scaleY(0.985);
    }

    to {
        -webkit-transform: translate3d(0, 0, 0);
        transform: translate3d(0, 0, 0);
    }
}

@keyframes bounceInUp {
    from,
    60%,
    75%,
    90%,
    to {
        -webkit-animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);
        animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);
    }

    from {
        opacity: 0;
        -webkit-transform: translate3d(0, 3000px, 0) scaleY(5);
        transform: translate3d(0, 3000px, 0) scaleY(5);
    }

    60% {
        opacity: 1;
        -webkit-transform: translate3d(0, -20px, 0) scaleY(0.9);
        transform: translate3d(0, -20px, 0) scaleY(0.9);
    }

    75% {
        -webkit-transform: translate3d(0, 10px, 0) scaleY(0.95);
        transform: translate3d(0, 10px, 0) scaleY(0.95);
    }

    90% {
        -webkit-transform: translate3d(0, -5px, 0) scaleY(0.985);
        transform: translate3d(0, -5px, 0) scaleY(0.985);
    }

    to {
        -webkit-transform: translate3d(0, 0, 0);
        transform: translate3d(0, 0, 0);
    }
}

.animate__bounceInUp {
    -webkit-animation-name: bounceInUp;
    animation-name: bounceInUp;
}

/* Bouncing exits  */
@-webkit-keyframes bounceOut {
    20% {
        -webkit-transform: scale3d(0.9, 0.9, 0.9);
        transform: scale3d(0.9, 0.9, 0.9);
    }

    50%,
    55% {
        opacity: 1;
        -webkit-transform: scale3d(1.1, 1.1, 1.1);
        transform: scale3d(1.1, 1.1, 1.1);
    }

    to {
        opacity: 0;
        -webkit-transform: scale3d(0.3, 0.3, 0.3);
        transform: scale3d(0.3, 0.3, 0.3);
    }
}

@keyframes bounceOut {
    20% {
        -webkit-transform: scale3d(0.9, 0.9, 0.9);
        transform: scale3d(0.9, 0.9, 0.9);
    }

    50%,
    55% {
        opacity: 1;
        -webkit-transform: scale3d(1.1, 1.1, 1.1);
        transform: scale3d(1.1, 1.1, 1.1);
    }

    to {
        opacity: 0;
        -webkit-transform: scale3d(0.3, 0.3, 0.3);
        transform: scale3d(0.3, 0.3, 0.3);
    }
}

.animate__bounceOut {
    -webkit-animation-duration: calc(1s * 0.75);
    animation-duration: calc(1s * 0.75);
    -webkit-animation-duration: calc(var(--animate-duration) * 0.75);
    animation-duration: calc(var(--animate-duration) * 0.75);
    -webkit-animation-name: bounceOut;
    animation-name: bounceOut;
}

@-webkit-keyframes bounceOutDown {
    20% {
        -webkit-transform: translate3d(0, 10px, 0) scaleY(0.985);
        transform: translate3d(0, 10px, 0) scaleY(0.985);
    }

    40%,
    45% {
        opacity: 1;
        -webkit-transform: translate3d(0, -20px, 0) scaleY(0.9);
        transform: translate3d(0, -20px, 0) scaleY(0.9);
    }

    to {
        opacity: 0;
        -webkit-transform: translate3d(0, 2000px, 0) scaleY(3);
        transform: translate3d(0, 2000px, 0) scaleY(3);
    }
}

@keyframes bounceOutDown {
    20% {
        -webkit-transform: translate3d(0, 10px, 0) scaleY(0.985);
        transform: translate3d(0, 10px, 0) scaleY(0.985);
    }

    40%,
    45% {
        opacity: 1;
        -webkit-transform: translate3d(0, -20px, 0) scaleY(0.9);
        transform: translate3d(0, -20px, 0) scaleY(0.9);
    }

    to {
        opacity: 0;
        -webkit-transform: translate3d(0, 2000px, 0) scaleY(3);
        transform: translate3d(0, 2000px, 0) scaleY(3);
    }
}

.animate__bounceOutDown {
    -webkit-animation-name: bounceOutDown;
    animation-name: bounceOutDown;
}

@-webkit-keyframes bounceOutLeft {
    20% {
        opacity: 1;
        -webkit-transform: translate3d(20px, 0, 0) scaleX(0.9);
        transform: translate3d(20px, 0, 0) scaleX(0.9);
    }

    to {
        opacity: 0;
        -webkit-transform: translate3d(-2000px, 0, 0) scaleX(2);
        transform: translate3d(-2000px, 0, 0) scaleX(2);
    }
}

@keyframes bounceOutLeft {
    20% {
        opacity: 1;
        -webkit-transform: translate3d(20px, 0, 0) scaleX(0.9);
        transform: translate3d(20px, 0, 0) scaleX(0.9);
    }

    to {
        opacity: 0;
        -webkit-transform: translate3d(-2000px, 0, 0) scaleX(2);
        transform: translate3d(-2000px, 0, 0) scaleX(2);
    }
}

.animate__bounceOutLeft {
    -webkit-animation-name: bounceOutLeft;
    animation-name: bounceOutLeft;
}

@-webkit-keyframes bounceOutRight {
    20% {
        opacity: 1;
        -webkit-transform: translate3d(-20px, 0, 0) scaleX(0.9);
        transform: translate3d(-20px, 0, 0) scaleX(0.9);
    }

    to {
        opacity: 0;
        -webkit-transform: translate3d(2000px, 0, 0) scaleX(2);
        transform: translate3d(2000px, 0, 0) scaleX(2);
    }
}

@keyframes bounceOutRight {
    20% {
        opacity: 1;
        -webkit-transform: translate3d(-20px, 0, 0) scaleX(0.9);
        transform: translate3d(-20px, 0, 0) scaleX(0.9);
    }

    to {
        opacity: 0;
        -webkit-transform: translate3d(2000px, 0, 0) scaleX(2);
        transform: translate3d(2000px, 0, 0) scaleX(2);
    }
}

.animate__bounceOutRight {
    -webkit-animation-name: bounceOutRight;
    animation-name: bounceOutRight;
}

@-webkit-keyframes bounceOutUp {
    20% {
        -webkit-transform: translate3d(0, -10px, 0) scaleY(0.985);
        transform: translate3d(0, -10px, 0) scaleY(0.985);
    }

    40%,
    45% {
        opacity: 1;
        -webkit-transform: translate3d(0, 20px, 0) scaleY(0.9);
        transform: translate3d(0, 20px, 0) scaleY(0.9);
    }

    to {
        opacity: 0;
        -webkit-transform: translate3d(0, -2000px, 0) scaleY(3);
        transform: translate3d(0, -2000px, 0) scaleY(3);
    }
}

@keyframes bounceOutUp {
    20% {
        -webkit-transform: translate3d(0, -10px, 0) scaleY(0.985);
        transform: translate3d(0, -10px, 0) scaleY(0.985);
    }

    40%,
    45% {
        opacity: 1;
        -webkit-transform: translate3d(0, 20px, 0) scaleY(0.9);
        transform: translate3d(0, 20px, 0) scaleY(0.9);
    }

    to {
        opacity: 0;
        -webkit-transform: translate3d(0, -2000px, 0) scaleY(3);
        transform: translate3d(0, -2000px, 0) scaleY(3);
    }
}

.animate__bounceOutUp {
    -webkit-animation-name: bounceOutUp;
    animation-name: bounceOutUp;
}

/* Fading entrances  */
@-webkit-keyframes fadeIn {
    from {
        opacity: 0;
    }

    to {
        opacity: 1;
    }
}

@keyframes fadeIn {
    from {
        opacity: 0;
    }

    to {
        opacity: 1;
    }
}

.animate__fadeIn {
    -webkit-animation-name: fadeIn;
    animation-name: fadeIn;
}

@-webkit-keyframes fadeInDown {
    from {
        opacity: 0;
        -webkit-transform: translate3d(0, -100%, 0);
        transform: translate3d(0, -100%, 0);
    }

    to {
        opacity: 1;
        -webkit-transform: translate3d(0, 0, 0);
        transform: translate3d(0, 0, 0);
    }
}

@keyframes fadeInDown {
    from {
        opacity: 0;
        -webkit-transform: translate3d(0, -100%, 0);
        transform: translate3d(0, -100%, 0);
    }

    to {
        opacity: 1;
        -webkit-transform: translate3d(0, 0, 0);
        transform: translate3d(0, 0, 0);
    }
}

.animate__fadeInDown {
    -webkit-animation-name: fadeInDown;
    animation-name: fadeInDown;
}

@-webkit-keyframes fadeInDownBig {
    from {
        opacity: 0;
        -webkit-transform: translate3d(0, -2000px, 0);
        transform: translate3d(0, -2000px, 0);
    }

    to {
        opacity: 1;
        -webkit-transform: translate3d(0, 0, 0);
        transform: translate3d(0, 0, 0);
    }
}

@keyframes fadeInDownBig {
    from {
        opacity: 0;
        -webkit-transform: translate3d(0, -2000px, 0);
        transform: translate3d(0, -2000px, 0);
    }

    to {
        opacity: 1;
        -webkit-transform: translate3d(0, 0, 0);
        transform: translate3d(0, 0, 0);
    }
}

.animate__fadeInDownBig {
    -webkit-animation-name: fadeInDownBig;
    animation-name: fadeInDownBig;
}

@-webkit-keyframes fadeInLeft {
    from {
        opacity: 0;
        -webkit-transform: translate3d(-100%, 0, 0);
        transform: translate3d(-100%, 0, 0);
    }

    to {
        opacity: 1;
        -webkit-transform: translate3d(0, 0, 0);
        transform: translate3d(0, 0, 0);
    }
}

@keyframes fadeInLeft {
    from {
        opacity: 0;
        -webkit-transform: translate3d(-100%, 0, 0);
        transform: translate3d(-100%, 0, 0);
    }

    to {
        opacity: 1;
        -webkit-transform: translate3d(0, 0, 0);
        transform: translate3d(0, 0, 0);
    }
}

.animate__fadeInLeft {
    -webkit-animation-name: fadeInLeft;
    animation-name: fadeInLeft;
}

@-webkit-keyframes fadeInLeftBig {
    from {
        opacity: 0;
        -webkit-transform: translate3d(-2000px, 0, 0);
        transform: translate3d(-2000px, 0, 0);
    }

    to {
        opacity: 1;
        -webkit-transform: translate3d(0, 0, 0);
        transform: translate3d(0, 0, 0);
    }
}

@keyframes fadeInLeftBig {
    from {
        opacity: 0;
        -webkit-transform: translate3d(-2000px, 0, 0);
        transform: translate3d(-2000px, 0, 0);
    }

    to {
        opacity: 1;
        -webkit-transform: translate3d(0, 0, 0);
        transform: translate3d(0, 0, 0);
    }
}

.animate__fadeInLeftBig {
    -webkit-animation-name: fadeInLeftBig;
    animation-name: fadeInLeftBig;
}

@-webkit-keyframes fadeInRight {
    from {
        opacity: 0;
        -webkit-transform: translate3d(100%, 0, 0);
        transform: translate3d(100%, 0, 0);
    }

    to {
        opacity: 1;
        -webkit-transform: translate3d(0, 0, 0);
        transform: translate3d(0, 0, 0);
    }
}

@keyframes fadeInRight {
    from {
        opacity: 0;
        -webkit-transform: translate3d(100%, 0, 0);
        transform: translate3d(100%, 0, 0);
    }

    to {
        opacity: 1;
        -webkit-transform: translate3d(0, 0, 0);
        transform: translate3d(0, 0, 0);
    }
}

.animate__fadeInRight {
    -webkit-animation-name: fadeInRight;
    animation-name: fadeInRight;
}

@-webkit-keyframes fadeInRightBig {
    from {
        opacity: 0;
        -webkit-transform: translate3d(2000px, 0, 0);
        transform: translate3d(2000px, 0, 0);
    }

    to {
        opacity: 1;
        -webkit-transform: translate3d(0, 0, 0);
        transform: translate3d(0, 0, 0);
    }
}

@keyframes fadeInRightBig {
    from {
        opacity: 0;
        -webkit-transform: translate3d(2000px, 0, 0);
        transform: translate3d(2000px, 0, 0);
    }

    to {
        opacity: 1;
        -webkit-transform: translate3d(0, 0, 0);
        transform: translate3d(0, 0, 0);
    }
}

.animate__fadeInRightBig {
    -webkit-animation-name: fadeInRightBig;
    animation-name: fadeInRightBig;
}

@-webkit-keyframes fadeInUp {
    from {
        opacity: 0;
        -webkit-transform: translate3d(0, 100%, 0);
        transform: translate3d(0, 100%, 0);
    }

    to {
        opacity: 1;
        -webkit-transform: translate3d(0, 0, 0);
        transform: translate3d(0, 0, 0);
    }
}

@keyframes fadeInUp {
    from {
        opacity: 0;
        -webkit-transform: translate3d(0, 100%, 0);
        transform: translate3d(0, 100%, 0);
    }

    to {
        opacity: 1;
        -webkit-transform: translate3d(0, 0, 0);
        transform: translate3d(0, 0, 0);
    }
}

.animate__fadeInUp {
    -webkit-animation-name: fadeInUp;
    animation-name: fadeInUp;
}

@-webkit-keyframes fadeInUpBig {
    from {
        opacity: 0;
        -webkit-transform: translate3d(0, 2000px, 0);
        transform: translate3d(0, 2000px, 0);
    }

    to {
        opacity: 1;
        -webkit-transform: translate3d(0, 0, 0);
        transform: translate3d(0, 0, 0);
    }
}

@keyframes fadeInUpBig {
    from {
        opacity: 0;
        -webkit-transform: translate3d(0, 2000px, 0);
        transform: translate3d(0, 2000px, 0);
    }

    to {
        opacity: 1;
        -webkit-transform: translate3d(0, 0, 0);
        transform: translate3d(0, 0, 0);
    }
}

.animate__fadeInUpBig {
    -webkit-animation-name: fadeInUpBig;
    animation-name: fadeInUpBig;
}

@-webkit-keyframes fadeInTopLeft {
    from {
        opacity: 0;
        -webkit-transform: translate3d(-100%, -100%, 0);
        transform: translate3d(-100%, -100%, 0);
    }
    to {
        opacity: 1;
        -webkit-transform: translate3d(0, 0, 0);
        transform: translate3d(0, 0, 0);
    }
}

@keyframes fadeInTopLeft {
    from {
        opacity: 0;
        -webkit-transform: translate3d(-100%, -100%, 0);
        transform: translate3d(-100%, -100%, 0);
    }
    to {
        opacity: 1;
        -webkit-transform: translate3d(0, 0, 0);
        transform: translate3d(0, 0, 0);
    }
}

.animate__fadeInTopLeft {
    -webkit-animation-name: fadeInTopLeft;
    animation-name: fadeInTopLeft;
}

@-webkit-keyframes fadeInTopRight {
    from {
        opacity: 0;
        -webkit-transform: translate3d(100%, -100%, 0);
        transform: translate3d(100%, -100%, 0);
    }
    to {
        opacity: 1;
        -webkit-transform: translate3d(0, 0, 0);
        transform: translate3d(0, 0, 0);
    }
}

@keyframes fadeInTopRight {
    from {
        opacity: 0;
        -webkit-transform: translate3d(100%, -100%, 0);
        transform: translate3d(100%, -100%, 0);
    }
    to {
        opacity: 1;
        -webkit-transform: translate3d(0, 0, 0);
        transform: translate3d(0, 0, 0);
    }
}

.animate__fadeInTopRight {
    -webkit-animation-name: fadeInTopRight;
    animation-name: fadeInTopRight;
}

@-webkit-keyframes fadeInBottomLeft {
    from {
        opacity: 0;
        -webkit-transform: translate3d(-100%, 100%, 0);
        transform: translate3d(-100%, 100%, 0);
    }
    to {
        opacity: 1;
        -webkit-transform: translate3d(0, 0, 0);
        transform: translate3d(0, 0, 0);
    }
}

@keyframes fadeInBottomLeft {
    from {
        opacity: 0;
        -webkit-transform: translate3d(-100%, 100%, 0);
        transform: translate3d(-100%, 100%, 0);
    }
    to {
        opacity: 1;
        -webkit-transform: translate3d(0, 0, 0);
        transform: translate3d(0, 0, 0);
    }
}

.animate__fadeInBottomLeft {
    -webkit-animation-name: fadeInBottomLeft;
    animation-name: fadeInBottomLeft;
}

@-webkit-keyframes fadeInBottomRight {
    from {
        opacity: 0;
        -webkit-transform: translate3d(100%, 100%, 0);
        transform: translate3d(100%, 100%, 0);
    }
    to {
        opacity: 1;
        -webkit-transform: translate3d(0, 0, 0);
        transform: translate3d(0, 0, 0);
    }
}

@keyframes fadeInBottomRight {
    from {
        opacity: 0;
        -webkit-transform: translate3d(100%, 100%, 0);
        transform: translate3d(100%, 100%, 0);
    }
    to {
        opacity: 1;
        -webkit-transform: translate3d(0, 0, 0);
        transform: translate3d(0, 0, 0);
    }
}

.animate__fadeInBottomRight {
    -webkit-animation-name: fadeInBottomRight;
    animation-name: fadeInBottomRight;
}

/* Fading exits */
@-webkit-keyframes fadeOut {
    from {
        opacity: 1;
    }

    to {
        opacity: 0;
    }
}

@keyframes fadeOut {
    from {
        opacity: 1;
    }

    to {
        opacity: 0;
    }
}

.animate__fadeOut {
    -webkit-animation-name: fadeOut;
    animation-name: fadeOut;
}

@-webkit-keyframes fadeOutDown {
    from {
        opacity: 1;
    }

    to {
        opacity: 0;
        -webkit-transform: translate3d(0, 100%, 0);
        transform: translate3d(0, 100%, 0);
    }
}

@keyframes fadeOutDown {
    from {
        opacity: 1;
    }

    to {
        opacity: 0;
        -webkit-transform: translate3d(0, 100%, 0);
        transform: translate3d(0, 100%, 0);
    }
}

.animate__fadeOutDown {
    -webkit-animation-name: fadeOutDown;
    animation-name: fadeOutDown;
}

@-webkit-keyframes fadeOutDownBig {
    from {
        opacity: 1;
    }

    to {
        opacity: 0;
        -webkit-transform: translate3d(0, 2000px, 0);
        transform: translate3d(0, 2000px, 0);
    }
}

@keyframes fadeOutDownBig {
    from {
        opacity: 1;
    }

    to {
        opacity: 0;
        -webkit-transform: translate3d(0, 2000px, 0);
        transform: translate3d(0, 2000px, 0);
    }
}

.animate__fadeOutDownBig {
    -webkit-animation-name: fadeOutDownBig;
    animation-name: fadeOutDownBig;
}

@-webkit-keyframes fadeOutLeft {
    from {
        opacity: 1;
    }

    to {
        opacity: 0;
        -webkit-transform: translate3d(-100%, 0, 0);
        transform: translate3d(-100%, 0, 0);
    }
}

@keyframes fadeOutLeft {
    from {
        opacity: 1;
    }

    to {
        opacity: 0;
        -webkit-transform: translate3d(-100%, 0, 0);
        transform: translate3d(-100%, 0, 0);
    }
}

.animate__fadeOutLeft {
    -webkit-animation-name: fadeOutLeft;
    animation-name: fadeOutLeft;
}

@-webkit-keyframes fadeOutLeftBig {
    from {
        opacity: 1;
    }

    to {
        opacity: 0;
        -webkit-transform: translate3d(-2000px, 0, 0);
        transform: translate3d(-2000px, 0, 0);
    }
}

@keyframes fadeOutLeftBig {
    from {
        opacity: 1;
    }

    to {
        opacity: 0;
        -webkit-transform: translate3d(-2000px, 0, 0);
        transform: translate3d(-2000px, 0, 0);
    }
}

.animate__fadeOutLeftBig {
    -webkit-animation-name: fadeOutLeftBig;
    animation-name: fadeOutLeftBig;
}

@-webkit-keyframes fadeOutRight {
    from {
        opacity: 1;
    }

    to {
        opacity: 0;
        -webkit-transform: translate3d(100%, 0, 0);
        transform: translate3d(100%, 0, 0);
    }
}

@keyframes fadeOutRight {
    from {
        opacity: 1;
    }

    to {
        opacity: 0;
        -webkit-transform: translate3d(100%, 0, 0);
        transform: translate3d(100%, 0, 0);
    }
}

.animate__fadeOutRight {
    -webkit-animation-name: fadeOutRight;
    animation-name: fadeOutRight;
}

@-webkit-keyframes fadeOutRightBig {
    from {
        opacity: 1;
    }

    to {
        opacity: 0;
        -webkit-transform: translate3d(2000px, 0, 0);
        transform: translate3d(2000px, 0, 0);
    }
}

@keyframes fadeOutRightBig {
    from {
        opacity: 1;
    }

    to {
        opacity: 0;
        -webkit-transform: translate3d(2000px, 0, 0);
        transform: translate3d(2000px, 0, 0);
    }
}

.animate__fadeOutRightBig {
    -webkit-animation-name: fadeOutRightBig;
    animation-name: fadeOutRightBig;
}

@-webkit-keyframes fadeOutUp {
    from {
        opacity: 1;
    }

    to {
        opacity: 0;
        -webkit-transform: translate3d(0, -100%, 0);
        transform: translate3d(0, -100%, 0);
    }
}

@keyframes fadeOutUp {
    from {
        opacity: 1;
    }

    to {
        opacity: 0;
        -webkit-transform: translate3d(0, -100%, 0);
        transform: translate3d(0, -100%, 0);
    }
}

.animate__fadeOutUp {
    -webkit-animation-name: fadeOutUp;
    animation-name: fadeOutUp;
}

@-webkit-keyframes fadeOutUpBig {
    from {
        opacity: 1;
    }

    to {
        opacity: 0;
        -webkit-transform: translate3d(0, -2000px, 0);
        transform: translate3d(0, -2000px, 0);
    }
}

@keyframes fadeOutUpBig {
    from {
        opacity: 1;
    }

    to {
        opacity: 0;
        -webkit-transform: translate3d(0, -2000px, 0);
        transform: translate3d(0, -2000px, 0);
    }
}

.animate__fadeOutUpBig {
    -webkit-animation-name: fadeOutUpBig;
    animation-name: fadeOutUpBig;
}

@-webkit-keyframes fadeOutTopLeft {
    from {
        opacity: 1;
        -webkit-transform: translate3d(0, 0, 0);
        transform: translate3d(0, 0, 0);
    }
    to {
        opacity: 0;
        -webkit-transform: translate3d(-100%, -100%, 0);
        transform: translate3d(-100%, -100%, 0);
    }
}

@keyframes fadeOutTopLeft {
    from {
        opacity: 1;
        -webkit-transform: translate3d(0, 0, 0);
        transform: translate3d(0, 0, 0);
    }
    to {
        opacity: 0;
        -webkit-transform: translate3d(-100%, -100%, 0);
        transform: translate3d(-100%, -100%, 0);
    }
}

.animate__fadeOutTopLeft {
    -webkit-animation-name: fadeOutTopLeft;
    animation-name: fadeOutTopLeft;
}

@-webkit-keyframes fadeOutTopRight {
    from {
        opacity: 1;
        -webkit-transform: translate3d(0, 0, 0);
        transform: translate3d(0, 0, 0);
    }
    to {
        opacity: 0;
        -webkit-transform: translate3d(100%, -100%, 0);
        transform: translate3d(100%, -100%, 0);
    }
}

@keyframes fadeOutTopRight {
    from {
        opacity: 1;
        -webkit-transform: translate3d(0, 0, 0);
        transform: translate3d(0, 0, 0);
    }
    to {
        opacity: 0;
        -webkit-transform: translate3d(100%, -100%, 0);
        transform: translate3d(100%, -100%, 0);
    }
}

.animate__fadeOutTopRight {
    -webkit-animation-name: fadeOutTopRight;
    animation-name: fadeOutTopRight;
}

@-webkit-keyframes fadeOutBottomRight {
    from {
        opacity: 1;
        -webkit-transform: translate3d(0, 0, 0);
        transform: translate3d(0, 0, 0);
    }
    to {
        opacity: 0;
        -webkit-transform: translate3d(100%, 100%, 0);
        transform: translate3d(100%, 100%, 0);
    }
}

@keyframes fadeOutBottomRight {
    from {
        opacity: 1;
        -webkit-transform: translate3d(0, 0, 0);
        transform: translate3d(0, 0, 0);
    }
    to {
        opacity: 0;
        -webkit-transform: translate3d(100%, 100%, 0);
        transform: translate3d(100%, 100%, 0);
    }
}

.animate__fadeOutBottomRight {
    -webkit-animation-name: fadeOutBottomRight;
    animation-name: fadeOutBottomRight;
}

@-webkit-keyframes fadeOutBottomLeft {
    from {
        opacity: 1;
        -webkit-transform: translate3d(0, 0, 0);
        transform: translate3d(0, 0, 0);
    }
    to {
        opacity: 0;
        -webkit-transform: translate3d(-100%, 100%, 0);
        transform: translate3d(-100%, 100%, 0);
    }
}

@keyframes fadeOutBottomLeft {
    from {
        opacity: 1;
        -webkit-transform: translate3d(0, 0, 0);
        transform: translate3d(0, 0, 0);
    }
    to {
        opacity: 0;
        -webkit-transform: translate3d(-100%, 100%, 0);
        transform: translate3d(-100%, 100%, 0);
    }
}

.animate__fadeOutBottomLeft {
    -webkit-animation-name: fadeOutBottomLeft;
    animation-name: fadeOutBottomLeft;
}

/* Flippers */
@-webkit-keyframes flip {
    from {
        -webkit-transform: perspective(400px) scale3d(1, 1, 1) translate3d(0, 0, 0) rotate3d(0, 1, 0, -360deg);
        transform: perspective(400px) scale3d(1, 1, 1) translate3d(0, 0, 0) rotate3d(0, 1, 0, -360deg);
        -webkit-animation-timing-function: ease-out;
        animation-timing-function: ease-out;
    }

    40% {
        -webkit-transform: perspective(400px) scale3d(1, 1, 1) translate3d(0, 0, 150px) rotate3d(0, 1, 0, -190deg);
        transform: perspective(400px) scale3d(1, 1, 1) translate3d(0, 0, 150px) rotate3d(0, 1, 0, -190deg);
        -webkit-animation-timing-function: ease-out;
        animation-timing-function: ease-out;
    }

    50% {
        -webkit-transform: perspective(400px) scale3d(1, 1, 1) translate3d(0, 0, 150px) rotate3d(0, 1, 0, -170deg);
        transform: perspective(400px) scale3d(1, 1, 1) translate3d(0, 0, 150px) rotate3d(0, 1, 0, -170deg);
        -webkit-animation-timing-function: ease-in;
        animation-timing-function: ease-in;
    }

    80% {
        -webkit-transform: perspective(400px) scale3d(0.95, 0.95, 0.95) translate3d(0, 0, 0) rotate3d(0, 1, 0, 0deg);
        transform: perspective(400px) scale3d(0.95, 0.95, 0.95) translate3d(0, 0, 0) rotate3d(0, 1, 0, 0deg);
        -webkit-animation-timing-function: ease-in;
        animation-timing-function: ease-in;
    }

    to {
        -webkit-transform: perspective(400px) scale3d(1, 1, 1) translate3d(0, 0, 0) rotate3d(0, 1, 0, 0deg);
        transform: perspective(400px) scale3d(1, 1, 1) translate3d(0, 0, 0) rotate3d(0, 1, 0, 0deg);
        -webkit-animation-timing-function: ease-in;
        animation-timing-function: ease-in;
    }
}

@keyframes flip {
    from {
        -webkit-transform: perspective(400px) scale3d(1, 1, 1) translate3d(0, 0, 0) rotate3d(0, 1, 0, -360deg);
        transform: perspective(400px) scale3d(1, 1, 1) translate3d(0, 0, 0) rotate3d(0, 1, 0, -360deg);
        -webkit-animation-timing-function: ease-out;
        animation-timing-function: ease-out;
    }

    40% {
        -webkit-transform: perspective(400px) scale3d(1, 1, 1) translate3d(0, 0, 150px) rotate3d(0, 1, 0, -190deg);
        transform: perspective(400px) scale3d(1, 1, 1) translate3d(0, 0, 150px) rotate3d(0, 1, 0, -190deg);
        -webkit-animation-timing-function: ease-out;
        animation-timing-function: ease-out;
    }

    50% {
        -webkit-transform: perspective(400px) scale3d(1, 1, 1) translate3d(0, 0, 150px) rotate3d(0, 1, 0, -170deg);
        transform: perspective(400px) scale3d(1, 1, 1) translate3d(0, 0, 150px) rotate3d(0, 1, 0, -170deg);
        -webkit-animation-timing-function: ease-in;
        animation-timing-function: ease-in;
    }

    80% {
        -webkit-transform: perspective(400px) scale3d(0.95, 0.95, 0.95) translate3d(0, 0, 0) rotate3d(0, 1, 0, 0deg);
        transform: perspective(400px) scale3d(0.95, 0.95, 0.95) translate3d(0, 0, 0) rotate3d(0, 1, 0, 0deg);
        -webkit-animation-timing-function: ease-in;
        animation-timing-function: ease-in;
    }

    to {
        -webkit-transform: perspective(400px) scale3d(1, 1, 1) translate3d(0, 0, 0) rotate3d(0, 1, 0, 0deg);
        transform: perspective(400px) scale3d(1, 1, 1) translate3d(0, 0, 0) rotate3d(0, 1, 0, 0deg);
        -webkit-animation-timing-function: ease-in;
        animation-timing-function: ease-in;
    }
}

.animate__animated.animate__flip {
    -webkit-backface-visibility: visible;
    backface-visibility: visible;
    -webkit-animation-name: flip;
    animation-name: flip;
}

@-webkit-keyframes flipInX {
    from {
        -webkit-transform: perspective(400px) rotate3d(1, 0, 0, 90deg);
        transform: perspective(400px) rotate3d(1, 0, 0, 90deg);
        -webkit-animation-timing-function: ease-in;
        animation-timing-function: ease-in;
        opacity: 0;
    }

    40% {
        -webkit-transform: perspective(400px) rotate3d(1, 0, 0, -20deg);
        transform: perspective(400px) rotate3d(1, 0, 0, -20deg);
        -webkit-animation-timing-function: ease-in;
        animation-timing-function: ease-in;
    }

    60% {
        -webkit-transform: perspective(400px) rotate3d(1, 0, 0, 10deg);
        transform: perspective(400px) rotate3d(1, 0, 0, 10deg);
        opacity: 1;
    }

    80% {
        -webkit-transform: perspective(400px) rotate3d(1, 0, 0, -5deg);
        transform: perspective(400px) rotate3d(1, 0, 0, -5deg);
    }

    to {
        -webkit-transform: perspective(400px);
        transform: perspective(400px);
    }
}

@keyframes flipInX {
    from {
        -webkit-transform: perspective(400px) rotate3d(1, 0, 0, 90deg);
        transform: perspective(400px) rotate3d(1, 0, 0, 90deg);
        -webkit-animation-timing-function: ease-in;
        animation-timing-function: ease-in;
        opacity: 0;
    }

    40% {
        -webkit-transform: perspective(400px) rotate3d(1, 0, 0, -20deg);
        transform: perspective(400px) rotate3d(1, 0, 0, -20deg);
        -webkit-animation-timing-function: ease-in;
        animation-timing-function: ease-in;
    }

    60% {
        -webkit-transform: perspective(400px) rotate3d(1, 0, 0, 10deg);
        transform: perspective(400px) rotate3d(1, 0, 0, 10deg);
        opacity: 1;
    }

    80% {
        -webkit-transform: perspective(400px) rotate3d(1, 0, 0, -5deg);
        transform: perspective(400px) rotate3d(1, 0, 0, -5deg);
    }

    to {
        -webkit-transform: perspective(400px);
        transform: perspective(400px);
    }
}

.animate__flipInX {
    -webkit-backface-visibility: visible !important;
    backface-visibility: visible !important;
    -webkit-animation-name: flipInX;
    animation-name: flipInX;
}

@-webkit-keyframes flipInY {
    from {
        -webkit-transform: perspective(400px) rotate3d(0, 1, 0, 90deg);
        transform: perspective(400px) rotate3d(0, 1, 0, 90deg);
        -webkit-animation-timing-function: ease-in;
        animation-timing-function: ease-in;
        opacity: 0;
    }

    40% {
        -webkit-transform: perspective(400px) rotate3d(0, 1, 0, -20deg);
        transform: perspective(400px) rotate3d(0, 1, 0, -20deg);
        -webkit-animation-timing-function: ease-in;
        animation-timing-function: ease-in;
    }

    60% {
        -webkit-transform: perspective(400px) rotate3d(0, 1, 0, 10deg);
        transform: perspective(400px) rotate3d(0, 1, 0, 10deg);
        opacity: 1;
    }

    80% {
        -webkit-transform: perspective(400px) rotate3d(0, 1, 0, -5deg);
        transform: perspective(400px) rotate3d(0, 1, 0, -5deg);
    }

    to {
        -webkit-transform: perspective(400px);
        transform: perspective(400px);
    }
}

@keyframes flipInY {
    from {
        -webkit-transform: perspective(400px) rotate3d(0, 1, 0, 90deg);
        transform: perspective(400px) rotate3d(0, 1, 0, 90deg);
        -webkit-animation-timing-function: ease-in;
        animation-timing-function: ease-in;
        opacity: 0;
    }

    40% {
        -webkit-transform: perspective(400px) rotate3d(0, 1, 0, -20deg);
        transform: perspective(400px) rotate3d(0, 1, 0, -20deg);
        -webkit-animation-timing-function: ease-in;
        animation-timing-function: ease-in;
    }

    60% {
        -webkit-transform: perspective(400px) rotate3d(0, 1, 0, 10deg);
        transform: perspective(400px) rotate3d(0, 1, 0, 10deg);
        opacity: 1;
    }

    80% {
        -webkit-transform: perspective(400px) rotate3d(0, 1, 0, -5deg);
        transform: perspective(400px) rotate3d(0, 1, 0, -5deg);
    }

    to {
        -webkit-transform: perspective(400px);
        transform: perspective(400px);
    }
}

.animate__flipInY {
    -webkit-backface-visibility: visible !important;
    backface-visibility: visible !important;
    -webkit-animation-name: flipInY;
    animation-name: flipInY;
}

@-webkit-keyframes flipOutX {
    from {
        -webkit-transform: perspective(400px);
        transform: perspective(400px);
    }

    30% {
        -webkit-transform: perspective(400px) rotate3d(1, 0, 0, -20deg);
        transform: perspective(400px) rotate3d(1, 0, 0, -20deg);
        opacity: 1;
    }

    to {
        -webkit-transform: perspective(400px) rotate3d(1, 0, 0, 90deg);
        transform: perspective(400px) rotate3d(1, 0, 0, 90deg);
        opacity: 0;
    }
}

@keyframes flipOutX {
    from {
        -webkit-transform: perspective(400px);
        transform: perspective(400px);
    }

    30% {
        -webkit-transform: perspective(400px) rotate3d(1, 0, 0, -20deg);
        transform: perspective(400px) rotate3d(1, 0, 0, -20deg);
        opacity: 1;
    }

    to {
        -webkit-transform: perspective(400px) rotate3d(1, 0, 0, 90deg);
        transform: perspective(400px) rotate3d(1, 0, 0, 90deg);
        opacity: 0;
    }
}

.animate__flipOutX {
    -webkit-animation-duration: calc(1s * 0.75);
    animation-duration: calc(1s * 0.75);
    -webkit-animation-duration: calc(var(--animate-duration) * 0.75);
    animation-duration: calc(var(--animate-duration) * 0.75);
    -webkit-animation-name: flipOutX;
    animation-name: flipOutX;
    -webkit-backface-visibility: visible !important;
    backface-visibility: visible !important;
}

@-webkit-keyframes flipOutY {
    from {
        -webkit-transform: perspective(400px);
        transform: perspective(400px);
    }

    30% {
        -webkit-transform: perspective(400px) rotate3d(0, 1, 0, -15deg);
        transform: perspective(400px) rotate3d(0, 1, 0, -15deg);
        opacity: 1;
    }

    to {
        -webkit-transform: perspective(400px) rotate3d(0, 1, 0, 90deg);
        transform: perspective(400px) rotate3d(0, 1, 0, 90deg);
        opacity: 0;
    }
}

@keyframes flipOutY {
    from {
        -webkit-transform: perspective(400px);
        transform: perspective(400px);
    }

    30% {
        -webkit-transform: perspective(400px) rotate3d(0, 1, 0, -15deg);
        transform: perspective(400px) rotate3d(0, 1, 0, -15deg);
        opacity: 1;
    }

    to {
        -webkit-transform: perspective(400px) rotate3d(0, 1, 0, 90deg);
        transform: perspective(400px) rotate3d(0, 1, 0, 90deg);
        opacity: 0;
    }
}

.animate__flipOutY {
    -webkit-animation-duration: calc(1s * 0.75);
    animation-duration: calc(1s * 0.75);
    -webkit-animation-duration: calc(var(--animate-duration) * 0.75);
    animation-duration: calc(var(--animate-duration) * 0.75);
    -webkit-backface-visibility: visible !important;
    backface-visibility: visible !important;
    -webkit-animation-name: flipOutY;
    animation-name: flipOutY;
}

/* Lightspeed */
@-webkit-keyframes lightSpeedInRight {
    from {
        -webkit-transform: translate3d(100%, 0, 0) skewX(-30deg);
        transform: translate3d(100%, 0, 0) skewX(-30deg);
        opacity: 0;
    }

    60% {
        -webkit-transform: skewX(20deg);
        transform: skewX(20deg);
        opacity: 1;
    }

    80% {
        -webkit-transform: skewX(-5deg);
        transform: skewX(-5deg);
    }

    to {
        -webkit-transform: translate3d(0, 0, 0);
        transform: translate3d(0, 0, 0);
    }
}

@keyframes lightSpeedInRight {
    from {
        -webkit-transform: translate3d(100%, 0, 0) skewX(-30deg);
        transform: translate3d(100%, 0, 0) skewX(-30deg);
        opacity: 0;
    }

    60% {
        -webkit-transform: skewX(20deg);
        transform: skewX(20deg);
        opacity: 1;
    }

    80% {
        -webkit-transform: skewX(-5deg);
        transform: skewX(-5deg);
    }

    to {
        -webkit-transform: translate3d(0, 0, 0);
        transform: translate3d(0, 0, 0);
    }
}

.animate__lightSpeedInRight {
    -webkit-animation-name: lightSpeedInRight;
    animation-name: lightSpeedInRight;
    -webkit-animation-timing-function: ease-out;
    animation-timing-function: ease-out;
}

@-webkit-keyframes lightSpeedInLeft {
    from {
        -webkit-transform: translate3d(-100%, 0, 0) skewX(30deg);
        transform: translate3d(-100%, 0, 0) skewX(30deg);
        opacity: 0;
    }

    60% {
        -webkit-transform: skewX(-20deg);
        transform: skewX(-20deg);
        opacity: 1;
    }

    80% {
        -webkit-transform: skewX(5deg);
        transform: skewX(5deg);
    }

    to {
        -webkit-transform: translate3d(0, 0, 0);
        transform: translate3d(0, 0, 0);
    }
}

@keyframes lightSpeedInLeft {
    from {
        -webkit-transform: translate3d(-100%, 0, 0) skewX(30deg);
        transform: translate3d(-100%, 0, 0) skewX(30deg);
        opacity: 0;
    }

    60% {
        -webkit-transform: skewX(-20deg);
        transform: skewX(-20deg);
        opacity: 1;
    }

    80% {
        -webkit-transform: skewX(5deg);
        transform: skewX(5deg);
    }

    to {
        -webkit-transform: translate3d(0, 0, 0);
        transform: translate3d(0, 0, 0);
    }
}

.animate__lightSpeedInLeft {
    -webkit-animation-name: lightSpeedInLeft;
    animation-name: lightSpeedInLeft;
    -webkit-animation-timing-function: ease-out;
    animation-timing-function: ease-out;
}

@-webkit-keyframes lightSpeedOutRight {
    from {
        opacity: 1;
    }

    to {
        -webkit-transform: translate3d(100%, 0, 0) skewX(30deg);
        transform: translate3d(100%, 0, 0) skewX(30deg);
        opacity: 0;
    }
}

@keyframes lightSpeedOutRight {
    from {
        opacity: 1;
    }

    to {
        -webkit-transform: translate3d(100%, 0, 0) skewX(30deg);
        transform: translate3d(100%, 0, 0) skewX(30deg);
        opacity: 0;
    }
}

.animate__lightSpeedOutRight {
    -webkit-animation-name: lightSpeedOutRight;
    animation-name: lightSpeedOutRight;
    -webkit-animation-timing-function: ease-in;
    animation-timing-function: ease-in;
}

@-webkit-keyframes lightSpeedOutLeft {
    from {
        opacity: 1;
    }

    to {
        -webkit-transform: translate3d(-100%, 0, 0) skewX(-30deg);
        transform: translate3d(-100%, 0, 0) skewX(-30deg);
        opacity: 0;
    }
}

@keyframes lightSpeedOutLeft {
    from {
        opacity: 1;
    }

    to {
        -webkit-transform: translate3d(-100%, 0, 0) skewX(-30deg);
        transform: translate3d(-100%, 0, 0) skewX(-30deg);
        opacity: 0;
    }
}

.animate__lightSpeedOutLeft {
    -webkit-animation-name: lightSpeedOutLeft;
    animation-name: lightSpeedOutLeft;
    -webkit-animation-timing-function: ease-in;
    animation-timing-function: ease-in;
}

/* Rotating entrances */
@-webkit-keyframes rotateIn {
    from {
        -webkit-transform: rotate3d(0, 0, 1, -200deg);
        transform: rotate3d(0, 0, 1, -200deg);
        opacity: 0;
    }

    to {
        -webkit-transform: translate3d(0, 0, 0);
        transform: translate3d(0, 0, 0);
        opacity: 1;
    }
}

@keyframes rotateIn {
    from {
        -webkit-transform: rotate3d(0, 0, 1, -200deg);
        transform: rotate3d(0, 0, 1, -200deg);
        opacity: 0;
    }

    to {
        -webkit-transform: translate3d(0, 0, 0);
        transform: translate3d(0, 0, 0);
        opacity: 1;
    }
}

.animate__rotateIn {
    -webkit-animation-name: rotateIn;
    animation-name: rotateIn;
    -webkit-transform-origin: center;
    transform-origin: center;
}

@-webkit-keyframes rotateInDownLeft {
    from {
        -webkit-transform: rotate3d(0, 0, 1, -45deg);
        transform: rotate3d(0, 0, 1, -45deg);
        opacity: 0;
    }

    to {
        -webkit-transform: translate3d(0, 0, 0);
        transform: translate3d(0, 0, 0);
        opacity: 1;
    }
}

@keyframes rotateInDownLeft {
    from {
        -webkit-transform: rotate3d(0, 0, 1, -45deg);
        transform: rotate3d(0, 0, 1, -45deg);
        opacity: 0;
    }

    to {
        -webkit-transform: translate3d(0, 0, 0);
        transform: translate3d(0, 0, 0);
        opacity: 1;
    }
}

.animate__rotateInDownLeft {
    -webkit-animation-name: rotateInDownLeft;
    animation-name: rotateInDownLeft;
    -webkit-transform-origin: left bottom;
    transform-origin: left bottom;
}

@-webkit-keyframes rotateInDownRight {
    from {
        -webkit-transform: rotate3d(0, 0, 1, 45deg);
        transform: rotate3d(0, 0, 1, 45deg);
        opacity: 0;
    }

    to {
        -webkit-transform: translate3d(0, 0, 0);
        transform: translate3d(0, 0, 0);
        opacity: 1;
    }
}

@keyframes rotateInDownRight {
    from {
        -webkit-transform: rotate3d(0, 0, 1, 45deg);
        transform: rotate3d(0, 0, 1, 45deg);
        opacity: 0;
    }

    to {
        -webkit-transform: translate3d(0, 0, 0);
        transform: translate3d(0, 0, 0);
        opacity: 1;
    }
}

.animate__rotateInDownRight {
    -webkit-animation-name: rotateInDownRight;
    animation-name: rotateInDownRight;
    -webkit-transform-origin: right bottom;
    transform-origin: right bottom;
}

@-webkit-keyframes rotateInUpLeft {
    from {
        -webkit-transform: rotate3d(0, 0, 1, 45deg);
        transform: rotate3d(0, 0, 1, 45deg);
        opacity: 0;
    }

    to {
        -webkit-transform: translate3d(0, 0, 0);
        transform: translate3d(0, 0, 0);
        opacity: 1;
    }
}

@keyframes rotateInUpLeft {
    from {
        -webkit-transform: rotate3d(0, 0, 1, 45deg);
        transform: rotate3d(0, 0, 1, 45deg);
        opacity: 0;
    }

    to {
        -webkit-transform: translate3d(0, 0, 0);
        transform: translate3d(0, 0, 0);
        opacity: 1;
    }
}

.animate__rotateInUpLeft {
    -webkit-animation-name: rotateInUpLeft;
    animation-name: rotateInUpLeft;
    -webkit-transform-origin: left bottom;
    transform-origin: left bottom;
}

@-webkit-keyframes rotateInUpRight {
    from {
        -webkit-transform: rotate3d(0, 0, 1, -90deg);
        transform: rotate3d(0, 0, 1, -90deg);
        opacity: 0;
    }

    to {
        -webkit-transform: translate3d(0, 0, 0);
        transform: translate3d(0, 0, 0);
        opacity: 1;
    }
}

@keyframes rotateInUpRight {
    from {
        -webkit-transform: rotate3d(0, 0, 1, -90deg);
        transform: rotate3d(0, 0, 1, -90deg);
        opacity: 0;
    }

    to {
        -webkit-transform: translate3d(0, 0, 0);
        transform: translate3d(0, 0, 0);
        opacity: 1;
    }
}

.animate__rotateInUpRight {
    -webkit-animation-name: rotateInUpRight;
    animation-name: rotateInUpRight;
    -webkit-transform-origin: right bottom;
    transform-origin: right bottom;
}

/* Rotating exits */
@-webkit-keyframes rotateOut {
    from {
        opacity: 1;
    }

    to {
        -webkit-transform: rotate3d(0, 0, 1, 200deg);
        transform: rotate3d(0, 0, 1, 200deg);
        opacity: 0;
    }
}

@keyframes rotateOut {
    from {
        opacity: 1;
    }

    to {
        -webkit-transform: rotate3d(0, 0, 1, 200deg);
        transform: rotate3d(0, 0, 1, 200deg);
        opacity: 0;
    }
}

.animate__rotateOut {
    -webkit-animation-name: rotateOut;
    animation-name: rotateOut;
    -webkit-transform-origin: center;
    transform-origin: center;
}

@-webkit-keyframes rotateOutDownLeft {
    from {
        opacity: 1;
    }

    to {
        -webkit-transform: rotate3d(0, 0, 1, 45deg);
        transform: rotate3d(0, 0, 1, 45deg);
        opacity: 0;
    }
}

@keyframes rotateOutDownLeft {
    from {
        opacity: 1;
    }

    to {
        -webkit-transform: rotate3d(0, 0, 1, 45deg);
        transform: rotate3d(0, 0, 1, 45deg);
        opacity: 0;
    }
}

.animate__rotateOutDownLeft {
    -webkit-animation-name: rotateOutDownLeft;
    animation-name: rotateOutDownLeft;
    -webkit-transform-origin: left bottom;
    transform-origin: left bottom;
}

@-webkit-keyframes rotateOutDownRight {
    from {
        opacity: 1;
    }

    to {
        -webkit-transform: rotate3d(0, 0, 1, -45deg);
        transform: rotate3d(0, 0, 1, -45deg);
        opacity: 0;
    }
}

@keyframes rotateOutDownRight {
    from {
        opacity: 1;
    }

    to {
        -webkit-transform: rotate3d(0, 0, 1, -45deg);
        transform: rotate3d(0, 0, 1, -45deg);
        opacity: 0;
    }
}

.animate__rotateOutDownRight {
    -webkit-animation-name: rotateOutDownRight;
    animation-name: rotateOutDownRight;
    -webkit-transform-origin: right bottom;
    transform-origin: right bottom;
}

@-webkit-keyframes rotateOutUpLeft {
    from {
        opacity: 1;
    }

    to {
        -webkit-transform: rotate3d(0, 0, 1, -45deg);
        transform: rotate3d(0, 0, 1, -45deg);
        opacity: 0;
    }
}

@keyframes rotateOutUpLeft {
    from {
        opacity: 1;
    }

    to {
        -webkit-transform: rotate3d(0, 0, 1, -45deg);
        transform: rotate3d(0, 0, 1, -45deg);
        opacity: 0;
    }
}

.animate__rotateOutUpLeft {
    -webkit-animation-name: rotateOutUpLeft;
    animation-name: rotateOutUpLeft;
    -webkit-transform-origin: left bottom;
    transform-origin: left bottom;
}

@-webkit-keyframes rotateOutUpRight {
    from {
        opacity: 1;
    }

    to {
        -webkit-transform: rotate3d(0, 0, 1, 90deg);
        transform: rotate3d(0, 0, 1, 90deg);
        opacity: 0;
    }
}

@keyframes rotateOutUpRight {
    from {
        opacity: 1;
    }

    to {
        -webkit-transform: rotate3d(0, 0, 1, 90deg);
        transform: rotate3d(0, 0, 1, 90deg);
        opacity: 0;
    }
}

.animate__rotateOutUpRight {
    -webkit-animation-name: rotateOutUpRight;
    animation-name: rotateOutUpRight;
    -webkit-transform-origin: right bottom;
    transform-origin: right bottom;
}

/* Specials */
@-webkit-keyframes hinge {
    0% {
        -webkit-animation-timing-function: ease-in-out;
        animation-timing-function: ease-in-out;
    }

    20%,
    60% {
        -webkit-transform: rotate3d(0, 0, 1, 80deg);
        transform: rotate3d(0, 0, 1, 80deg);
        -webkit-animation-timing-function: ease-in-out;
        animation-timing-function: ease-in-out;
    }

    40%,
    80% {
        -webkit-transform: rotate3d(0, 0, 1, 60deg);
        transform: rotate3d(0, 0, 1, 60deg);
        -webkit-animation-timing-function: ease-in-out;
        animation-timing-function: ease-in-out;
        opacity: 1;
    }

    to {
        -webkit-transform: translate3d(0, 700px, 0);
        transform: translate3d(0, 700px, 0);
        opacity: 0;
    }
}

@keyframes hinge {
    0% {
        -webkit-animation-timing-function: ease-in-out;
        animation-timing-function: ease-in-out;
    }

    20%,
    60% {
        -webkit-transform: rotate3d(0, 0, 1, 80deg);
        transform: rotate3d(0, 0, 1, 80deg);
        -webkit-animation-timing-function: ease-in-out;
        animation-timing-function: ease-in-out;
    }

    40%,
    80% {
        -webkit-transform: rotate3d(0, 0, 1, 60deg);
        transform: rotate3d(0, 0, 1, 60deg);
        -webkit-animation-timing-function: ease-in-out;
        animation-timing-function: ease-in-out;
        opacity: 1;
    }

    to {
        -webkit-transform: translate3d(0, 700px, 0);
        transform: translate3d(0, 700px, 0);
        opacity: 0;
    }
}

.animate__hinge {
    -webkit-animation-duration: calc(1s * 2);
    animation-duration: calc(1s * 2);
    -webkit-animation-duration: calc(var(--animate-duration) * 2);
    animation-duration: calc(var(--animate-duration) * 2);
    -webkit-animation-name: hinge;
    animation-name: hinge;
    -webkit-transform-origin: top left;
    transform-origin: top left;
}

@-webkit-keyframes jackInTheBox {
    from {
        opacity: 0;
        -webkit-transform: scale(0.1) rotate(30deg);
        transform: scale(0.1) rotate(30deg);
        -webkit-transform-origin: center bottom;
        transform-origin: center bottom;
    }

    50% {
        -webkit-transform: rotate(-10deg);
        transform: rotate(-10deg);
    }

    70% {
        -webkit-transform: rotate(3deg);
        transform: rotate(3deg);
    }

    to {
        opacity: 1;
        -webkit-transform: scale(1);
        transform: scale(1);
    }
}

@keyframes jackInTheBox {
    from {
        opacity: 0;
        -webkit-transform: scale(0.1) rotate(30deg);
        transform: scale(0.1) rotate(30deg);
        -webkit-transform-origin: center bottom;
        transform-origin: center bottom;
    }

    50% {
        -webkit-transform: rotate(-10deg);
        transform: rotate(-10deg);
    }

    70% {
        -webkit-transform: rotate(3deg);
        transform: rotate(3deg);
    }

    to {
        opacity: 1;
        -webkit-transform: scale(1);
        transform: scale(1);
    }
}

.animate__jackInTheBox {
    -webkit-animation-name: jackInTheBox;
    animation-name: jackInTheBox;
}

/* originally authored by Nick Pettit - https://github.com/nickpettit/glide */
@-webkit-keyframes rollIn {
    from {
        opacity: 0;
        -webkit-transform: translate3d(-100%, 0, 0) rotate3d(0, 0, 1, -120deg);
        transform: translate3d(-100%, 0, 0) rotate3d(0, 0, 1, -120deg);
    }

    to {
        opacity: 1;
        -webkit-transform: translate3d(0, 0, 0);
        transform: translate3d(0, 0, 0);
    }
}

@keyframes rollIn {
    from {
        opacity: 0;
        -webkit-transform: translate3d(-100%, 0, 0) rotate3d(0, 0, 1, -120deg);
        transform: translate3d(-100%, 0, 0) rotate3d(0, 0, 1, -120deg);
    }

    to {
        opacity: 1;
        -webkit-transform: translate3d(0, 0, 0);
        transform: translate3d(0, 0, 0);
    }
}

.animate__rollIn {
    -webkit-animation-name: rollIn;
    animation-name: rollIn;
}

/* originally authored by Nick Pettit - https://github.com/nickpettit/glide */
@-webkit-keyframes rollOut {
    from {
        opacity: 1;
    }

    to {
        opacity: 0;
        -webkit-transform: translate3d(100%, 0, 0) rotate3d(0, 0, 1, 120deg);
        transform: translate3d(100%, 0, 0) rotate3d(0, 0, 1, 120deg);
    }
}

@keyframes rollOut {
    from {
        opacity: 1;
    }

    to {
        opacity: 0;
        -webkit-transform: translate3d(100%, 0, 0) rotate3d(0, 0, 1, 120deg);
        transform: translate3d(100%, 0, 0) rotate3d(0, 0, 1, 120deg);
    }
}

.animate__rollOut {
    -webkit-animation-name: rollOut;
    animation-name: rollOut;
}

/* Zooming entrances */
@-webkit-keyframes zoomIn {
    from {
        opacity: 0;
        -webkit-transform: scale3d(0.3, 0.3, 0.3);
        transform: scale3d(0.3, 0.3, 0.3);
    }

    50% {
        opacity: 1;
    }
}

@keyframes zoomIn {
    from {
        opacity: 0;
        -webkit-transform: scale3d(0.3, 0.3, 0.3);
        transform: scale3d(0.3, 0.3, 0.3);
    }

    50% {
        opacity: 1;
    }
}

.animate__zoomIn {
    -webkit-animation-name: zoomIn;
    animation-name: zoomIn;
}

@-webkit-keyframes zoomInDown {
    from {
        opacity: 0;
        -webkit-transform: scale3d(0.1, 0.1, 0.1) translate3d(0, -1000px, 0);
        transform: scale3d(0.1, 0.1, 0.1) translate3d(0, -1000px, 0);
        -webkit-animation-timing-function: cubic-bezier(0.55, 0.055, 0.675, 0.19);
        animation-timing-function: cubic-bezier(0.55, 0.055, 0.675, 0.19);
    }

    60% {
        opacity: 1;
        -webkit-transform: scale3d(0.475, 0.475, 0.475) translate3d(0, 60px, 0);
        transform: scale3d(0.475, 0.475, 0.475) translate3d(0, 60px, 0);
        -webkit-animation-timing-function: cubic-bezier(0.175, 0.885, 0.32, 1);
        animation-timing-function: cubic-bezier(0.175, 0.885, 0.32, 1);
    }
}

@keyframes zoomInDown {
    from {
        opacity: 0;
        -webkit-transform: scale3d(0.1, 0.1, 0.1) translate3d(0, -1000px, 0);
        transform: scale3d(0.1, 0.1, 0.1) translate3d(0, -1000px, 0);
        -webkit-animation-timing-function: cubic-bezier(0.55, 0.055, 0.675, 0.19);
        animation-timing-function: cubic-bezier(0.55, 0.055, 0.675, 0.19);
    }

    60% {
        opacity: 1;
        -webkit-transform: scale3d(0.475, 0.475, 0.475) translate3d(0, 60px, 0);
        transform: scale3d(0.475, 0.475, 0.475) translate3d(0, 60px, 0);
        -webkit-animation-timing-function: cubic-bezier(0.175, 0.885, 0.32, 1);
        animation-timing-function: cubic-bezier(0.175, 0.885, 0.32, 1);
    }
}

.animate__zoomInDown {
    -webkit-animation-name: zoomInDown;
    animation-name: zoomInDown;
}

@-webkit-keyframes zoomInLeft {
    from {
        opacity: 0;
        -webkit-transform: scale3d(0.1, 0.1, 0.1) translate3d(-1000px, 0, 0);
        transform: scale3d(0.1, 0.1, 0.1) translate3d(-1000px, 0, 0);
        -webkit-animation-timing-function: cubic-bezier(0.55, 0.055, 0.675, 0.19);
        animation-timing-function: cubic-bezier(0.55, 0.055, 0.675, 0.19);
    }

    60% {
        opacity: 1;
        -webkit-transform: scale3d(0.475, 0.475, 0.475) translate3d(10px, 0, 0);
        transform: scale3d(0.475, 0.475, 0.475) translate3d(10px, 0, 0);
        -webkit-animation-timing-function: cubic-bezier(0.175, 0.885, 0.32, 1);
        animation-timing-function: cubic-bezier(0.175, 0.885, 0.32, 1);
    }
}

@keyframes zoomInLeft {
    from {
        opacity: 0;
        -webkit-transform: scale3d(0.1, 0.1, 0.1) translate3d(-1000px, 0, 0);
        transform: scale3d(0.1, 0.1, 0.1) translate3d(-1000px, 0, 0);
        -webkit-animation-timing-function: cubic-bezier(0.55, 0.055, 0.675, 0.19);
        animation-timing-function: cubic-bezier(0.55, 0.055, 0.675, 0.19);
    }

    60% {
        opacity: 1;
        -webkit-transform: scale3d(0.475, 0.475, 0.475) translate3d(10px, 0, 0);
        transform: scale3d(0.475, 0.475, 0.475) translate3d(10px, 0, 0);
        -webkit-animation-timing-function: cubic-bezier(0.175, 0.885, 0.32, 1);
        animation-timing-function: cubic-bezier(0.175, 0.885, 0.32, 1);
    }
}

.animate__zoomInLeft {
    -webkit-animation-name: zoomInLeft;
    animation-name: zoomInLeft;
}

@-webkit-keyframes zoomInRight {
    from {
        opacity: 0;
        -webkit-transform: scale3d(0.1, 0.1, 0.1) translate3d(1000px, 0, 0);
        transform: scale3d(0.1, 0.1, 0.1) translate3d(1000px, 0, 0);
        -webkit-animation-timing-function: cubic-bezier(0.55, 0.055, 0.675, 0.19);
        animation-timing-function: cubic-bezier(0.55, 0.055, 0.675, 0.19);
    }

    60% {
        opacity: 1;
        -webkit-transform: scale3d(0.475, 0.475, 0.475) translate3d(-10px, 0, 0);
        transform: scale3d(0.475, 0.475, 0.475) translate3d(-10px, 0, 0);
        -webkit-animation-timing-function: cubic-bezier(0.175, 0.885, 0.32, 1);
        animation-timing-function: cubic-bezier(0.175, 0.885, 0.32, 1);
    }
}

@keyframes zoomInRight {
    from {
        opacity: 0;
        -webkit-transform: scale3d(0.1, 0.1, 0.1) translate3d(1000px, 0, 0);
        transform: scale3d(0.1, 0.1, 0.1) translate3d(1000px, 0, 0);
        -webkit-animation-timing-function: cubic-bezier(0.55, 0.055, 0.675, 0.19);
        animation-timing-function: cubic-bezier(0.55, 0.055, 0.675, 0.19);
    }

    60% {
        opacity: 1;
        -webkit-transform: scale3d(0.475, 0.475, 0.475) translate3d(-10px, 0, 0);
        transform: scale3d(0.475, 0.475, 0.475) translate3d(-10px, 0, 0);
        -webkit-animation-timing-function: cubic-bezier(0.175, 0.885, 0.32, 1);
        animation-timing-function: cubic-bezier(0.175, 0.885, 0.32, 1);
    }
}

.animate__zoomInRight {
    -webkit-animation-name: zoomInRight;
    animation-name: zoomInRight;
}

@-webkit-keyframes zoomInUp {
    from {
        opacity: 0;
        -webkit-transform: scale3d(0.1, 0.1, 0.1) translate3d(0, 1000px, 0);
        transform: scale3d(0.1, 0.1, 0.1) translate3d(0, 1000px, 0);
        -webkit-animation-timing-function: cubic-bezier(0.55, 0.055, 0.675, 0.19);
        animation-timing-function: cubic-bezier(0.55, 0.055, 0.675, 0.19);
    }

    60% {
        opacity: 1;
        -webkit-transform: scale3d(0.475, 0.475, 0.475) translate3d(0, -60px, 0);
        transform: scale3d(0.475, 0.475, 0.475) translate3d(0, -60px, 0);
        -webkit-animation-timing-function: cubic-bezier(0.175, 0.885, 0.32, 1);
        animation-timing-function: cubic-bezier(0.175, 0.885, 0.32, 1);
    }
}

@keyframes zoomInUp {
    from {
        opacity: 0;
        -webkit-transform: scale3d(0.1, 0.1, 0.1) translate3d(0, 1000px, 0);
        transform: scale3d(0.1, 0.1, 0.1) translate3d(0, 1000px, 0);
        -webkit-animation-timing-function: cubic-bezier(0.55, 0.055, 0.675, 0.19);
        animation-timing-function: cubic-bezier(0.55, 0.055, 0.675, 0.19);
    }

    60% {
        opacity: 1;
        -webkit-transform: scale3d(0.475, 0.475, 0.475) translate3d(0, -60px, 0);
        transform: scale3d(0.475, 0.475, 0.475) translate3d(0, -60px, 0);
        -webkit-animation-timing-function: cubic-bezier(0.175, 0.885, 0.32, 1);
        animation-timing-function: cubic-bezier(0.175, 0.885, 0.32, 1);
    }
}

.animate__zoomInUp {
    -webkit-animation-name: zoomInUp;
    animation-name: zoomInUp;
}

/* Zooming exits */
@-webkit-keyframes zoomOut {
    from {
        opacity: 1;
    }

    50% {
        opacity: 0;
        -webkit-transform: scale3d(0.3, 0.3, 0.3);
        transform: scale3d(0.3, 0.3, 0.3);
    }

    to {
        opacity: 0;
    }
}

@keyframes zoomOut {
    from {
        opacity: 1;
    }

    50% {
        opacity: 0;
        -webkit-transform: scale3d(0.3, 0.3, 0.3);
        transform: scale3d(0.3, 0.3, 0.3);
    }

    to {
        opacity: 0;
    }
}

.animate__zoomOut {
    -webkit-animation-name: zoomOut;
    animation-name: zoomOut;
}

@-webkit-keyframes zoomOutDown {
    40% {
        opacity: 1;
        -webkit-transform: scale3d(0.475, 0.475, 0.475) translate3d(0, -60px, 0);
        transform: scale3d(0.475, 0.475, 0.475) translate3d(0, -60px, 0);
        -webkit-animation-timing-function: cubic-bezier(0.55, 0.055, 0.675, 0.19);
        animation-timing-function: cubic-bezier(0.55, 0.055, 0.675, 0.19);
    }

    to {
        opacity: 0;
        -webkit-transform: scale3d(0.1, 0.1, 0.1) translate3d(0, 2000px, 0);
        transform: scale3d(0.1, 0.1, 0.1) translate3d(0, 2000px, 0);
        -webkit-animation-timing-function: cubic-bezier(0.175, 0.885, 0.32, 1);
        animation-timing-function: cubic-bezier(0.175, 0.885, 0.32, 1);
    }
}

@keyframes zoomOutDown {
    40% {
        opacity: 1;
        -webkit-transform: scale3d(0.475, 0.475, 0.475) translate3d(0, -60px, 0);
        transform: scale3d(0.475, 0.475, 0.475) translate3d(0, -60px, 0);
        -webkit-animation-timing-function: cubic-bezier(0.55, 0.055, 0.675, 0.19);
        animation-timing-function: cubic-bezier(0.55, 0.055, 0.675, 0.19);
    }

    to {
        opacity: 0;
        -webkit-transform: scale3d(0.1, 0.1, 0.1) translate3d(0, 2000px, 0);
        transform: scale3d(0.1, 0.1, 0.1) translate3d(0, 2000px, 0);
        -webkit-animation-timing-function: cubic-bezier(0.175, 0.885, 0.32, 1);
        animation-timing-function: cubic-bezier(0.175, 0.885, 0.32, 1);
    }
}

.animate__zoomOutDown {
    -webkit-animation-name: zoomOutDown;
    animation-name: zoomOutDown;
    -webkit-transform-origin: center bottom;
    transform-origin: center bottom;
}

@-webkit-keyframes zoomOutLeft {
    40% {
        opacity: 1;
        -webkit-transform: scale3d(0.475, 0.475, 0.475) translate3d(42px, 0, 0);
        transform: scale3d(0.475, 0.475, 0.475) translate3d(42px, 0, 0);
    }

    to {
        opacity: 0;
        -webkit-transform: scale(0.1) translate3d(-2000px, 0, 0);
        transform: scale(0.1) translate3d(-2000px, 0, 0);
    }
}

@keyframes zoomOutLeft {
    40% {
        opacity: 1;
        -webkit-transform: scale3d(0.475, 0.475, 0.475) translate3d(42px, 0, 0);
        transform: scale3d(0.475, 0.475, 0.475) translate3d(42px, 0, 0);
    }

    to {
        opacity: 0;
        -webkit-transform: scale(0.1) translate3d(-2000px, 0, 0);
        transform: scale(0.1) translate3d(-2000px, 0, 0);
    }
}

.animate__zoomOutLeft {
    -webkit-animation-name: zoomOutLeft;
    animation-name: zoomOutLeft;
    -webkit-transform-origin: left center;
    transform-origin: left center;
}

@-webkit-keyframes zoomOutRight {
    40% {
        opacity: 1;
        -webkit-transform: scale3d(0.475, 0.475, 0.475) translate3d(-42px, 0, 0);
        transform: scale3d(0.475, 0.475, 0.475) translate3d(-42px, 0, 0);
    }

    to {
        opacity: 0;
        -webkit-transform: scale(0.1) translate3d(2000px, 0, 0);
        transform: scale(0.1) translate3d(2000px, 0, 0);
    }
}

@keyframes zoomOutRight {
    40% {
        opacity: 1;
        -webkit-transform: scale3d(0.475, 0.475, 0.475) translate3d(-42px, 0, 0);
        transform: scale3d(0.475, 0.475, 0.475) translate3d(-42px, 0, 0);
    }

    to {
        opacity: 0;
        -webkit-transform: scale(0.1) translate3d(2000px, 0, 0);
        transform: scale(0.1) translate3d(2000px, 0, 0);
    }
}

.animate__zoomOutRight {
    -webkit-animation-name: zoomOutRight;
    animation-name: zoomOutRight;
    -webkit-transform-origin: right center;
    transform-origin: right center;
}

@-webkit-keyframes zoomOutUp {
    40% {
        opacity: 1;
        -webkit-transform: scale3d(0.475, 0.475, 0.475) translate3d(0, 60px, 0);
        transform: scale3d(0.475, 0.475, 0.475) translate3d(0, 60px, 0);
        -webkit-animation-timing-function: cubic-bezier(0.55, 0.055, 0.675, 0.19);
        animation-timing-function: cubic-bezier(0.55, 0.055, 0.675, 0.19);
    }

    to {
        opacity: 0;
        -webkit-transform: scale3d(0.1, 0.1, 0.1) translate3d(0, -2000px, 0);
        transform: scale3d(0.1, 0.1, 0.1) translate3d(0, -2000px, 0);
        -webkit-animation-timing-function: cubic-bezier(0.175, 0.885, 0.32, 1);
        animation-timing-function: cubic-bezier(0.175, 0.885, 0.32, 1);
    }
}

@keyframes zoomOutUp {
    40% {
        opacity: 1;
        -webkit-transform: scale3d(0.475, 0.475, 0.475) translate3d(0, 60px, 0);
        transform: scale3d(0.475, 0.475, 0.475) translate3d(0, 60px, 0);
        -webkit-animation-timing-function: cubic-bezier(0.55, 0.055, 0.675, 0.19);
        animation-timing-function: cubic-bezier(0.55, 0.055, 0.675, 0.19);
    }

    to {
        opacity: 0;
        -webkit-transform: scale3d(0.1, 0.1, 0.1) translate3d(0, -2000px, 0);
        transform: scale3d(0.1, 0.1, 0.1) translate3d(0, -2000px, 0);
        -webkit-animation-timing-function: cubic-bezier(0.175, 0.885, 0.32, 1);
        animation-timing-function: cubic-bezier(0.175, 0.885, 0.32, 1);
    }
}

.animate__zoomOutUp {
    -webkit-animation-name: zoomOutUp;
    animation-name: zoomOutUp;
    -webkit-transform-origin: center bottom;
    transform-origin: center bottom;
}

/* Sliding entrances */
@-webkit-keyframes slideInDown {
    from {
        -webkit-transform: translate3d(0, -100%, 0);
        transform: translate3d(0, -100%, 0);
        visibility: visible;
    }

    to {
        -webkit-transform: translate3d(0, 0, 0);
        transform: translate3d(0, 0, 0);
    }
}

@keyframes slideInDown {
    from {
        -webkit-transform: translate3d(0, -100%, 0);
        transform: translate3d(0, -100%, 0);
        visibility: visible;
    }

    to {
        -webkit-transform: translate3d(0, 0, 0);
        transform: translate3d(0, 0, 0);
    }
}

.animate__slideInDown {
    -webkit-animation-name: slideInDown;
    animation-name: slideInDown;
}

@-webkit-keyframes slideInLeft {
    from {
        -webkit-transform: translate3d(-100%, 0, 0);
        transform: translate3d(-100%, 0, 0);
        visibility: visible;
    }

    to {
        -webkit-transform: translate3d(0, 0, 0);
        transform: translate3d(0, 0, 0);
    }
}

@keyframes slideInLeft {
    from {
        -webkit-transform: translate3d(-100%, 0, 0);
        transform: translate3d(-100%, 0, 0);
        visibility: visible;
    }

    to {
        -webkit-transform: translate3d(0, 0, 0);
        transform: translate3d(0, 0, 0);
    }
}

.animate__slideInLeft {
    -webkit-animation-name: slideInLeft;
    animation-name: slideInLeft;
}

@-webkit-keyframes slideInRight {
    from {
        -webkit-transform: translate3d(100%, 0, 0);
        transform: translate3d(100%, 0, 0);
        visibility: visible;
    }

    to {
        -webkit-transform: translate3d(0, 0, 0);
        transform: translate3d(0, 0, 0);
    }
}

@keyframes slideInRight {
    from {
        -webkit-transform: translate3d(100%, 0, 0);
        transform: translate3d(100%, 0, 0);
        visibility: visible;
    }

    to {
        -webkit-transform: translate3d(0, 0, 0);
        transform: translate3d(0, 0, 0);
    }
}

.animate__slideInRight {
    -webkit-animation-name: slideInRight;
    animation-name: slideInRight;
}

@-webkit-keyframes slideInUp {
    from {
        -webkit-transform: translate3d(0, 100%, 0);
        transform: translate3d(0, 100%, 0);
        visibility: visible;
    }

    to {
        -webkit-transform: translate3d(0, 0, 0);
        transform: translate3d(0, 0, 0);
    }
}

@keyframes slideInUp {
    from {
        -webkit-transform: translate3d(0, 100%, 0);
        transform: translate3d(0, 100%, 0);
        visibility: visible;
    }

    to {
        -webkit-transform: translate3d(0, 0, 0);
        transform: translate3d(0, 0, 0);
    }
}

.animate__slideInUp {
    -webkit-animation-name: slideInUp;
    animation-name: slideInUp;
}

/* Sliding exits */
@-webkit-keyframes slideOutDown {
    from {
        -webkit-transform: translate3d(0, 0, 0);
        transform: translate3d(0, 0, 0);
    }

    to {
        visibility: hidden;
        -webkit-transform: translate3d(0, 100%, 0);
        transform: translate3d(0, 100%, 0);
    }
}

@keyframes slideOutDown {
    from {
        -webkit-transform: translate3d(0, 0, 0);
        transform: translate3d(0, 0, 0);
    }

    to {
        visibility: hidden;
        -webkit-transform: translate3d(0, 100%, 0);
        transform: translate3d(0, 100%, 0);
    }
}

.animate__slideOutDown {
    -webkit-animation-name: slideOutDown;
    animation-name: slideOutDown;
}

@-webkit-keyframes slideOutLeft {
    from {
        -webkit-transform: translate3d(0, 0, 0);
        transform: translate3d(0, 0, 0);
    }

    to {
        visibility: hidden;
        -webkit-transform: translate3d(-100%, 0, 0);
        transform: translate3d(-100%, 0, 0);
    }
}

@keyframes slideOutLeft {
    from {
        -webkit-transform: translate3d(0, 0, 0);
        transform: translate3d(0, 0, 0);
    }

    to {
        visibility: hidden;
        -webkit-transform: translate3d(-100%, 0, 0);
        transform: translate3d(-100%, 0, 0);
    }
}

.animate__slideOutLeft {
    -webkit-animation-name: slideOutLeft;
    animation-name: slideOutLeft;
}

@-webkit-keyframes slideOutRight {
    from {
        -webkit-transform: translate3d(0, 0, 0);
        transform: translate3d(0, 0, 0);
    }

    to {
        visibility: hidden;
        -webkit-transform: translate3d(100%, 0, 0);
        transform: translate3d(100%, 0, 0);
    }
}

@keyframes slideOutRight {
    from {
        -webkit-transform: translate3d(0, 0, 0);
        transform: translate3d(0, 0, 0);
    }

    to {
        visibility: hidden;
        -webkit-transform: translate3d(100%, 0, 0);
        transform: translate3d(100%, 0, 0);
    }
}

.animate__slideOutRight {
    -webkit-animation-name: slideOutRight;
    animation-name: slideOutRight;
}

@-webkit-keyframes slideOutUp {
    from {
        -webkit-transform: translate3d(0, 0, 0);
        transform: translate3d(0, 0, 0);
    }

    to {
        visibility: hidden;
        -webkit-transform: translate3d(0, -100%, 0);
        transform: translate3d(0, -100%, 0);
    }
}

@keyframes slideOutUp {
    from {
        -webkit-transform: translate3d(0, 0, 0);
        transform: translate3d(0, 0, 0);
    }

    to {
        visibility: hidden;
        -webkit-transform: translate3d(0, -100%, 0);
        transform: translate3d(0, -100%, 0);
    }
}

.animate__slideOutUp {
    -webkit-animation-name: slideOutUp;
    animation-name: slideOutUp;
}
</file>

<file path="ui-module/src/main/resources/frontend-config/css/cssanimation.css">
/**
 * cssanimation.css
 * Current Version: 1.0.3
 * https://www.cssanimatio.io
 * Created and maintained by: Pavel
 * Find me at: https://www.linkedin.com/in/yesiamrocks/
 * Email: hello@cssanimation.io
 * Github: https://github.com/yesiamrocks/cssanimation.io
 * Title: A CSS Animation Library for Developers and Ninjas
 * Copyright (c) 2017 Pavel
 * License: cssanimation.io is licensed under the MIT license
 **/
.cssanimation, .cssanimation span {
    animation-duration: 1s;
    animation-fill-mode: both;
}

.cssanimation span {
    display: inline-block
}

.infinite {
    animation-iteration-count: infinite !important
}

/*************************************************************
Striking
**************************************************************/
.hu__hu__ {
    animation: hu__hu__ infinite 2s ease-in-out
}

@keyframes hu__hu__ {
    50% {
        transform: translateY(30px)
    }
}

.leSnake span {
    animation: leSnake 1.5s ease-in-out;
    animation-iteration-count: infinite
}

@keyframes leSnake {
    from, to {
        transform: translateY(0px)
    }
    50% {
        transform: translateY(30px)
    }
}

.lePeek span {
    animation-name: lePeek
}

@keyframes lePeek {
    25% {
        transform: rotateX(30deg) translateY(10px) rotate(-13deg);
    }
    50% {
        transform: translateY(-22px) rotate(3deg) scale(1.1);
    }
}

.effect3d {
    animation-name: effect3d
}

@keyframes effect3d {
    to {
        text-shadow: 0 1px 0 #ccc, 0 2px 0 #c9c9c9, 0 3px 0 #bbb, 0 4px 0 #b9b9b9, 0 5px 0 #aaa, 0 6px 1px rgba(0, 0, 0, .1), 0 0 5px rgba(0, 0, 0, .1), 0 1px 3px rgba(0, 0, 0, .3), 0 3px 5px rgba(0, 0, 0, .2), 0 5px 10px rgba(0, 0, 0, .25), 0 10px 10px rgba(0, 0, 0, .2), 0 20px 20px rgba(0, 0, 0, .15)
    }
}

.leRainDrop span {
    animation-name: leRainDrop;
    animation-iteration-count: infinite;
}

@keyframes leRainDrop {
    0%, 25%, 55%, 75%, 87%, 97%, 100% {
        transform: scaleX(1.0)
    }
    26%, 56%, 76% {
        transform: scaleX(1.3) scaleY(0.8)
    }
    31%, 61%, 81% {
        transform: scaleX(0.8) scaleY(1.2)
    }
    76%, 88% {
        transform: scaleX(1.2)
    }
    98% {
        transform: scaleX(1.1)
    }
}

.pepe {
    animation-name: pepe;
    animation-iteration-count: infinite
}

@keyframes pepe {
    from, 33%, 66%, to {
        transform: rotate(4deg)
    }
    16%, 50%, 83% {
        transform: rotate(-4deg)
    }
}

.leWaterWave span {
    animation: leWaterWave .2s linear infinite
}

@keyframes leWaterWave {
    50% {
        transform: skewY(1deg) skewX(-1deg) scale(1.06)
    }
}

.lightning {
    animation-name: lightning
}

@keyframes lightning {
    from, 50%, to {
        opacity: 1
    }
    25%, 75% {
        opacity: 0
    }
}

.leJoltZoom span {
    animation-name: leJoltZoom
}

@keyframes leJoltZoom {
    10% {
        font-size: 140%
    }
    40% {
        font-size: 80%
    }
    100% {
        font-size: 100%
    }
}

.typing {
    width: 473px;
    overflow: hidden;
    white-space: nowrap;
    border-right: 2px solid #7E2EA0;
    animation: typing 2s steps(12, end), cursor .2s steps(12, end) infinite;
}

@keyframes typing {
    from {
        width: 0
    }
}

@keyframes cursor {
    50% {
        border-color: transparent
    }
}

.electricity {
    animation-name: electricity;
    animation-iteration-count: infinite
}

@keyframes electricity {
    from, 37%, 67%, 85%, 93% {
        transform: translateY(30px)
    }
    4%, 64%, 88% {
        transform: translateY(10px)
    }
    8%, 24%, 32%, 44% {
        transform: translateY(5px)
    }
    12%, 52%, 60%, 20% {
        transform: translateY(10px)
    }
    16%, 40% {
        transform: translateY(5px)
    }
    28%, 56% {
        transform: translateY(10px)
    }
    48%, 72%, 80%, 96% {
        transform: translateY(30px)
    }
    76%, to {
        transform: translateY(40px)
    }
}

.wipe {
    width: 473px;
    overflow: hidden;
    margin: 0 auto;
    display: inline-flex;
    animation-name: wipe;
}

@keyframes wipe {
    to {
        width: 0
    }
}

.open {
    width: 473px;
    margin: 0 auto;
    overflow: hidden;
    display: inline-flex;
    animation-name: open;
}

@keyframes open {
    from {
        width: 0
    }
}

.leMagnify span {
    animation-name: leMagnify
}

@keyframes leMagnify {
    50% {
        transform: scale(1.8);
        letter-spacing: 26px
    }
}

.leBeat span {
    animation-name: leBeat;
}

@keyframes leBeat {
    14%, 42% {
        transform: scale(1.3)
    }
    28%, 70% {
        transform: scale(1)
    }
}

/*************************************************************
Letter Fade in
**************************************************************/
.leFadeIn span {
    animation-name: leFadeIn
}

@keyframes leFadeIn {
    from {
        opacity: 0
    }
    to {
        opacity: 1
    }
}

.leFadeInLeft span {
    animation-name: leFadeInLeft
}

@keyframes leFadeInLeft {
    from {
        opacity: 0;
        transform: translateX(-60px);
    }
    to {
        opacity: 1
    }
}

.leFadeInRight span {
    animation-name: leFadeInRight
}

@keyframes leFadeInRight {
    from {
        opacity: 0;
        transform: translateX(60px);
    }
    to {
        opacity: 1
    }
}

.leFadeInTop span {
    animation-name: leFadeInTop
}

@keyframes leFadeInTop {
    from {
        opacity: 0;
        transform: translateY(-100%);
    }
    to {
        opacity: 1
    }
}

.leFadeInBottom span {
    animation-name: leFadeInBottom
}

@keyframes leFadeInBottom {
    from {
        opacity: 0;
        transform: translateY(100%);
    }
    to {
        opacity: 1
    }
}

/************************************************************
Letter Fade Out
*************************************************************/
.leFadeOut span {
    animation-name: leFadeOut
}

@keyframes leFadeOut {
    to {
        opacity: 0
    }
}

.leFadeOutLeft span {
    animation-name: leFadeOutLeft
}

@keyframes leFadeOutLeft {
    from {
        opacity: 1
    }
    to {
        opacity: 0;
        transform: translateX(-60px);
    }
}

.leFadeOutRight span {
    animation-name: leFadeOutRight
}

@keyframes leFadeOutRight {
    from {
        opacity: 1
    }
    to {
        opacity: 0;
        transform: translateX(60px);
    }
}

.leFadeOutTop span {
    animation-name: leFadeOutTop
}

@keyframes leFadeOutTop {
    from {
        opacity: 1
    }
    to {
        opacity: 0;
        transform: translateY(-100%);
    }
}

.leFadeOutBottom span {
    animation-name: leFadeOutBottom
}

@keyframes leFadeOutBottom {
    from {
        opacity: 1
    }
    to {
        opacity: 0;
        transform: translateY(100%);
    }
}

/*************************************************************
Moving Back
**************************************************************/
.leMovingBackFromRight span {
    animation-name: leMovingBackFromRight;
    transform-origin: bottom
}

@keyframes leMovingBackFromRight {
    40% {
        transform: rotate(45deg)
    }
    100% {
        transform: rotate(0deg);
        animation-timing-function: cubic-bezier(0, .9, .7, 1.45)
    }
}

.leMovingBackFromLeft span {
    animation-name: leMovingBackFromLeft;
    transform-origin: bottom
}

@keyframes leMovingBackFromLeft {
    40% {
        transform: rotate(-45deg)
    }
    100% {
        transform: rotate(0deg);
        animation-timing-function: cubic-bezier(0, .9, .7, 1.45)
    }
}

/*************************************************************
Kick out
**************************************************************/
.leKickOutBehind span {
    animation-name: leKickOutFront;
    transform-origin: top
}

@keyframes leKickOutFront {
    40% {
        transform: rotate(45deg)
    }
    100% {
        transform: rotate(0deg);
        animation-timing-function: cubic-bezier(0, .9, .7, 1.45)
    }
}

.leKickOutFront span {
    animation-name: leKickOutBehind;
    transform-origin: top
}

@keyframes leKickOutBehind {
    40% {
        transform: rotate(-45deg)
    }
    100% {
        transform: rotate(0deg);
        animation-timing-function: cubic-bezier(0, .9, .7, 1.45)
    }
}

/************************************************************
Letter Skate
*************************************************************/
.leSkateX span {
    animation-name: leScaleX;
    animation-iteration-count: infinite
}

@keyframes leScaleX {
    50% {
        transform: scaleX(0.4)
    }
}

.leSkateY span {
    animation-name: leSkateY;
    animation-iteration-count: infinite
}

@keyframes leSkateY {
    50% {
        transform: scaleY(0.4)
    }
}

.leSkateXY span {
    animation-name: leSkateXY;
    animation-iteration-count: infinite;
    animation-duration: 1.5s;
}

@keyframes leSkateXY {
    25% {
        transform: scale3d(1, 0.4, 0)
    }
    50% {
        transform: scale3d(0.4, 0.4, 1)
    }
    75% {
        transform: scale3d(0.4, 1, 1)
    }
}

/************************************************************
Letter Scale
*************************************************************/
.leScaleXIn span {
    animation-name: leScaleXIn
}

@keyframes leScaleXIn {
    from {
        transform: perspective(400px) rotateX(90deg);
        opacity: 0;
    }
    50% {
        opacity: 1
    }
}

.leScaleXOut span {
    animation-name: leScaleXOut
}

@keyframes leScaleXOut {
    to {
        transform: perspective(400px) rotateX(90deg);
        opacity: 0;
    }
    from {
        opacity: 1
    }
}

.leScaleYIn span {
    animation-name: leScaleYIn
}

@keyframes leScaleYIn {
    from {
        transform: perspective(400px) rotateY(90deg);
        opacity: 0;
    }
    50% {
        opacity: 1
    }
}

.leScaleYOut span {
    animation-name: leScaleYOut
}

@keyframes leScaleYOut {
    to {
        transform: perspective(400px) rotateY(90deg);
        opacity: 0;
    }
    from {
        opacity: 1
    }
}

/*************************************************************
Letter Jump
**************************************************************/
.leJump span {
    animation-name: leJump;
    animation-iteration-count: infinite
}

@keyframes leJump {
    to {
        transform: translateY(-20px)
    }
}

/*************************************************************
Letter Fly
**************************************************************/
.leAboundTop span {
    animation-name: leAboundTop
}

@keyframes leAboundTop {
    50% {
        transform: translateY(-100px);
        animation-timing-function: ease-in;
    }
}

.leAboundBottom span {
    animation-name: leAboundBottom
}

@keyframes leAboundBottom {
    50% {
        transform: translateY(100px);
        animation-timing-function: ease-in;
    }
}

.leAboundLeft span {
    animation-name: leAboundLeft
}

@keyframes leAboundLeft {
    50% {
        transform: translateX(-100px);
        animation-timing-function: ease-in
    }
}

.leAboundRight span {
    animation-name: leAboundRight
}

@keyframes leAboundRight {
    50% {
        transform: translateX(100px);
        animation-timing-function: ease-in
    }
}

/*************************************************************
Letter Fly In
**************************************************************/
.leFlyInTop span {
    animation-name: leFlyInTop
}

@keyframes leFlyInTop {
    0% {
        transform: translate(0px, -80px);
        opacity: 0
    }
    50% {
        transform: translate(10px, 50px);
        animation-timing-function: ease-in-out
    }
}

.leFlyInLeft span {
    animation-name: leFlyInLeft;
    animation-timing-function: ease-in-out
}

@keyframes leFlyInLeft {
    0% {
        transform: translate(-40px, 0px);
        opacity: 0;
    }
    50% {
        transform: translate(40px, 0px)
    }
}

.leFlyInRight span {
    animation-name: leFlyInRight;
    animation-timing-function: ease-in-out
}

@keyframes leFlyInRight {
    0% {
        transform: translate(40px, 0px);
        opacity: 0;
    }
    50% {
        transform: translate(-40px, 0px)
    }
}

.leFlyInBottom span {
    animation-name: leFlyInBottom
}

@keyframes leFlyInBottom {
    0% {
        transform: translate(0px, 80px);
        opacity: 0
    }
    50% {
        transform: translate(10px, -50px);
        animation-timing-function: ease-in-out
    }
}

/*************************************************************
Letter Fly Out
**************************************************************/
.leFlyOutTop span {
    animation-name: leFlyOutTop
}

@keyframes leFlyOutTop {
    50% {
        transform: translate(0px, 50px)
    }
    to {
        transform: translate(0px, -100px);
        opacity: 0;
    }
}

.leFlyOutLeft span {
    animation-name: leFlyOutLeft;
    animation-timing-function: ease-in-out
}

@keyframes leFlyOutLeft {
    50% {
        transform: translate(40px, 0px)
    }
    to {
        transform: translate(-100px, 0px);
        opacity: 0;
    }
}

.leFlyOutRight span {
    animation-name: leFlyOutRight;
    animation-timing-function: ease-in-out
}

@keyframes leFlyOutRight {
    50% {
        transform: translate(-40px, 0px)
    }
    to {
        transform: translate(100px, 0px);
        opacity: 0;
    }
}

.leFlyOutBottom span {
    animation-name: leFlyOutBottom
}

@keyframes leFlyOutBottom {
    50% {
        transform: translate(0px, -40px)
    }
    to {
        transform: translate(0px, 100px);
        opacity: 0;
    }
}

/*************************************************************
Letter Door Open & Close
**************************************************************/
.leDoorCloseLeft span {
    animation-name: leDoorCloseLeft
}

@keyframes leDoorCloseLeft {
    from, to {
        transform: perspective(400px);
        transform-origin: left
    }
    from {
        transform: rotateY(90deg);
        opacity: 0;
    }
    to {
        opacity: 1
    }
}

.leDoorOpenRight span {
    animation-name: leDoorOpenRight
}

@keyframes leDoorOpenRight {
    from, to {
        transform: perspective(400px);
        transform-origin: left
    }
    to {
        transform: rotateY(90deg);
        opacity: 0
    }
}

.leDoorCloseRight span {
    animation-name: leDoorCloseRight
}

@keyframes leDoorCloseRight {
    from, to {
        transform: perspective(400px);
        transform-origin: right
    }
    from {
        transform: rotateY(-90deg);
        opacity: 0
    }
    to {
        opacity: 1
    }
}

.leDoorOpenLeft span {
    animation-name: leDoorOpenLeft
}

@keyframes leDoorOpenLeft {
    from, to {
        transform: perspective(400px);
        transform-origin: right
    }
    to {
        transform: rotateY(-90deg);
        opacity: 0
    }
}

/*************************************************************
Letter Hang And Drop
**************************************************************/
.leHangAndDropLeft span {
    animation-name: leHangAndDropLeft
}

@keyframes leHangAndDropLeft {
    from {
        transform-origin: left
    }
    50% {
        transform: rotate(100deg);
        transform-origin: left
    }
    60% {
        transform: rotate(90deg);
        transform-origin: left
    }
    to {
        transform: translateY(800px) rotate(70deg);
        transform-origin: left
    }
}

.leHangAndDropRight span {
    animation-name: leHangAndDropRight
}

@keyframes leHangAndDropRight {
    from {
        transform-origin: right
    }
    50% {
        transform: rotate(-100deg);
        transform-origin: right;
    }
    60% {
        transform: rotate(-90deg);
        transform-origin: right;
    }
    to {
        transform: translateY(800px) rotate(-70deg);
        transform-origin: right;
    }
}

/*************************************************************
Letter Shake
**************************************************************/
.leRencontre span {
    animation: leRencontre .4s;
    animation-iteration-count: infinite
}

@keyframes leRencontre {
    0%, 33%, 100% {
        transform-origin: bottom;
        animation-timing-function: cubic-bezier(.17, .67, .79, 1.83)
    }
    33% {
        transform: translateY(-2px) rotate(-3deg)
    }
    66% {
        transform: translateY(2px) rotate(3deg)
    }
}

.lePulseShake span {
    animation-name: lePulseShake;
    animation-iteration-count: infinite
}

@keyframes lePulseShake {
    90% {
        transform: scale(1)
    }
    92% {
        transform: scale(1.2)
    }
    96% {
        transform: scale(1, 1)
    }
    98% {
        transform: scale(1.1)
    }
}

.leHorizontalShake span {
    animation-name: leHorizontalShake;
    animation-iteration-count: infinite
}

@keyframes leHorizontalShake {
    3%, 12%, 21%, 30%, 39%, 48%, 57%, 65%, 74%, 3%, 92% {
        transform: translateX(5px)
    }
    6%, 15%, 24%, 33%, 42%, 51%, 60%, 68%, 77%, 86%, 95% {
        transform: translateX(3px)
    }
    9%, 18%, 27%, 36%, 45%, 54%, 63%, 71%, 80%, 89%, 98% {
        transform: translateX(-5px)
    }
}

.leVerticalShake span {
    animation-name: leVerticalShake;
    animation-iteration-count: infinite
}

@keyframes leVerticalShake {
    3%, 12%, 21%, 30%, 39%, 48%, 57%, 65%, 74%, 83%, 92% {
        transform: translateY(5px)
    }
    6%, 15%, 24%, 33%, 42%, 51%, 60%, 68%, 77%, 86%, 95% {
        transform: translateY(3px)
    }
    9%, 18%, 27%, 36%, 45%, 54%, 63%, 71%, 80%, 89%, 98% {
        transform: translateY(-5px)
    }
}

.leMadMax span {
    animation-name: leMadMax;
    animation-iteration-count: infinite
}

@keyframes leMadMax {
    3%, 12%, 21%, 30%, 39%, 48%, 57%, 65%, 74%, 83%, 92% {
        transform: translateY(5px) scale(1.1)
    }
    6%, 15%, 24%, 33%, 42%, 51%, 60%, 68%, 77%, 86%, 95% {
        transform: translateY(3px) scale(.8)
    }
    9%, 18%, 27%, 36%, 45%, 54%, 63%, 71%, 80%, 89%, 98% {
        transform: translateY(-5px) scale(1.1)
    }
}

.leHorizontalTremble span {
    animation-name: leHorizontalTremble;
    animation-iteration-count: infinite
}

@keyframes leHorizontalTremble {
    3%, 21%, 39%, 57%, 74%, 92% {
        transform: translateX(5px)
    }
    6%, 24%, 42%, 60%, 77%, 95% {
        transform: translateX(3px)
    }
    9%, 27%, 45%, 63%, 80%, 98% {
        transform: translateX(-5px)
    }
}

.leVerticalTremble span {
    animation-name: leVerticalTremble;
    animation-iteration-count: infinite
}

@keyframes leVerticalTremble {
    3%, 21%, 39%, 57%, 74%, 92% {
        transform: translateY(5px)
    }
    6%, 24%, 42%, 60%, 77%, 95% {
        transform: translateY(3px)
    }
    9%, 27%, 45%, 63%, 80%, 98% {
        transform: translateY(-5px)
    }
}

.leCrazyCool span {
    animation-name: leCrazyCool;
    animation-iteration-count: infinite
}

@keyframes leCrazyCool {
    3%, 21%, 39%, 57%, 74%, 92% {
        transform: translateY(5px) scale(1.1)
    }
    6%, 24%, 42%, 60%, 77%, 95% {
        transform: translateY(3px) scale(.8)
    }
    9%, 27%, 45%, 63%, 80%, 98% {
        transform: translateY(-5px) scale(1.1)
    }
}

.leVibration span {
    animation: leVibration .1s linear infinite
}

@keyframes leVibration {
    50% {
        transform: skewY(1deg) skewX(-1deg) scale(1.06)
    }
}

/*************************************************************
Letter Push Release
**************************************************************/
.lePushReleaseFrom span {
    animation-name: lePushReleaseFrom
}

@keyframes lePushReleaseFrom {
    from {
        transform: scale(3, 3);
        opacity: 0;
    }
    50% {
        transform: scale(.5, .5)
    }
}

.lePushReleaseFromLeft span {
    animation-name: lePushReleaseFromLeft
}

@keyframes lePushReleaseFromLeft {
    from {
        transform: translateX(-100%);
        opacity: 0
    }
    30% {
        transform: translateX(100px)
    }
}

.lePushReleaseFromTop span {
    animation-name: lePushReleaseFromTop
}

@keyframes lePushReleaseFromTop {
    from {
        transform: translateY(-100%);
        opacity: 0;
    }
    30% {
        transform: translateY(100px)
    }
}

.lePushReleaseFromBottom span {
    animation-name: lePushReleaseFromBottom
}

@keyframes lePushReleaseFromBottom {
    from {
        transform: translateY(100%);
        opacity: 0;
    }
    30% {
        transform: translateY(-100px)
    }
}

.lePushReleaseTo span {
    animation-name: lePushReleaseTo
}

@keyframes lePushReleaseTo {
    30% {
        transform: scale(.5, .5)
    }
    to {
        transform: scale(5, 5);
        opacity: 0;
    }
}

.lePushReleaseToTop span {
    animation-name: lePushReleaseToTop
}

@keyframes lePushReleaseToTop {
    30% {
        transform: translateY(100px)
    }
    to {
        transform: translateY(-100%);
        opacity: 0
    }
}

.lePushReleaseToBottom span {
    animation-name: lePushReleaseToBottom
}

@keyframes lePushReleaseToBottom {
    30% {
        transform: translateY(-100px)
    }
    to {
        transform: translateY(100%);
        opacity: 0
    }
}

/*************************************************************
Letter Flip
**************************************************************/
.leFlipInTop span {
    animation-name: leFlipInTop
}

@keyframes leFlipInTop {
    from {
        transform: perspective(600px);
        opacity: 0
    }
    30% {
        transform: perspective(600px) rotateX(180deg);
        transform-origin: 0 0;
        animation-timing-function: ease-out;
    }
    to {
        transform: perspective(600px)
    }
}

.leFlipOutTop span {
    animation-name: leFlipOutTop
}

@keyframes leFlipOutTop {
    to {
        transform: perspective(600px);
        opacity: 0
    }
    70% {
        transform: perspective(600px) rotateX(180deg);
        transform-origin: 0 0;
        animation-timing-function: ease-out;
    }
    to {
        transform: perspective(600px)
    }
}

.leFlipInBottom span {
    animation-name: leFlipInBottom
}

@keyframes leFlipInBottom {
    from {
        transform: perspective(600px);
        opacity: 0
    }
    30% {
        transform: perspective(600px) rotateX(180deg);
        transform-origin: bottom;
        animation-timing-function: ease-out;
    }
    to {
        transform: perspective(600px)
    }
}

.leFlipOutBottom span {
    animation-name: leFlipOutBottom
}

@keyframes leFlipOutBottom {
    to {
        transform: perspective(600px);
        opacity: 0
    }
    70% {
        transform: perspective(600px) rotateX(180deg);
        transform-origin: bottom;
        animation-timing-function: ease-out;
    }
    to {
        transform: perspective(600px)
    }
}

/*************************************************************
Letter Elevate
**************************************************************/
.leElevateLeft span {
    animation-name: leElevateLeft
}

@keyframes leElevateLeft {
    from {
        transform: translateY(100%) rotate(-20deg);
        transform-origin: right;
        opacity: 0;
    }
    40% {
        transform: rotate(20deg);
        transform-origin: right;
    }
    65% {
        transform: rotate(0deg);
        transform-origin: right;
    }
}

.leElevateRight span {
    animation-name: leElevateRight
}

@keyframes leElevateRight {
    from {
        transform: translateY(100%) rotate(20deg);
        transform-origin: left;
        opacity: 0;
    }
    40% {
        transform: rotate(-20deg);
        transform-origin: left;
    }
    65% {
        transform: rotate(0deg);
        transform-origin: left;
    }
}

/*************************************************************
Letter Roll From
**************************************************************/
.leRollFromLeft span {
    animation-name: leRollFromLeft
}

@keyframes leRollFromLeft {
    from {
        transform: translateX(-60px) perspective(600px) rotateY(180deg);
        opacity: 0
    }
}

.leRollFromRight span {
    animation-name: leRollFromRight
}

@keyframes leRollFromRight {
    from {
        transform: translateX(60px) perspective(600px) rotateY(-180deg);
        opacity: 0
    }
}

.leRollFromTop span {
    animation-name: leRollFromTop
}

@keyframes leRollFromTop {
    from {
        transform: translateY(-60px) perspective(600px) rotateX(180deg);
        opacity: 0
    }
}

.leRollFromBottom span {
    animation-name: leRollFromBottom
}

@keyframes leRollFromBottom {
    from {
        transform: translateY(60px) perspective(600px) rotateX(-180deg);
        opacity: 0
    }
}

/*************************************************************
Letter Roll To
**************************************************************/
.leRollToLeft span {
    animation-name: leRollToLeft
}

@keyframes leRollToLeft {
    to {
        transform: translateX(-60px) perspective(600px) rotateY(180deg);
        opacity: 0
    }
}

.leRollToRight span {
    animation-name: leRollToRight
}

@keyframes leRollToRight {
    to {
        transform: translateX(60px) perspective(600px) rotateY(-180deg);
        opacity: 0
    }
}

.leRollToTop span {
    animation-name: leRollToTop
}

@keyframes leRollToTop {
    to {
        transform: translateY(-60px) perspective(600px) rotateX(180deg);
        opacity: 0
    }
}

.leRollToBottom span {
    animation-name: leRollToBottom
}

@keyframes leRollToBottom {
    to {
        transform: translateY(60px) perspective(600px) rotateX(-180deg);
        opacity: 0
    }
}

/*************************************************************
Letter Rotate In skate
**************************************************************/
.leRotateSkateInRight span {
    animation-name: leRotateSkateInRight
}

@keyframes leRotateSkateInRight {
    from {
        transform: scaleX(0.2) translateX(100px);
        opacity: 0;
    }
}

.leRotateSkateInLeft span {
    animation-name: leRotateSkateInLeft
}

@keyframes leRotateSkateInLeft {
    from {
        transform: scaleX(0.2) translateX(-100px);
        opacity: 0;
    }
}

.leRotateSkateInTop span {
    animation-name: leRotateSkateInTop
}

@keyframes leRotateSkateInTop {
    from {
        transform: scaleY(0.2) translateY(-100px);
        opacity: 0;
    }
}

.leRotateSkateInBottom span {
    animation-name: leRotateSkateInBottom
}

@keyframes leRotateSkateInBottom {
    from {
        transform: scaleY(0.2) translateY(100px);
        opacity: 0;
    }
}

/*************************************************************
Letter Rotate Out skate
**************************************************************/
.leRotateSkateOutRight span {
    animation-name: leRotateSkateOutRight
}

@keyframes leRotateSkateOutRight {
    to {
        transform: scaleX(0.2) translateX(100px);
        opacity: 0;
    }
}

.leRotateSkateOutLeft span {
    animation-name: leRotateSkateOutLeft
}

@keyframes leRotateSkateOutLeft {
    to {
        transform: scaleX(0.2) translateX(-100px);
        opacity: 0;
    }
}

.leRotateSkateOutTop span {
    animation-name: leRotateSkateOutTop
}

@keyframes leRotateSkateOutTop {
    to {
        transform: scaleY(0.2) translateY(-100px);
        opacity: 0;
    }
}

.leRotateSkateOutBottom span {
    animation-name: leRotateSkateOutBottom
}

@keyframes leRotateSkateOutBottom {
    to {
        transform: scaleY(0.2) translateY(100px);
        opacity: 0;
    }
}

/*************************************************************
Letter Rotation
**************************************************************/
.leRotateXZoomIn span {
    animation-name: leRotateXZoomIn
}

@keyframes leRotateXZoomIn {
    from {
        transform: perspective(600px) translate3d(0, -60px, -2000px) rotateX(75deg);
        opacity: 0
    }
    5% {
        transform: perspective(600px) translate3d(0, -60px, -1500px) rotateX(75deg)
    }
}

.leRotateXZoomOut span {
    animation-name: leRotateXZoomOut
}

@keyframes leRotateXZoomOut {
    95% {
        transform: perspective(600px) translate3d(0, -60px, -1500px) rotateX(75deg)
    }
    to {
        transform: perspective(600px) translate3d(0, -60px, -2000px) rotateX(75deg);
        opacity: 0
    }
}

.leRotateYZoomIn span {
    animation-name: leRotateYZoomIn
}

@keyframes leRotateYZoomIn {
    from {
        transform: perspective(600px) translate3d(0, -60px, -2000px) rotateY(75deg);
        opacity: 0
    }
    5% {
        transform: perspective(600px) translate3d(0, -60px, -1500px) rotateY(75deg)
    }
}

.leRotateYZoomOut span {
    animation-name: leRotateYZoomOut
}

@keyframes leRotateYZoomOut {
    95% {
        transform: perspective(600px) translate3d(0, -60px, -1500px) rotateY(75deg)
    }
    to {
        transform: perspective(600px) translate3d(0, -60px, -2000px) rotateY(75deg);
        opacity: 0;
    }
}

/*************************************************************
Letter Rotate
**************************************************************/

.leRotateIn span {
    animation-name: leRotateIn
}

@keyframes leRotateIn {
    from {
        transform: rotate(-180deg);
        opacity: 0;
    }
    to {
        opacity: 1
    }
}

.leRotateOut span {
    animation-name: leRotateOut
}

@keyframes leRotateOut {
    from {
        opacity: 1
    }
    to {
        transform: rotate(180deg);
        opacity: 0;
    }
}

.leRotateInLeft span {
    animation-name: leRotateInLeft
}

@keyframes leRotateInLeft {
    from {
        transform: rotate(-180deg) translateX(150px);
        opacity: 0;
    }
    to {
        opacity: 1
    }
}

.leRotateOutLeft span {
    animation-name: leRotateOutLeft
}

@keyframes leRotateOutLeft {
    from {
        opacity: 1
    }
    to {
        transform: rotate(180deg) translateX(150px);
        opacity: 0;
    }
}

.leRotateInRight span {
    animation-name: leRotateInRight
}

@keyframes leRotateInRight {
    from {
        transform: rotate(-180deg) translateX(-150px);
        opacity: 0;
    }
    to {
        opacity: 1
    }
}

.leRotateOutRight span {
    animation-name: leRotateOutRight
}

@keyframes leRotateOutRight {
    from {
        opacity: 1
    }
    to {
        transform: rotate(180deg) translateX(-150px);
        opacity: 0;
    }
}

/*************************************************************
Letter Spin
**************************************************************/
.leSpinInLeft span {
    animation-name: leSpinInLeft
}

@keyframes leSpinInLeft {
    from, to {
        transform-origin: left bottom
    }
    from {
        transform: rotate(90deg);
        opacity: 0;
    }
}

.leSpinInRight span {
    animation-name: leSpinInRight
}

@keyframes leSpinInRight {
    from, to {
        transform-origin: right bottom
    }
    from {
        transform: rotate(-90deg);
        opacity: 0;
    }
}

.leSpinOutLeft span {
    animation-name: leSpinOutLeft
}

@keyframes leSpinOutLeft {
    from, to {
        transform-origin: left bottom
    }
    to {
        transform: rotate(90deg);
        opacity: 0;
    }
}

.leSpinOutRight span {
    animation-name: leSpinOutRight
}

@keyframes leSpinOutRight {
    from, to {
        transform-origin: right bottom
    }
    to {
        transform: rotate(-90deg);
        opacity: 0;
    }
}

/*************************************************************
Letter Blur In
**************************************************************/
.leBlurIn span {
    animation-name: leBlurIn
}

@keyframes leBlurIn {
    from {
        transform: scaleX(0.2);
        filter: blur(20px);
        opacity: 0;
    }
}

.leBlurInRight span {
    animation-name: leBlurInRight
}

@keyframes leBlurInRight {
    from {
        transform: scaleX(0.2) translateX(100px);
        filter: blur(20px);
        opacity: 0;
    }
}

.leBlurInLeft span {
    animation-name: leBlurInLeft
}

@keyframes leBlurInLeft {
    from {
        transform: scaleX(0.2) translateX(-100px);
        filter: blur(20px);
        opacity: 0;
    }
}

.leBlurInTop span {
    animation-name: leBlurInTop
}

@keyframes leBlurInTop {
    from {
        transform: scaleY(0.2) translateY(-100px);
        filter: blur(20px);
        opacity: 0;
    }
}

.leBlurInBottom span {
    animation-name: leBlurInBottom
}

@keyframes leBlurInBottom {
    from {
        transform: scaleY(0.2) translateY(100px);
        filter: blur(20px);
        opacity: 0;
    }
}

/*************************************************************
Letter Blur Out
**************************************************************/
.leBlurOut span {
    animation-name: leBlurOut
}

@keyframes leBlurOut {
    to {
        transform: scaleX(0.2);
        filter: blur(20px);
        opacity: 0;
    }
}

.leBlurOutRight span {
    animation-name: leBlurOutRight
}

@keyframes leBlurOutRight {
    to {
        transform: scaleX(0.2) translateX(100px);
        filter: blur(20px);
        opacity: 0;
    }
}

.leBlurOutLeft span {
    animation-name: leBlurOutLeft
}

@keyframes leBlurOutLeft {
    to {
        transform: scaleX(0.2) translateX(-100px);
        filter: blur(20px);
        opacity: 0;
    }
}

.leBlurOutTop span {
    animation-name: leBlurOutTop
}

@keyframes leBlurOutTop {
    to {
        transform: scaleY(0.2) translateY(-100px);
        filter: blur(20px);
        opacity: 0;
    }
}

.leBlurOutBottom span {
    animation-name: leBlurOutBottom
}

@keyframes leBlurOutBottom {
    to {
        transform: scaleY(0.2) translateY(100px);
        filter: blur(20px);
        opacity: 0;
    }
}

/*************************************************************
Letter Pop Up
**************************************************************/
.lePopUp span {
    animation-name: lePopUp
}

@keyframes lePopUp {
    50% {
        transform: scale(1.5)
    }
}

.lePopUpLeft span {
    animation-name: lePopUpLeft
}

@keyframes lePopUpLeft {
    50% {
        transform: translateX(-50px) scale(1.5);
        animation-timing-function: ease-in;
    }
}

.lePopUpRight span {
    animation-name: lePopUpRight
}

@keyframes lePopUpRight {
    50% {
        transform: translateX(50px) scale(1.5);
        animation-timing-function: ease-in;
    }
}

/*************************************************************
Letter Pop Out
**************************************************************/

.lePopOut span {
    animation-name: lePopOut
}

@keyframes lePopOut {
    50% {
        transform: scale(.5)
    }
}

.lePopOutLeft span {
    animation-name: lePopOutLeft
}

@keyframes lePopOutLeft {
    50% {
        transform: translateX(-50px) scale(.5);
        animation-timing-function: ease-in;
    }
}

.lePopOutRight span {
    animation-name: lePopOutRight
}

@keyframes lePopOutRight {
    50% {
        transform: translateX(50px) scale(.5);
        animation-timing-function: ease-in;
    }
}

/*************************************************************
Letter Bouncing
**************************************************************/
.leBounceFromTop span {
    animation-name: leBounceFromTop
}

@keyframes leBounceFromTop {
    0%, 25%, 55%, 85%, 100% {
        animation-timing-function: ease-out;
        transform: translate3d(0, 0, 0);
    }
    41%, 44% {
        animation-timing-function: ease-in;
        transform: translate3d(0, -80px, 0) scale3d(1, 1.2, 1);
    }
    70% {
        animation-timing-function: ease-in;
        transform: translate3d(0, -20px, 0);
    }
    90% {
        transform: translate3d(0, -4px, 0)
    }
}

.leBounceFromDown span {
    animation-name: leBounceFromDown
}

@keyframes leBounceFromDown {
    0%, 25%, 55%, 85%, 100% {
        animation-timing-function: ease-out;
        transform: translate3d(0, 0, 0);
    }
    41%, 44% {
        animation-timing-function: ease-in;
        transform: translate3d(0, 80px, 0) scale3d(1, 1.2, 1);
    }
    70% {
        animation-timing-function: ease-in;
        transform: translate3d(0, 20px, 0);
    }
    90% {
        transform: translate3d(0, 4px, 0)
    }
}

.leBounceY span {
    animation-name: leBounceY
}

@keyframes leBounceY {
    0%, 25%, 55%, 85%, 100% {
        animation-timing-function: ease-out;
        transform: scale3d(1, 1, 1);
    }
    41%, 44% {
        animation-timing-function: ease-in;
        transform: scale3d(1, 2, 1);
    }
    70% {
        animation-timing-function: ease-in;
        transform: scale3d(1, 1.5, 1);
    }
    90% {
        transform: scale3d(1, 1.1, 1)
    }
}

.leBounceZoomIn span {
    animation-name: leBounceZoomIn
}

@keyframes leBounceZoomIn {
    0%, 25%, 55%, 85%, 100% {
        animation-timing-function: ease-out;
        transform: scale(1);
    }
    41%, 44% {
        animation-timing-function: ease-in;
        transform: scale(1.7);
    }
    70% {
        animation-timing-function: ease-in;
        transform: scale(1.9);
    }
    90% {
        transform: scale(1.1)
    }
}

.leBounceZoomOut span {
    animation-name: leBounceZoomOut
}

@keyframes leBounceZoomOut {
    0%, 25%, 55%, 85%, 100% {
        animation-timing-function: ease-out;
        transform: scale(1);
    }
    41%, 44% {
        animation-timing-function: ease-in;
        transform: scale(.5);
    }
    70% {
        animation-timing-function: ease-in;
        transform: scale(.7);
    }
    90% {
        transform: scale(.9)
    }
}

/*************************************************************
Letter Perspective
**************************************************************/
.lePerspectiveOutTop span {
    animation-name: lePerspectiveOutTop;
    transform: perspective(500px);
    transform-style: preserve-3d
}

@keyframes lePerspectiveOutTop {
    50% {
        opacity: 1
    }
    to {
        transform: perspective(500px) rotateX(90deg) translateY(-50px) translateZ(50px);
        opacity: 0;
    }
}

.lePerspectiveOutBottom span {
    animation-name: lePerspectiveOutBottom;
    transform: perspective(500px);
    transform-style: preserve-3d
}

@keyframes lePerspectiveOutBottom {
    50% {
        opacity: 1
    }
    to {
        transform: perspective(500px) rotateX(90deg) translateY(50px) translateZ(-50px);
        opacity: 0;
    }
}

/*************************************************************
Letter Zoom In
**************************************************************/

.leZoomIn span {
    animation-name: leZoomIn
}

@keyframes leZoomIn {
    from {
        transform: scale(10);
        opacity: 0;
    }
}

.leZoomInLeft span {
    animation-name: leZoomInLeft
}

@keyframes leZoomInLeft {
    from {
        transform: scale(10) translateX(-150%);
        opacity: 0;
    }
}

.leZoomInRight span {
    animation-name: leZoomInRight
}

@keyframes leZoomInRight {
    from {
        transform: scale(10) translateX(150%);
        opacity: 0;
    }
}

.leZoomInTop span {
    animation-name: LetterZoomInTop
}

@keyframes LetterZoomInTop {
    from {
        transform: scale(10) translateY(-50%);
        opacity: 0;
    }
}

.leZoomInBottom span {
    animation-name: leZoomInBottom
}

@keyframes leZoomInBottom {
    from {
        transform: scale(10) translateY(50%);
        opacity: 0;
    }
}

/*************************************************************
Letter Zoom Out
**************************************************************/
.leZoomOut span {
    animation-name: leZoomOut
}

@keyframes leZoomOut {
    to {
        transform: scale(10);
        opacity: 0;
    }
}

.leZoomOutLeft span {
    animation-name: leZoomOutLeft
}

@keyframes leZoomOutLeft {
    to {
        transform: scale(10) translateX(-150%);
        opacity: 0;
    }
}

.leZoomOutRight span {
    animation-name: leZoomOutRight
}

@keyframes leZoomOutRight {
    to {
        transform: scale(10) translateX(150%);
        opacity: 0;
    }
}

.leZoomOutTop span {
    animation-name: leZoomOutTop
}

@keyframes leZoomOutTop {
    to {
        transform: scale(10) translateY(-50%);
        opacity: 0;
    }
}

.leZoomOutBottom span {
    animation-name: leZoomOutBottom
}

@keyframes leZoomOutBottom {
    to {
        transform: scale(10) translateY(50%);
        opacity: 0;
    }
}

/*************************************************************
Letter Dance In
**************************************************************/
.leDanceInTop span {
    animation-name: leDanceInTop;
    transform-origin: top
}

@keyframes leDanceInTop {
    from {
        opacity: 0
    }
    16% {
        transform: skew(-14deg)
    }
    33% {
        transform: skew(12deg)
    }
    49% {
        transform: skew(-8deg)
    }
    66% {
        transform: skew(6deg)
    }
    83% {
        transform: skew(-4deg)
    }
}

.leDanceInMiddle span {
    animation-name: leDanceInMiddle
}

@keyframes leDanceInMiddle {
    from {
        opacity: 0
    }
    16% {
        transform: skew(-14deg)
    }
    33% {
        transform: skew(12deg)
    }
    49% {
        transform: skew(-8deg)
    }
    66% {
        transform: skew(6deg)
    }
    83% {
        transform: skew(-4deg)
    }
}

.leDanceInBottom span {
    animation-name: leDanceInBottom;
    transform-origin: bottom
}

@keyframes leDanceInBottom {
    from {
        opacity: 0
    }
    16% {
        transform: skew(-14deg)
    }
    33% {
        transform: skew(12deg)
    }
    49% {
        transform: skew(-8deg)
    }
    66% {
        transform: skew(6deg)
    }
    83% {
        transform: skew(-4deg)
    }
}

/*************************************************************
Letter Dance Out
**************************************************************/
.leDanceOutTop span {
    animation-name: leDanceOutTop;
    transform-origin: top
}

@keyframes leDanceOutTop {
    16% {
        transform: skew(-14deg)
    }
    33% {
        transform: skew(12deg)
    }
    49% {
        transform: skew(-8deg)
    }
    66% {
        transform: skew(6deg)
    }
    83% {
        transform: skew(-4deg)
    }
    to {
        opacity: 0
    }
}

.leDanceOutMiddle span {
    animation-name: leDanceOutMiddle
}

@keyframes leDanceOutMiddle {
    16% {
        transform: skew(-14deg)
    }
    33% {
        transform: skew(12deg)
    }
    49% {
        transform: skew(-8deg)
    }
    66% {
        transform: skew(6deg)
    }
    83% {
        transform: skew(-4deg)
    }
    to {
        opacity: 0
    }
}

.leDanceOutBottom span {
    animation-name: leDanceOutBottom;
    transform-origin: bottom
}

@keyframes leDanceOutBottom {
    16% {
        transform: skew(-14deg)
    }
    33% {
        transform: skew(12deg)
    }
    49% {
        transform: skew(-8deg)
    }
    66% {
        transform: skew(6deg)
    }
    83% {
        transform: skew(-4deg)
    }
    to {
        opacity: 0
    }
}

/*************************************************************
One After One Fade in
**************************************************************/
.oaoFadeIn span:nth-child(even) {
    animation-name: leoaoFadeInTop;
    animation-duration: .7s;
    animation-timing-function: ease-out;
}

@keyframes leoaoFadeInTop {
    from {
        transform: translateY(-100px);
        opacity: 0;
    }
}

.oaoFadeIn span:nth-child(odd) {
    animation-name: leoaoFadeInBottom;
    animation-duration: .7s;
    animation-timing-function: ease-out;
}

@keyframes leoaoFadeInBottom {
    from {
        transform: translateY(100px);
        opacity: 0;
    }
}

.oaoFadeOut span:nth-child(even) {
    animation-name: leoaoFadeOutop;
    animation-duration: .7s;
    animation-timing-function: ease-in;
}

@keyframes leoaoFadeOutop {
    to {
        transform: translateY(-100px);
        opacity: 0;
    }
}

.oaoFadeOut span:nth-child(odd) {
    animation-name: leoaoFadeOutBottom;
    animation-duration: .7s;
    animation-timing-function: ease-in;
}

@keyframes leoaoFadeOutBottom {
    to {
        transform: translateY(100%);
        opacity: 0;
    }
}

.oaoFlyIn span:nth-child(even) {
    animation-name: leoaoFlyInTop
}

@keyframes leoaoFlyInTop {
    0% {
        transform: translateY(80px);
        opacity: 0
    }
    50% {
        transform: translateY(-50px);
        animation-timing-function: ease-out
    }
}

.oaoFlyIn span:nth-child(odd) {
    animation-name: leoaoFlyInBottom
}

@keyframes leoaoFlyInBottom {
    0% {
        transform: translateY(-80px);
        opacity: 0
    }
    50% {
        transform: translateY(50px);
        animation-timing-function: ease-out
    }
}


.oaoFlyOut span:nth-child(even) {
    animation-name: leoaoFlyOutTop
}

@keyframes leoaoFlyOutTop {
    30% {
        transform: translateY(80px);
        animation-timing-function: ease-out
    }
    80% {
        transform: translateY(-50px);
        animation-timing-function: ease-out
    }
    to {
        opacity: 0
    }
}

.oaoFlyOut span:nth-child(odd) {
    animation-name: leoaoFlyOutBottom
}

@keyframes leoaoFlyOutBottom {
    30% {
        transform: translateY(-80px);
        animation-timing-function: ease-out
    }
    80% {
        transform: translateY(50px);
        animation-timing-function: ease-out
    }
    to {
        opacity: 0
    }
}

.oaoRotateIn span:nth-child(even) {
    animation-name: oaoRotateInTop
}

@keyframes oaoRotateInTop {
    from {
        transform: translateY(-100px) rotate(360deg);
        opacity: 0;
    }
}

.oaoRotateIn span:nth-child(odd) {
    animation-name: oaoRotateInBottom
}

@keyframes oaoRotateInBottom {
    from {
        transform: translateY(100px) rotate(360deg);
        opacity: 0;
    }
}

.oaoRotateOut span:nth-child(even) {
    animation-name: oaoRotateOutTop
}

@keyframes oaoRotateOutTop {
    to {
        transform: translateY(-100px) rotate(360deg);
        opacity: 0;
    }
}

.oaoRotateOut span:nth-child(odd) {
    animation-name: oaoRotateOutBottom
}

@keyframes oaoRotateOutBottom {
    to {
        transform: translateY(100px) rotate(360deg);
        opacity: 0;
    }
}

.oaoRotateXIn span:nth-child(even) {
    animation-name: oaoRotateXInTop
}

@keyframes oaoRotateXInTop {
    from {
        transform: translateY(-100px) rotateX(360deg);
        opacity: 0;
    }
}

.oaoRotateXIn span:nth-child(odd) {
    animation-name: oaoRotateXInBottom
}

@keyframes oaoRotateXInBottom {
    from {
        transform: translateY(100px) rotateX(360deg);
        opacity: 0;
    }
}

.oaoRotateXOut span:nth-child(even) {
    animation-name: oaoRotateXOutTop
}

@keyframes oaoRotateXOutTop {
    to {
        transform: translateY(-100px) rotateX(360deg);
        opacity: 0;
    }
}

.oaoRotateXOut span:nth-child(odd) {
    animation-name: oaoRotateXOutBottom
}

@keyframes oaoRotateXOutBottom {
    to {
        transform: translateY(100px) rotateX(360deg);
        opacity: 0;
    }
}

.oaoRotateYIn span:nth-child(even) {
    animation-name: oaoRotateYInTop
}

@keyframes oaoRotateYInTop {
    from {
        transform: translateY(-100px) rotateY(360deg);
        opacity: 0;
    }
}

.oaoRotateYIn span:nth-child(odd) {
    animation-name: oaoRotateYInBottom
}

@keyframes oaoRotateYInBottom {
    from {
        transform: translateY(100px) rotateY(360deg);
        opacity: 0;
    }
}

.oaoRotateYOut span:nth-child(even) {
    animation-name: oaoRotateYOutTop
}

@keyframes oaoRotateYOutTop {
    to {
        transform: translateY(-100px) rotateY(360deg);
        opacity: 0;
    }
}

.oaoRotateYOut span:nth-child(odd) {
    animation-name: oaoRotateYOutBottom
}

@keyframes oaoRotateYOutBottom {
    to {
        transform: translateY(100px) rotateY(360deg);
        opacity: 0;
    }
}

/*************************************************************
Fade in
**************************************************************/
.fadeIn {
    animation-name: fadeIn
}

@keyframes fadeIn {
    from {
        opacity: 0
    }
    to {
        opacity: 1
    }
}

.fadeInLeft {
    animation-name: fadeInLeft
}

@keyframes fadeInLeft {
    from {
        opacity: 0;
        transform: translateX(-100%);
    }
    to {
        opacity: 1
    }
}

.fadeInRight {
    animation-name: fadeInRight
}

@keyframes fadeInRight {
    from {
        opacity: 0;
        transform: translateX(100%);
    }
    to {
        opacity: 1
    }
}

.fadeInTop {
    animation-name: fadeInTop
}

@keyframes fadeInTop {
    from {
        opacity: 0;
        transform: translateY(-100%);
    }
    to {
        opacity: 1
    }
}

.fadeInBottom {
    animation-name: fadeInBottom
}

@keyframes fadeInBottom {
    from {
        opacity: 0;
        transform: translateY(100%);
    }
    to {
        opacity: 1
    }
}

/**************************************************************
Fade Out
**************************************************************/
.fadeOut {
    animation-name: fadeOut
}

@keyframes fadeOut {
    to {
        opacity: 0
    }
}

.fadeOutLeft {
    animation-name: fadeOutLeft
}

@keyframes fadeOutLeft {
    from {
        opacity: 1
    }
    to {
        opacity: 0;
        transform: translateX(-100%);
    }
}

.fadeOutRight {
    animation-name: fadeOutRight
}

@keyframes fadeOutRight {
    from {
        opacity: 1
    }
    to {
        opacity: 0;
        transform: translateX(100%);
    }
}

.fadeOutTop {
    animation-name: fadeOutTop
}

@keyframes fadeOutTop {
    from {
        opacity: 1
    }
    to {
        opacity: 0;
        transform: translateY(-100%);
    }
}

.fadeOutBottom {
    animation-name: fadeOutBottom
}

@keyframes fadeOutBottom {
    from {
        opacity: 1
    }
    to {
        opacity: 0;
        transform: translateY(100%);
    }
}

/*************************************************************
Move From
**************************************************************/
.moveFromLeft {
    animation-name: moveFromLeft
}

@keyframes moveFromLeft {
    from {
        transform: translateX(-800px)
    }
}

.moveFromRight {
    animation-name: moveFromRight
}

@keyframes moveFromRight {
    from {
        transform: translateX(800px)
    }
}

.moveFromTop {
    animation-name: moveFromTop
}

@keyframes moveFromTop {
    from {
        transform: translateY(-800px)
    }
}

.moveFromBottom {
    animation-name: moveFromBottom
}

@keyframes moveFromBottom {
    from {
        transform: translateY(800px)
    }
}

/*************************************************************
Move To
**************************************************************/
.moveToLeft {
    animation-name: moveToLeft
}

@keyframes moveToLeft {
    to {
        transform: translateX(-800px)
    }
}

.moveToRight {
    animation-name: moveToRight
}

@keyframes moveToRight {
    to {
        transform: translateX(800px)
    }
}

.moveToTop {
    animation-name: moveToTop
}

@keyframes moveToTop {
    to {
        transform: translateY(-800px)
    }
}

.moveToBottom {
    animation-name: moveToBottom
}

@keyframes moveToBottom {
    to {
        transform: translateY(800px)
    }
}

/*************************************************************
Door
**************************************************************/
.doorCloseFromLeft {
    animation-name: doorCloseFromLeft
}

@keyframes doorCloseFromLeft {
    from {
        transform: perspective(400px) rotateY(90deg);
        transform-origin: left;
        opacity: 0;
    }
    50%, to {
        transform: perspective(400px) rotateY(0deg);
        transform-origin: left;
        opacity: 1;
    }
}

.doorOpenFromRight {
    animation-name: doorOpenFromRight
}

@keyframes doorOpenFromRight {
    from {
        transform: perspective(400px) rotateY(0deg);
        transform-origin: left;
        opacity: 1;
    }
    50%, to {
        transform: perspective(400px) rotateY(90deg);
        transform-origin: left;
        opacity: 0;
    }
}

.doorCloseFromRight {
    animation-name: doorCloseFromRight
}

@keyframes doorCloseFromRight {
    from {
        transform: perspective(400px) rotateY(-90deg);
        transform-origin: right;
        opacity: 0;
    }
    50%, to {
        transform: perspective(400px) rotateY(0deg);
        transform-origin: right;
        opacity: 1;
    }
}

.doorOpenFromLeft {
    animation-name: doorOpenFromLeft
}

@keyframes doorOpenFromLeft {
    from {
        transform: perspective(400px) rotateY(0deg);
        transform-origin: right;
        opacity: 1;
    }
    50%, to {
        transform: perspective(400px) rotateY(-90deg);
        transform-origin: right;
        opacity: 0;
    }
}

/*************************************************************
Heartbeat
**************************************************************/
.heartbeatSlow {
    animation-name: heartbeatSlow;
    animation-iteration-count: infinite;
    animation-duration: .5s
}

@keyframes heartbeatSlow {
    35%, 65% {
        transform: scale(1.2)
    }
}

.heartbeatFast {
    animation-name: heartbeatFast;
    animation-iteration-count: infinite
}

@keyframes heartbeatFast {
    14%, 42% {
        transform: scale(1.3)
    }
    28%, 70% {
        transform: scale(1)
    }
}

/*************************************************************
Hang On
**************************************************************/
.hangOnLeft {
    animation-name: hangOnLeft
}

@keyframes hangOnLeft {
    from {
        transform-origin: left;
    }
    40% {
        transform: rotate(100deg);
        transform-origin: left;
    }
    55% {
        transform: rotate(80deg);
        transform-origin: left;
    }
    70% {
        transform: rotate(95deg);
        transform-origin: left;
    }
    85% {
        transform: rotate(85deg);
        transform-origin: left;
    }
    100% {
        transform: rotate(90deg);
        transform-origin: left;
    }
}

.hangOnRight {
    animation-name: hangOnRight
}

@keyframes hangOnRight {
    from {
        transform-origin: right;
    }
    40% {
        transform: rotate(-100deg);
        transform-origin: right;
    }
    55% {
        transform: rotate(-80deg);
        transform-origin: right;
    }
    70% {
        transform: rotate(-95deg);
        transform-origin: right;
    }
    85% {
        transform: rotate(-85deg);
        transform-origin: right;
    }
    100% {
        transform: rotate(-90deg);
        transform-origin: right;
    }
}

/*************************************************************
Hang And Drop
**************************************************************/
.hangAndDropLeft {
    animation-name: hangAndDropLeft
}

@keyframes hangAndDropLeft {
    from {
        transform-origin: left
    }
    50% {
        transform: rotate(100deg);
        transform-origin: left;
    }
    60% {
        transform: rotate(90deg);
        transform-origin: left;
        opacity: 1;
    }
    to {
        transform: translateY(300px) rotate(70deg);
        transform-origin: left;
        opacity: 0;
    }
}

.hangAndDropRight {
    animation-name: hangAndDropRight
}

@keyframes hangAndDropRight {
    from {
        transform-origin: right
    }
    50% {
        transform: rotate(-100deg);
        transform-origin: right;
    }
    60% {
        transform: rotate(-90deg);
        transform-origin: right;
        opacity: 1;
    }
    to {
        transform: translateY(300px) rotate(-70deg);
        transform-origin: right;
        opacity: 0
    }
}

/*************************************************************
Shake
**************************************************************/
.pulseShake {
    animation-name: pulseShake;
    animation-iteration-count: infinite
}

@keyframes pulseShake {
    90% {
        transform: scale(1)
    }
    92% {
        transform: scale(1.2)
    }
    96% {
        transform: scale(1, 1)
    }
    98% {
        transform: scale(1.1)
    }
}

.horizontalShake {
    animation-name: horizontalShake;
    animation-iteration-count: infinite
}

@keyframes horizontalShake {
    3%, 12%, 21%, 30%, 39%, 48%, 57%, 65%, 74%, 83%, 92% {
        transform: translateX(5px)
    }
    6%, 15%, 24%, 33%, 42%, 51%, 60%, 68%, 77%, 86%, 95% {
        transform: translateX(3px)
    }
    9%, 18%, 27%, 36%, 45%, 54%, 63%, 71%, 80%, 89%, 98% {
        transform: translateX(-5px)
    }
}

.verticalShake {
    animation-name: verticalShake;
    animation-iteration-count: infinite
}

@keyframes verticalShake {
    3%, 12%, 21%, 30%, 39%, 48%, 57%, 65%, 74%, 83%, 92% {
        transform: translateY(5px)
    }
    6%, 15%, 24%, 33%, 42%, 51%, 60%, 68%, 77%, 86%, 95% {
        transform: translateY(3px)
    }
    9%, 18%, 27%, 36%, 45%, 54%, 63%, 71%, 80%, 89%, 98% {
        transform: translateY(-5px)
    }
}

.madMax {
    animation-name: madMax;
    animation-iteration-count: infinite
}

@keyframes madMax {
    3%, 12%, 21%, 30%, 39%, 48%, 57%, 65%, 74%, 83%, 92% {
        transform: translateY(5px) scale(1.1)
    }
    6%, 15%, 24%, 33%, 42%, 51%, 60%, 68%, 77%, 86%, 95% {
        transform: translateY(3px) scale(.8)
    }
    9%, 18%, 27%, 36%, 45%, 54%, 63%, 71%, 80%, 89%, 98% {
        transform: translateY(-5px) scale(1.1)
    }
}

.coolHorizontalShake {
    animation-name: coolHorizontalShake;
    animation-iteration-count: infinite
}

@keyframes coolHorizontalShake {
    3%, 21%, 39%, 57%, 74%, 92% {
        transform: translateX(5px)
    }
    6%, 24%, 42%, 60%, 77%, 95% {
        transform: translateX(3px)
    }
    9%, 27%, 45%, 63%, 80%, 98% {
        transform: translateX(-5px)
    }
}

.coolVerticalShake {
    animation-name: coolVerticalShake;
    animation-iteration-count: infinite
}

@keyframes coolVerticalShake {
    3%, 21%, 39%, 57%, 74%, 92% {
        transform: translateY(5px)
    }
    6%, 24%, 42%, 60%, 77%, 95% {
        transform: translateY(3px)
    }
    9%, 27%, 45%, 63%, 80%, 98% {
        transform: translateY(-5px)
    }
}

.quietMad {
    animation-name: quietMad;
    animation-iteration-count: infinite
}

@keyframes quietMad {
    3%, 21%, 39%, 57%, 74%, 92% {
        transform: translateY(5px) scale(1.1)
    }
    6%, 24%, 42%, 60%, 77%, 95% {
        transform: translateY(3px) scale(.8)
    }
    9%, 27%, 45%, 63%, 80%, 98% {
        transform: translateY(-5px) scale(1.1)
    }
}

.vibration {
    animation: vibration .1s linear infinite
}

@keyframes vibration {
    50% {
        transform: skewY(1deg) skewX(-1deg) scale(1.06)
    }
}

/*************************************************************
Push Release From
**************************************************************/
.pushReleaseFrom {
    animation-name: pushReleaseFrom
}

@keyframes pushReleaseFrom {
    from {
        transform: scale(3, 3);
        opacity: 0;
    }
    30% {
        transform: scale(.5, .5)
    }
}

.pushReleaseFromLeft {
    animation-name: pushReleaseFromLeft
}

@keyframes pushReleaseFromLeft {
    from {
        transform: translateX(-100%)
    }
    30% {
        transform: translateX(100px)
    }
}

.pushReleaseFromRight {
    animation-name: pushReleaseFromRight
}

@keyframes pushReleaseFromRight {
    from {
        transform: translateX(100%)
    }
    30% {
        transform: translateX(-100px)
    }
}

.pushReleaseFromTop {
    animation-name: pushReleaseFromTop
}

@keyframes pushReleaseFromTop {
    from {
        transform: translateY(-100%)
    }
    30% {
        transform: translateY(100px)
    }
}

.pushReleaseFromBottom {
    animation-name: pushReleaseFromBottom
}

@keyframes pushReleaseFromBottom {
    from {
        transform: translateY(100%)
    }
    30% {
        transform: translateY(-100px)
    }
}

/*************************************************************
Push Release To
**************************************************************/
.pushReleaseTo {
    animation-name: pushReleaseTo
}

@keyframes pushReleaseTo {
    30% {
        transform: scale(.5, .5)
    }
    to {
        transform: scale(5, 5);
        opacity: 0;
    }
}

.pushReleaseToLeft {
    animation-name: pushReleaseToLeft
}

@keyframes pushReleaseToLeft {
    30% {
        transform: translateX(100px)
    }
    to {
        transform: translateX(-100%);
        opacity: 0;
    }
}

.pushReleaseToRight {
    animation-name: pushReleaseToRight
}

@keyframes pushReleaseToRight {
    30% {
        transform: translateX(-100px)
    }
    to {
        transform: translateX(100%);
        opacity: 0;
    }
}

.pushReleaseToTop {
    animation-name: pushReleaseToTop
}

@keyframes pushReleaseToTop {
    30% {
        transform: translateY(100px)
    }
    to {
        transform: translateY(-100%);
        opacity: 0;
    }
}

.pushReleaseToBottom {
    animation-name: pushReleaseToBottom
}

@keyframes pushReleaseToBottom {
    30% {
        transform: translateY(-100px)
    }
    to {
        transform: translateY(100%);
        opacity: 0;
    }
}

/*************************************************************
Flip X
**************************************************************/
.flipX {
    animation-name: flipX
}

@keyframes flipX {
    from {
        transform: perspective(600px) rotateX(-180deg);
        opacity: 0;
    }
    to {
        transform: perspective(600px) rotateX(-360deg)
    }
}

.flipXZoomIn {
    animation-name: flipXZoomIn
}

@keyframes flipXZoomIn {
    from {
        transform: perspective(600px) rotateX(0deg) scale(1);
        animation-timing-function: ease-out;
    }
    40% {
        transform: perspective(600px) rotateX(-180deg) scale(1.8);
        animation-timing-function: ease-out;
    }
    80% {
        transform: perspective(600px) rotateX(-360deg) scale(.7);
        animation-timing-function: ease-in;
    }
    to {
        transform: scale(1)
    }
}

.flipXZoomOut {
    animation-name: flipXZoomOut
}

@keyframes flipXZoomOut {
    from {
        transform: perspective(600px) rotateX(0deg) scale(1);
        animation-timing-function: ease-out;
    }
    40% {
        transform: perspective(600px) rotateX(180deg) scale(1.8);
        animation-timing-function: ease-out;
    }
    80% {
        transform: perspective(600px) rotateX(360deg) scale(.7);
        animation-timing-function: ease-in;
    }
    to {
        transform: scale(1)
    }
}

/*************************************************************
Flip Y
**************************************************************/
.flipY {
    animation-name: flipY
}

@keyframes flipY {
    from {
        transform: perspective(600px) rotateY(180deg);
        opacity: 0;
    }
    to {
        transform: perspective(600px) rotateY(360deg)
    }
}

.flipYZoomIn {
    animation-name: flipYZoomIn
}

@keyframes flipYZoomIn {
    from {
        transform: perspective(600px) rotateY(0deg) scale(1);
        animation-timing-function: ease-out;
    }
    40% {
        transform: perspective(600px) rotateY(180deg) scale(1.6);
        animation-timing-function: ease-out;
    }
    80% {
        transform: perspective(600px) rotateY(360deg) scale(.7);
        animation-timing-function: ease-in;
    }
    to {
        transform: scale(1)
    }
}

.flipYZoomOut {
    animation-name: flipYZoomOut
}

@keyframes flipYZoomOut {
    from {
        transform: perspective(600px) rotateY(0deg) scale(1);
        animation-timing-function: ease-out;
    }
    40% {
        transform: perspective(600px) rotateY(180deg) scale(.6);
        animation-timing-function: ease-out;
    }
    80% {
        transform: perspective(600px) rotateY(360deg) scale(1.8);
        animation-timing-function: ease-in;
    }
    to {
        transform: scale(1)
    }
}

/*************************************************************
Skew
**************************************************************/
.skewLeft {
    animation-name: skewLeft
}

@keyframes skewLeft {
    70% {
        transform: skewX(40deg)
    }
}

.skewRight {
    animation-name: skewRight
}

@keyframes skewRight {
    70% {
        transform: skewX(-40deg)
    }
}

.skewInLeft {
    animation-name: skewInLeft
}

@keyframes skewInLeft {
    from {
        opacity: 0;
        transform: translateX(-100%) skewX(-40deg)
    }
    70% {
        transform: skewX(-30deg)
    }
}

.skewInRight {
    animation-name: skewInRight
}

@keyframes skewInRight {
    from {
        opacity: 0;
        transform: translateX(100%) skewX(40deg)
    }
    70% {
        transform: skewX(30deg)
    }
}

.skewOutLeft {
    animation-name: skewOutLeft
}

@keyframes skewOutLeft {
    20% {
        transform: skewX(40deg)
    }
    to {
        transform: translateX(-100%) skewX(40deg);
        opacity: 0
    }
}

.skewOutRight {
    animation-name: skewOutRight
}

@keyframes skewOutRight {
    20% {
        transform: skewX(-40deg)
    }
    to {
        transform: translateX(100%) skewX(-40deg);
        opacity: 0
    }
}

/*************************************************************
Shock In
**************************************************************/
.shockZoom {
    animation-name: shockZoom
}

@keyframes shockZoom {
    from {
        transform: matrix(5, 0, 0, 5, 0, 0)
    }
    35% {
        transform: matrix(2, 0, 0, 2, 0, 0)
    }
    43% {
        transform: matrix(1, 0, 0, 1, 0, 0)
    }
}

.shockInLeft {
    animation-name: shockInLeft
}

@keyframes shockInLeft {
    from {
        transform: matrix(1, 0, 0, 1, -800, 0)
    }
    35% {
        transform: matrix(1, 0, 0, 1, 50, 0)
    }
    43% {
        transform: matrix(1, 0, 0, 1, 0, 0)
    }
}

.shockInRight {
    animation-name: shockInRight
}

@keyframes shockInRight {
    from {
        transform: matrix(1, 0, 0, 1, 800, 0)
    }
    35% {
        transform: matrix(1, 0, 0, 1, -50, 0)
    }
    43% {
        transform: matrix(1, 0, 0, 1, 0, 0)
    }
}

.shockInTop {
    animation-name: shockInTop
}

@keyframes shockInTop {
    from {
        transform: matrix(1, 0, 0, 1, 0, -400)
    }
    35% {
        transform: matrix(1, 0, 0, 1, 0, 50)
    }
    43% {
        transform: matrix(1, 0, 0, 1, 0, 0)
    }
}

.shockInBottom {
    animation-name: shockInBottom
}

@keyframes shockInBottom {
    from {
        transform: matrix(1, 0, 0, 1, 0, 400)
    }
    35% {
        transform: matrix(1, 0, 0, 1, 0, -50)
    }
    43% {
        transform: matrix(1, 0, 0, 1, 0, 0)
    }
}

/*************************************************************
Pull release
**************************************************************/
.pullRelease {
    animation-name: pullRelease
}

@keyframes pullRelease {
    15% {
        transform: scale(1.8)
    }
}

.pushRelease {
    animation-name: pushRelease
}

@keyframes pushRelease {
    15% {
        transform: scale(.5)
    }
}

/*************************************************************
Swing In
**************************************************************/
.swingInLeft {
    animation-name: swingInLeft
}

@keyframes swingInLeft {
    from {
        transform: matrix(3, 0, 0, 3, -800, 0);
        animation-timing-function: ease-out;
    }
    50% {
        transform: matrix(1.3, 0, 0, 1.3, 20, 0)
    }
}

.swingInRight {
    animation-name: swingInRight
}

@keyframes swingInRight {
    from {
        transform: matrix(3, 0, 0, 3, 800, 0);
        animation-timing-function: ease-out;
    }
    50% {
        transform: matrix(1.3, 0, 0, 1.3, -20, 0)
    }
}

.swingInTop {
    animation-name: swingInTop
}

@keyframes swingInTop {
    from {
        transform: matrix(3, 0, 0, 3, 0, -800);
        animation-timing-function: ease-out;
    }
    50% {
        transform: matrix(1.3, 0, 0, 1.3, 0, 20)
    }
}

.swingInBottom {
    animation-name: swingInBottom
}

@keyframes swingInBottom {
    from {
        transform: matrix(3, 0, 0, 3, 0, 800);
        animation-timing-function: ease-out;
    }
    50% {
        transform: matrix(1.3, 0, 0, 1.3, 0, -20)
    }
}

/*************************************************************
Elevate
**************************************************************/

.elevateLeft {
    animation-name: elevateLeft
}

@keyframes elevateLeft {
    from {
        transform: translateY(100%) rotate(-20deg);
        transform-origin: right;
    }
    40% {
        transform: rotate(20deg);
        transform-origin: right;
    }
    65% {
        transform: rotate(0deg);
        transform-origin: right;
    }
}

.elevateRight {
    animation-name: elevateRight
}

@keyframes elevateRight {
    from {
        transform: translateY(100%) rotate(20deg);
        transform-origin: left;
    }
    40% {
        transform: rotate(-20deg);
        transform-origin: left;
    }
    65% {
        transform: rotate(0deg);
        transform-origin: left;
    }
}

/*************************************************************
Roll From
**************************************************************/
.rollFromLeft {
    animation-name: rollFromLeft
}

@keyframes rollFromLeft {
    from {
        transform: translateX(-100%) perspective(600px) rotateY(180deg);
        opacity: 0
    }
    to {
        transform: translateX(0) perspective(600px) rotateY(0deg);
        opacity: 1
    }
}

.rollFromRight {
    animation-name: rollFromRight
}

@keyframes rollFromRight {
    from {
        transform: translateX(100%) perspective(600px) rotateY(-180deg);
        opacity: 0
    }
    to {
        transform: translateX(0) perspective(600px) rotateY(0deg);
        opacity: 1
    }

}

.rollFromTop {
    animation-name: rollFromTop
}

@keyframes rollFromTop {
    from {
        transform: translateY(-100%) perspective(600px) rotateY(180deg);
        opacity: 0
    }
    to {
        transform: translateY(0) perspective(600px) rotateY(0deg);
        opacity: 1
    }
}

.rollFromBottom {
    animation-name: rollFromBottom
}

@keyframes rollFromBottom {
    from {
        transform: translateY(100%) perspective(600px) rotateY(-180deg);
        opacity: 0
    }
    to {
        transform: translateY(0) perspective(600px) rotateY(0deg);
        opacity: 1
    }
}

/*************************************************************
Roll To
**************************************************************/
.rollToLeft {
    animation-name: rollToLeft
}

@keyframes rollToLeft {
    from {
        transform: translateX(0) perspective(600px) rotateY(0deg);
        opacity: 1
    }
    to {
        transform: translateX(-100%) perspective(600px) rotateY(180deg);
        opacity: 0
    }
}

.rollToRight {
    animation-name: rollToRight
}

@keyframes rollToRight {
    from {
        transform: translateX(0) perspective(600px) rotateY(0deg);
        opacity: 1
    }
    to {
        transform: translateX(100%) perspective(600px) rotateY(-180deg);
        opacity: 0
    }
}

.rollToTop {
    animation-name: rollToTop
}

@keyframes rollToTop {
    from {
        transform: translateY(0) perspective(600px) rotateX(0deg);
        opacity: 1
    }
    to {
        transform: translateY(-100%) perspective(600px) rotateX(180deg);
        opacity: 0
    }
}

.rollToBottom {
    animation-name: rollToBottom
}

@keyframes rollToBottom {
    to {
        transform: translateY(0) perspective(600px) rotateX(0deg);
        opacity: 1
    }
    to {
        transform: translateY(100%) perspective(600px) rotateX(-180deg);
        opacity: 0
    }
}

/*************************************************************
Rotation
**************************************************************/
.rotate {
    animation-name: rotate;
    animation-timing-function: ease-in-out
}

@keyframes rotate {
    from {
        transform: rotate(0deg)
    }
    to {
        transform: rotate(360deg)
    }
}

.rotateX {
    animation-name: rotateX
}

@keyframes rotateX {
    from {
        transform: perspective(600px) rotateX(0deg)
    }
    to {
        transform: perspective(600px) rotateX(90deg)
    }
}

.rotateXIn {
    animation-name: rotateXIn
}

@keyframes rotateXIn {
    from {
        transform: perspective(600px) translate3d(0, -60px, -2000px) rotateX(75deg);
        opacity: 0;
    }
    5% {
        transform: perspective(600px) translate3d(0, -60px, -1500px) rotateX(75deg)
    }
}

.rotateXOut {
    animation-name: rotateXOut
}

@keyframes rotateXOut {
    95% {
        transform: perspective(600px) translate3d(0, -60px, -1500px) rotateX(75deg)
    }
    to {
        transform: perspective(600px) translate3d(0, -60px, -2000px) rotateX(75deg);
        opacity: 0;
    }
}

.rotateY {
    animation-name: rotateY
}

@keyframes rotateY {
    from {
        transform: perspective(600px) rotateY(0deg)
    }
    to {
        transform: perspective(600px) rotateY(90deg)
    }
}

.rotateYIn {
    animation-name: rotateYIn
}

@keyframes rotateYIn {
    from {
        transform: perspective(600px) translate3d(0, -60px, -2000px) rotateY(75deg);
        opacity: 0;
    }
    5% {
        transform: perspective(600px) translate3d(0, -60px, -1500px) rotateY(75deg)
    }
}

.rotateYOut {
    animation-name: rotateYOut
}

@keyframes rotateYOut {
    95% {
        transform: perspective(600px) translate3d(0, -60px, -1500px) rotateY(75deg)
    }
    to {
        transform: perspective(600px) translate3d(0, -60px, -2000px) rotateY(75deg);
        opacity: 0;
    }
}

/*************************************************************
Rotate In
**************************************************************/
.rotateInLeft {
    animation-name: rotateInLeft
}

@keyframes rotateInLeft {
    from {
        opacity: 0;
        transform: translateX(-100%) rotate(0deg)
    }
    to {
        transform: translateX(0px) rotate(360deg)
    }
}

.rotateInRight {
    animation-name: rotateInRight
}

@keyframes rotateInRight {
    from {
        opacity: 0;
        transform: translateX(100%) rotate(0deg)
    }
    to {
        transform: translateX(0px) rotate(-360deg)
    }
}

.rotateInTop {
    animation-name: rotateInTop
}

@keyframes rotateInTop {
    from {
        opacity: 0;
        transform: translateY(-400%) rotate(0deg)
    }
    to {
        transform: translateX(0px) rotate(360deg)
    }
}

.rotateInBottom {
    animation-name: rotateInBottom
}

@keyframes rotateInBottom {
    from {
        opacity: 0;
        transform: translateY(400%) rotate(0deg)
    }
    to {
        transform: translateX(0px) rotate(360deg)
    }
}

/*************************************************************
Rotate Out
**************************************************************/
.rotateOutLeft {
    animation-name: rotateOutLeft
}

@keyframes rotateOutLeft {
    from {
        transform: translateX(0px) rotate(360deg)
    }
    to {
        transform: translateX(-800px) rotate(0deg);
        opacity: 0
    }
}

.rotateOutRight {
    animation-name: rotateOutRight
}

@keyframes rotateOutRight {
    from {
        transform: translateX(0px) rotate(-360deg)
    }
    to {
        transform: translateX(800px) rotate(0deg);
        opacity: 0
    }
}

.rotateOutTop {
    animation-name: rotateOutTop
}

@keyframes rotateOutTop {
    from {
        transform: translateX(0px) rotate(360deg)
    }
    to {
        transform: translateY(-800px) rotate(0deg);
        opacity: 0
    }
}

.rotateOutBottom {
    animation-name: rotateOutBottom
}

@keyframes rotateOutBottom {
    from {
        transform: translateX(0px) rotate(360deg)
    }
    to {
        transform: translateY(800px) rotate(0deg);
        opacity: 0
    }
}

/*************************************************************
Spin To
**************************************************************/
.spinToLeft {
    animation-name: spinToLeft
}

@keyframes spinToLeft {
    from, to {
        transform-origin: left bottom
    }
    from {
        transform: rotate(90deg);
        opacity: 0;
    }
}

.spinToRight {
    animation-name: spinToRight
}

@keyframes spinToRight {
    from, to {
        transform-origin: right bottom
    }
    from {
        transform: rotate(-90deg);
        opacity: 0;
    }
}

.spinToTop {
    animation-name: spinToTop
}

@keyframes spinToTop {
    from, to {
        transform-origin: left bottom
    }
    from {
        transform: rotate(-90deg);
        opacity: 0;
    }
}

.spinToBottom {
    animation-name: spinToBottom
}

@keyframes spinToBottom {
    from, to {
        transform-origin: right bottom
    }
    from {
        transform: rotate(90deg);
        opacity: 0;
    }
}

/*************************************************************
Spin From
**************************************************************/
.spinFromLeft {
    animation-name: spinFromLeft
}

@keyframes spinFromLeft {
    from, to {
        transform-origin: left bottom
    }
    to {
        transform: rotate(90deg);
        opacity: 0;
    }
}

.spinFromRight {
    animation-name: spinFromRight
}

@keyframes spinFromRight {
    from, to {
        transform-origin: right bottom
    }
    to {
        transform: rotate(-90deg);
        opacity: 0;
    }
}

.spinFromTop {
    animation-name: spinFromTop
}

@keyframes spinFromTop {
    from, to {
        transform-origin: left bottom
    }
    to {
        transform: rotate(-90deg);
        opacity: 0;
    }
}

.spinFromBottom {
    animation-name: spinFromBottom
}

@keyframes spinFromBottom {
    from, to {
        transform-origin: right bottom
    }
    to {
        transform: rotate(90deg);
        opacity: 0;
    }
}

/*************************************************************
Blur In
**************************************************************/

.blurIn {
    animation-name: blurIn
}

@keyframes blurIn {
    from {
        filter: blur(20px);
        opacity: 0;
    }
}

.blurInLeft {
    animation-name: blurInLeft
}

@keyframes blurInLeft {
    from {
        transform: translateX(100%);
        filter: blur(20px);
        opacity: 0;
    }
}

.blurInRight {
    animation-name: blurInRight
}

@keyframes blurInRight {
    from {
        transform: translateX(-100%);
        filter: blur(20px);
        opacity: 0;
    }
}

.blurInTop {
    animation-name: blurInTop
}

@keyframes blurInTop {
    from {
        transform: translateY(100%);
        filter: blur(20px);
        opacity: 0;
    }
}

.blurInBottom {
    animation-name: blurInBottom
}

@keyframes blurInBottom {
    from {
        transform: translateY(-100%);
        filter: blur(20px);
        opacity: 0;
    }
}

/*************************************************************
Blur Out
**************************************************************/
.blurOut {
    animation-name: blurOut
}

@keyframes blurOut {
    85%, to {
        filter: blur(20px)
    }
    to {
        opacity: 0
    }
}

.blurOutLeft {
    animation-name: blurOutLeft
}

@keyframes blurOutLeft {
    85%, to {
        filter: blur(20px);
        transform: translateX(100%);
    }
    to {
        opacity: 0
    }
}

.blurOutRight {
    animation-name: blurOutRight
}

@keyframes blurOutRight {
    85%, to {
        filter: blur(20px);
        transform: translateX(-100%);
    }
    to {
        opacity: 0
    }
}

.blurOutTop {
    animation-name: blurOutTop
}

@keyframes blurOutTop {
    85%, to {
        filter: blur(20px);
        transform: translateY(100%);
    }
    to {
        opacity: 0
    }
}

.blurOutBottom {
    animation-name: blurOutBottom
}

@keyframes blurOutBottom {
    85%, to {
        filter: blur(20px);
        transform: translateY(-100%);
    }
    to {
        opacity: 0
    }
}

/*************************************************************
Bounce
**************************************************************/
.bounceFromTop {
    animation-name: bounceFromTop
}

@keyframes bounceFromTop {
    0%, 25%, 55%, 85%, 100% {
        animation-timing-function: ease-out;
        transform: translate3d(0, 0, 0);
    }
    41%, 44% {
        animation-timing-function: ease-in;
        transform: translate3d(0, -80px, 0) scale3d(1, 1.6, 1);
    }
    70% {
        animation-timing-function: ease-in;
        transform: translate3d(0, -20px, 0);
    }
    90% {
        transform: translate3d(0, -4px, 0)
    }
}

.bounceFromDown {
    animation-name: bounceFromDown
}

@keyframes bounceFromDown {
    0%, 25%, 55%, 85%, 100% {
        animation-timing-function: ease-out;
        transform: translate3d(0, 0, 0);
    }
    41%, 44% {
        animation-timing-function: ease-in;
        transform: translate3d(0, 80px, 0) scale3d(1, 1.2, 1);
    }
    70% {
        animation-timing-function: ease-in;
        transform: translate3d(0, 20px, 0);
    }
    90% {
        transform: translate3d(0, 4px, 0)
    }
}

.bounceX {
    animation-name: bounceX
}

@keyframes bounceX {
    0%, 25%, 55%, 85%, 100% {
        animation-timing-function: ease-out;
        transform: scale3d(1, 1, 1);
    }
    41%, 44% {
        animation-timing-function: ease-in;
        transform: scale3d(1.8, 1, 1);
    }
    70% {
        animation-timing-function: ease-in;
        transform: scale3d(1.5, 1, 1);
    }
    90% {
        transform: scale3d(1.1, 1, 1)
    }
}

.bounceY {
    animation-name: bounceY
}

@keyframes bounceY {
    0%, 25%, 55%, 85%, 100% {
        animation-timing-function: ease-out;
        transform: scale3d(1, 1, 1);
    }
    41%, 44% {
        animation-timing-function: ease-in;
        transform: scale3d(1, 2, 1);
    }
    70% {
        animation-timing-function: ease-in;
        transform: scale3d(1, 1.5, 1);
    }
    90% {
        transform: scale3d(1, 1.1, 1)
    }
}

.bounceZoomIn {
    animation-name: bounceZoomIn
}

@keyframes bounceZoomIn {
    0%, 25%, 55%, 85%, 100% {
        animation-timing-function: ease-out;
        transform: scale(1);
    }
    41%, 44% {
        animation-timing-function: ease-in;
        transform: scale(1.5);
    }
    70% {
        animation-timing-function: ease-in;
        transform: scale(1.3);
    }
    90% {
        transform: scale(1.1)
    }
}

.bounceZoomOut {
    animation-name: bounceZoomOut
}

@keyframes bounceZoomOut {
    0%, 25%, 55%, 85%, 100% {
        animation-timing-function: ease-out;
        transform: scale(1);
    }
    41%, 44% {
        animation-timing-function: ease-in;
        transform: scale(.3);
    }
    70% {
        animation-timing-function: ease-in;
        transform: scale(.5);
    }
    90% {
        transform: scale(.9)
    }
}

/*************************************************************
Bounce In
**************************************************************/
.bounceInTop {
    animation-name: bounceInTop
}

@keyframes bounceInTop {
    0% {
        transform: translate3d(0, -300%, 0)
    }
    58% {
        transform: translate3d(0, 27px, 0)
    }
    73% {
        transform: translate3d(0, -12px, 0)
    }
    88% {
        transform: translate3d(0, 7px, 0)
    }
}

.bounceInBottom {
    animation-name: bounceInBottom
}

@keyframes bounceInBottom {
    0% {
        transform: translate3d(0, 300%, 0)
    }
    58% {
        transform: translate3d(0, -27px, 0)
    }
    73% {
        transform: translate3d(0, 12px, 0)
    }
    88% {
        transform: translate3d(0, -8px, 0)
    }
}

.bounceInLeft {
    animation-name: bounceInLeft
}

@keyframes bounceInLeft {
    0% {
        transform: translate3d(-300%, 0, 0)
    }
    58% {
        transform: translate3d(27px, 0, 0)
    }
    73% {
        transform: translate3d(-12px, 0, 0)
    }
    88% {
        transform: translate3d(8px, 0, 0)
    }
}

.bounceInRight {
    animation-name: bounceInRight
}

@keyframes bounceInRight {
    0% {
        transform: translate3d(300%, 0, 0)
    }
    58% {
        transform: translate3d(-27px, 0, 0)
    }
    73% {
        transform: translate3d(12px, 0, 0)
    }
    88% {
        transform: translate3d(-8px, 0, 0)
    }
}

/*************************************************************
Bounce Out
**************************************************************/
.bounceOutTop {
    animation-name: bounceOutTop
}

@keyframes bounceOutTop {
    18%, 33%, 48% {
        opacity: 1
    }
    18% {
        transform: translate3d(0, 27px, 0)
    }
    33% {
        transform: translate3d(0, -12px, 0)
    }
    48% {
        transform: translate3d(0, 8px, 0)
    }
    100% {
        opacity: 0;
        transform: translate3d(0, -300%, 0)
    }
}

.bounceOutBottom {
    animation-name: bounceOutBottom
}

@keyframes bounceOutBottom {
    18%, 33%, 48% {
        opacity: 1
    }
    18% {
        transform: translate3d(0, -27px, 0)
    }
    33% {
        transform: translate3d(0, 12px, 0)
    }
    48% {
        transform: translate3d(0, -8px, 0)
    }
    100% {
        opacity: 0;
        transform: translate3d(0, 300%, 0)
    }
}

.bounceOutLeft {
    animation-name: bounceOutLeft
}

@keyframes bounceOutLeft {
    18%, 33%, 48% {
        opacity: 1
    }
    18% {
        transform: translate3d(27px, 0, 0)
    }
    33% {
        transform: translate3d(-12px, 0, 0)
    }
    48% {
        transform: translate3d(8px, 0, 0)
    }
    100% {
        opacity: 0;
        transform: translate3d(-300%, 0, 0)
    }
}

.bounceOutRight {
    animation-name: bounceOutRight
}

@keyframes bounceOutRight {
    18%, 33%, 48% {
        opacity: 1
    }
    18% {
        transform: translate3d(-27px, 0, 0)
    }
    33% {
        transform: translate3d(12px, 0, 0)
    }
    48% {
        transform: translate3d(-8px, 0, 0)
    }
    100% {
        opacity: 0;
        transform: translate3d(300%, 0, 0)
    }
}

/*************************************************************
Perspective
**************************************************************/
.perspectiveToTop {
    animation-name: perspectiveToTop;
    transform: perspective(500px);
    transform-style: preserve-3d
}

@keyframes perspectiveToTop {
    50% {
        opacity: 1
    }
    to {
        transform: perspective(500px) rotateX(90deg) translateY(-50px) translateZ(50px);
        opacity: 0;
    }
}

.perspectiveToBottom {
    animation-name: perspectiveToBottom;
    transform: perspective(500px);
    transform-style: preserve-3d
}

@keyframes perspectiveToBottom {
    50% {
        opacity: 1
    }
    to {
        transform: perspective(500px) rotateX(90deg) translateY(50px) translateZ(-50px);
        opacity: 0;
    }
}

/*************************************************************
Zoom In
**************************************************************/
.zoomIn {
    animation-name: zoomIn
}

@keyframes zoomIn {
    from {
        transform: scale(10);
        opacity: 0;
    }
}

.zoomInLeft {
    animation-name: zoomInLeft
}

@keyframes zoomInLeft {
    from {
        transform: scale(10) translateX(-50%);
        opacity: 0;
    }
}

.zoomInRight {
    animation-name: zoomInRight
}

@keyframes zoomInRight {
    from {
        transform: scale(10) translateX(50%);
        opacity: 0;
    }
}

.zoomInTop {
    animation-name: zoomInTop
}

@keyframes zoomInTop {
    from {
        transform: scale(10) translateY(-50%);
        opacity: 0;
    }
}

.zoomInBottom {
    animation-name: zoomInBottom
}

@keyframes zoomInBottom {
    from {
        transform: scale(10) translateY(50%);
        opacity: 0;
    }
}

/*************************************************************
Zoom Out
**************************************************************/
.zoomOut {
    animation-name: zoomOut
}

@keyframes zoomOut {
    to {
        transform: scale(10);
        opacity: 0;
    }
}

.zoomOutLeft {
    animation-name: zoomOutLeft
}

@keyframes zoomOutLeft {
    to {
        transform: scale(10) translateX(-50%);
        opacity: 0;
    }
}

.zoomOutRight {
    animation-name: zoomOutRight
}

@keyframes zoomOutRight {
    to {
        transform: scale(10) translateX(50%);
        opacity: 0;
    }
}

.zoomOutTop {
    animation-name: zoomOutTop
}

@keyframes zoomOutTop {
    to {
        transform: scale(10) translateY(-50%);
        opacity: 0;
    }
}

.zoomOutBottom {
    animation-name: zoomOutBottom
}

@keyframes zoomOutBottom {
    to {
        transform: scale(10) translateY(50%);
        opacity: 0;
    }
}

/*************************************************************
Dance
**************************************************************/
.danceTop {
    animation-name: danceTop;
    transform-origin: top
}

@keyframes danceTop {
    16% {
        transform: skew(-14deg)
    }
    33% {
        transform: skew(12deg)
    }
    49% {
        transform: skew(-8deg)
    }
    66% {
        transform: skew(6deg)
    }
    83% {
        transform: skew(-4deg)
    }
}

.danceMiddle {
    animation-name: danceMiddle
}

@keyframes danceMiddle {
    16% {
        transform: skew(-14deg)
    }
    33% {
        transform: skew(12deg)
    }
    49% {
        transform: skew(-8deg)
    }
    66% {
        transform: skew(6deg)
    }
    83% {
        transform: skew(-4deg)
    }
}

.danceBottom {
    animation-name: danceBottom;
    transform-origin: bottom
}

@keyframes danceBottom {
    16% {
        transform: skew(-14deg)
    }
    33% {
        transform: skew(12deg)
    }
    49% {
        transform: skew(-8deg)
    }
    66% {
        transform: skew(6deg)
    }
    83% {
        transform: skew(-4deg)
    }
}
</file>

<file path="ui-module/src/main/resources/frontend-config/css/general.css">
/* Efecto 1 Movimiento */

.danceTop {
    animation-name: danceTop;
    transform-origin: top
}

@keyframes danceTop {
    16% {
        transform: skew(-14deg)
    }
    33% {
        transform: skew(12deg)
    }
    49% {
        transform: skew(-8deg)
    }
    66% {
        transform: skew(6deg)
    }
    83% {
        transform: skew(-4deg)
    }
}

/* Efecto 2 fadeInRight */

.fadeInRight {
    animation-name: fadeInRight
}

@keyframes fadeInRight {
    from {
        opacity: 0;
        transform: translateX(100%);
    }
    to {
        opacity: 1
    }
}

/* Efecto 3 */

.leDanceInTop span {
    animation-name: leDanceInTop;
    transform-origin: top
}

@keyframes leDanceInTop {
    from {
        opacity: 0
    }
    16% {
        transform: skew(-14deg)
    }
    33% {
        transform: skew(12deg)
    }
    49% {
        transform: skew(-8deg)
    }
    66% {
        transform: skew(6deg)
    }
    83% {
        transform: skew(-4deg)
    }
}

/* Efecto 4 */

.leScaleXIn span {
    animation-name: leScaleXIn
}

@keyframes leScaleXIn {
    from {
        transform: perspective(400px) rotateX(90deg);
        opacity: 0;
    }
    50% {
        opacity: 1
    }
}
</file>

<file path="ui-module/src/main/resources/frontend-config/css/main.css">
*, ::before, ::after {
    --tw-border-spacing-x: 0;
    --tw-border-spacing-y: 0;
    --tw-translate-x: 0;
    --tw-translate-y: 0;
    --tw-rotate: 0;
    --tw-skew-x: 0;
    --tw-skew-y: 0;
    --tw-scale-x: 1;
    --tw-scale-y: 1;
    --tw-pan-x: ;
    --tw-pan-y: ;
    --tw-pinch-zoom: ;
    --tw-scroll-snap-strictness: proximity;
    --tw-gradient-from-position: ;
    --tw-gradient-via-position: ;
    --tw-gradient-to-position: ;
    --tw-ordinal: ;
    --tw-slashed-zero: ;
    --tw-numeric-figure: ;
    --tw-numeric-spacing: ;
    --tw-numeric-fraction: ;
    --tw-ring-inset: ;
    --tw-ring-offset-width: 0px;
    --tw-ring-offset-color: #fff;
    --tw-ring-color: rgb(59 130 246 / 0.5);
    --tw-ring-offset-shadow: 0 0 #0000;
    --tw-ring-shadow: 0 0 #0000;
    --tw-shadow: 0 0 #0000;
    --tw-shadow-colored: 0 0 #0000;
    --tw-blur: ;
    --tw-brightness: ;
    --tw-contrast: ;
    --tw-grayscale: ;
    --tw-hue-rotate: ;
    --tw-invert: ;
    --tw-saturate: ;
    --tw-sepia: ;
    --tw-drop-shadow: ;
    --tw-backdrop-blur: ;
    --tw-backdrop-brightness: ;
    --tw-backdrop-contrast: ;
    --tw-backdrop-grayscale: ;
    --tw-backdrop-hue-rotate: ;
    --tw-backdrop-invert: ;
    --tw-backdrop-opacity: ;
    --tw-backdrop-saturate: ;
    --tw-backdrop-sepia: ;
    --tw-contain-size: ;
    --tw-contain-layout: ;
    --tw-contain-paint: ;
    --tw-contain-style: ;
}

::backdrop {
    --tw-border-spacing-x: 0;
    --tw-border-spacing-y: 0;
    --tw-translate-x: 0;
    --tw-translate-y: 0;
    --tw-rotate: 0;
    --tw-skew-x: 0;
    --tw-skew-y: 0;
    --tw-scale-x: 1;
    --tw-scale-y: 1;
    --tw-pan-x: ;
    --tw-pan-y: ;
    --tw-pinch-zoom: ;
    --tw-scroll-snap-strictness: proximity;
    --tw-gradient-from-position: ;
    --tw-gradient-via-position: ;
    --tw-gradient-to-position: ;
    --tw-ordinal: ;
    --tw-slashed-zero: ;
    --tw-numeric-figure: ;
    --tw-numeric-spacing: ;
    --tw-numeric-fraction: ;
    --tw-ring-inset: ;
    --tw-ring-offset-width: 0px;
    --tw-ring-offset-color: #fff;
    --tw-ring-color: rgb(59 130 246 / 0.5);
    --tw-ring-offset-shadow: 0 0 #0000;
    --tw-ring-shadow: 0 0 #0000;
    --tw-shadow: 0 0 #0000;
    --tw-shadow-colored: 0 0 #0000;
    --tw-blur: ;
    --tw-brightness: ;
    --tw-contrast: ;
    --tw-grayscale: ;
    --tw-hue-rotate: ;
    --tw-invert: ;
    --tw-saturate: ;
    --tw-sepia: ;
    --tw-drop-shadow: ;
    --tw-backdrop-blur: ;
    --tw-backdrop-brightness: ;
    --tw-backdrop-contrast: ;
    --tw-backdrop-grayscale: ;
    --tw-backdrop-hue-rotate: ;
    --tw-backdrop-invert: ;
    --tw-backdrop-opacity: ;
    --tw-backdrop-saturate: ;
    --tw-backdrop-sepia: ;
    --tw-contain-size: ;
    --tw-contain-layout: ;
    --tw-contain-paint: ;
    --tw-contain-style: ;
}

/*
! tailwindcss v3.4.17 | MIT License | https://tailwindcss.com
*/

/*
1. Prevent padding and border from affecting element width. (https://github.com/mozdevs/cssremedy/issues/4)
2. Allow adding a border to an element by just adding a border-width. (https://github.com/tailwindcss/tailwindcss/pull/116)
*/

*,
::before,
::after {
    box-sizing: border-box;
    /* 1 */
    border-width: 0;
    /* 2 */
    border-style: solid;
    /* 2 */
    border-color: #e5e7eb;
    /* 2 */
}

::before,
::after {
    --tw-content: '';
}

/*
1. Use a consistent sensible line-height in all browsers.
2. Prevent adjustments of font size after orientation changes in iOS.
3. Use a more readable tab size.
4. Use the user's configured `sans` font-family by default.
5. Use the user's configured `sans` font-feature-settings by default.
6. Use the user's configured `sans` font-variation-settings by default.
7. Disable tap highlights on iOS
*/

html,
:host {
    line-height: 1.5;
    /* 1 */
    -webkit-text-size-adjust: 100%;
    /* 2 */
    -moz-tab-size: 4;
    /* 3 */
    -o-tab-size: 4;
    tab-size: 4;
    /* 3 */
    font-family: ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
    /* 4 */
    font-feature-settings: normal;
    /* 5 */
    font-variation-settings: normal;
    /* 6 */
    -webkit-tap-highlight-color: transparent;
    /* 7 */
}

/*
1. Remove the margin in all browsers.
2. Inherit line-height from `html` so users can set them as a class directly on the `html` element.
*/

body {
    margin: 0;
    /* 1 */
    line-height: inherit;
    /* 2 */
}

/*
1. Add the correct height in Firefox.
2. Correct the inheritance of border color in Firefox. (https://bugzilla.mozilla.org/show_bug.cgi?id=190655)
3. Ensure horizontal rules are visible by default.
*/

hr {
    height: 0;
    /* 1 */
    color: inherit;
    /* 2 */
    border-top-width: 1px;
    /* 3 */
}

/*
Add the correct text decoration in Chrome, Edge, and Safari.
*/

abbr:where([title]) {
    -webkit-text-decoration: underline dotted;
    text-decoration: underline dotted;
}

/*
Remove the default font size and weight for headings.
*/

h1,
h2,
h3,
h4,
h5,
h6 {
    font-size: inherit;
    font-weight: inherit;
}

/*
Reset links to optimize for opt-in styling instead of opt-out.
*/

a {
    color: inherit;
    text-decoration: inherit;
}

/*
Add the correct font weight in Edge and Safari.
*/

b,
strong {
    font-weight: bolder;
}

/*
1. Use the user's configured `mono` font-family by default.
2. Use the user's configured `mono` font-feature-settings by default.
3. Use the user's configured `mono` font-variation-settings by default.
4. Correct the odd `em` font sizing in all browsers.
*/

code,
kbd,
samp,
pre {
    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
    /* 1 */
    font-feature-settings: normal;
    /* 2 */
    font-variation-settings: normal;
    /* 3 */
    font-size: 1em;
    /* 4 */
}

/*
Add the correct font size in all browsers.
*/

small {
    font-size: 80%;
}

/*
Prevent `sub` and `sup` elements from affecting the line height in all browsers.
*/

sub,
sup {
    font-size: 75%;
    line-height: 0;
    position: relative;
    vertical-align: baseline;
}

sub {
    bottom: -0.25em;
}

sup {
    top: -0.5em;
}

/*
1. Remove text indentation from table contents in Chrome and Safari. (https://bugs.chromium.org/p/chromium/issues/detail?id=999088, https://bugs.webkit.org/show_bug.cgi?id=201297)
2. Correct table border color inheritance in all Chrome and Safari. (https://bugs.chromium.org/p/chromium/issues/detail?id=935729, https://bugs.webkit.org/show_bug.cgi?id=195016)
3. Remove gaps between table borders by default.
*/

table {
    text-indent: 0;
    /* 1 */
    border-color: inherit;
    /* 2 */
    border-collapse: collapse;
    /* 3 */
}

/*
1. Change the font styles in all browsers.
2. Remove the margin in Firefox and Safari.
3. Remove default padding in all browsers.
*/

button,
input,
optgroup,
select,
textarea {
    font-family: inherit;
    /* 1 */
    font-feature-settings: inherit;
    /* 1 */
    font-variation-settings: inherit;
    /* 1 */
    font-size: 100%;
    /* 1 */
    font-weight: inherit;
    /* 1 */
    line-height: inherit;
    /* 1 */
    letter-spacing: inherit;
    /* 1 */
    color: inherit;
    /* 1 */
    margin: 0;
    /* 2 */
    padding: 0;
    /* 3 */
}

/*
Remove the inheritance of text transform in Edge and Firefox.
*/

button,
select {
    text-transform: none;
}

/*
1. Correct the inability to style clickable types in iOS and Safari.
2. Remove default button styles.
*/

button,
input:where([type='button']),
input:where([type='reset']),
input:where([type='submit']) {
    -webkit-appearance: button;
    /* 1 */
    background-color: transparent;
    /* 2 */
    background-image: none;
    /* 2 */
}

/*
Use the modern Firefox focus style for all focusable elements.
*/

:-moz-focusring {
    outline: auto;
}

/*
Remove the additional `:invalid` styles in Firefox. (https://github.com/mozilla/gecko-dev/blob/2f9eacd9d3d995c937b4251a5557d95d494c9be1/layout/style/res/forms.css#L728-L737)
*/

:-moz-ui-invalid {
    box-shadow: none;
}

/*
Add the correct vertical alignment in Chrome and Firefox.
*/

progress {
    vertical-align: baseline;
}

/*
Correct the cursor style of increment and decrement buttons in Safari.
*/

::-webkit-inner-spin-button,
::-webkit-outer-spin-button {
    height: auto;
}

/*
1. Correct the odd appearance in Chrome and Safari.
2. Correct the outline style in Safari.
*/

[type='search'] {
    -webkit-appearance: textfield;
    /* 1 */
    outline-offset: -2px;
    /* 2 */
}

/*
Remove the inner padding in Chrome and Safari on macOS.
*/

::-webkit-search-decoration {
    -webkit-appearance: none;
}

/*
1. Correct the inability to style clickable types in iOS and Safari.
2. Change font properties to `inherit` in Safari.
*/

::-webkit-file-upload-button {
    -webkit-appearance: button;
    /* 1 */
    font: inherit;
    /* 2 */
}

/*
Add the correct display in Chrome and Safari.
*/

summary {
    display: list-item;
}

/*
Removes the default spacing and border for appropriate elements.
*/

blockquote,
dl,
dd,
h1,
h2,
h3,
h4,
h5,
h6,
hr,
figure,
p,
pre {
    margin: 0;
}

fieldset {
    margin: 0;
    padding: 0;
}

legend {
    padding: 0;
}

ol,
ul,
menu {
    list-style: none;
    margin: 0;
    padding: 0;
}

/*
Reset default styling for dialogs.
*/

dialog {
    padding: 0;
}

/*
Prevent resizing textareas horizontally by default.
*/

textarea {
    resize: vertical;
}

/*
1. Reset the default placeholder opacity in Firefox. (https://github.com/tailwindlabs/tailwindcss/issues/3300)
2. Set the default placeholder color to the user's configured gray 400 color.
*/

input::-moz-placeholder, textarea::-moz-placeholder {
    opacity: 1;
    /* 1 */
    color: #9ca3af;
    /* 2 */
}

input::placeholder,
textarea::placeholder {
    opacity: 1;
    /* 1 */
    color: #9ca3af;
    /* 2 */
}

/*
Set the default cursor for buttons.
*/

button,
[role="button"] {
    cursor: pointer;
}

/*
Make sure disabled buttons don't get the pointer cursor.
*/

:disabled {
    cursor: default;
}

/*
1. Make replaced elements `display: block` by default. (https://github.com/mozdevs/cssremedy/issues/14)
2. Add `vertical-align: middle` to align replaced elements more sensibly by default. (https://github.com/jensimmons/cssremedy/issues/14#issuecomment-634934210)
   This can trigger a poorly considered lint error in some tools but is included by design.
*/

img,
svg,
video,
canvas,
audio,
iframe,
embed,
object {
    display: block;
    /* 1 */
    vertical-align: middle;
    /* 2 */
}

/*
Constrain images and videos to the parent width and preserve their intrinsic aspect ratio. (https://github.com/mozdevs/cssremedy/issues/14)
*/

img,
video {
    max-width: 100%;
    height: auto;
}

/* Make elements with the HTML hidden attribute stay hidden by default */

[hidden]:where(:not([hidden="until-found"])) {
    display: none;
}

[data-popper-arrow], [data-popper-arrow]:before {
    position: absolute;
    width: 8px;
    height: 8px;
    background: inherit;
}

[data-popper-arrow] {
    visibility: hidden;
}

[data-popper-arrow]:before {
    content: "";
    visibility: visible;
    transform: rotate(45deg);
}

[data-popper-arrow]:after {
    content: "";
    visibility: visible;
    transform: rotate(45deg);
    position: absolute;
    width: 9px;
    height: 9px;
    background: inherit;
}

[role="tooltip"] > [data-popper-arrow]:before {
    border-style: solid;
    border-color: var(--color-gray-200);
}

[role="tooltip"] > [data-popper-arrow]:after {
    border-style: solid;
    border-color: var(--color-gray-200);
}

[data-popover][role="tooltip"][data-popper-placement^='top'] > [data-popper-arrow]:before {
    border-bottom-width: 1px;
    border-right-width: 1px;
}

[data-popover][role="tooltip"][data-popper-placement^='top'] > [data-popper-arrow]:after {
    border-bottom-width: 1px;
    border-right-width: 1px;
}

[data-popover][role="tooltip"][data-popper-placement^='right'] > [data-popper-arrow]:before {
    border-bottom-width: 1px;
    border-left-width: 1px;
}

[data-popover][role="tooltip"][data-popper-placement^='right'] > [data-popper-arrow]:after {
    border-bottom-width: 1px;
    border-left-width: 1px;
}

[data-popover][role="tooltip"][data-popper-placement^='bottom'] > [data-popper-arrow]:before {
    border-top-width: 1px;
    border-left-width: 1px;
}

[data-popover][role="tooltip"][data-popper-placement^='bottom'] > [data-popper-arrow]:after {
    border-top-width: 1px;
    border-left-width: 1px;
}

[data-popover][role="tooltip"][data-popper-placement^='left'] > [data-popper-arrow]:before {
    border-top-width: 1px;
    border-right-width: 1px;
}

[data-popover][role="tooltip"][data-popper-placement^='left'] > [data-popper-arrow]:after {
    border-top-width: 1px;
    border-right-width: 1px;
}

[data-popover][role="tooltip"][data-popper-placement^='top'] > [data-popper-arrow] {
    bottom: -5px;
}

[data-popover][role="tooltip"][data-popper-placement^='bottom'] > [data-popper-arrow] {
    top: -5px;
}

[data-popover][role="tooltip"][data-popper-placement^='left'] > [data-popper-arrow] {
    right: -5px;
}

[data-popover][role="tooltip"][data-popper-placement^='right'] > [data-popper-arrow] {
    left: -5px;
}

[type='text'], [type='email'], [type='url'], [type='password'], [type='number'], [type='date'], [type='datetime-local'], [type='month'], [type='search'], [type='tel'], [type='time'], [type='week'], [multiple], textarea, select {
    -webkit-appearance: none;
    -moz-appearance: none;
    appearance: none;
    background-color: #fff;
    border-color: var(--color-gray-500);
    border-width: 1px;
    border-radius: 0px;
    padding-top: 0.5rem;
    padding-right: 0.75rem;
    padding-bottom: 0.5rem;
    padding-left: 0.75rem;
    font-size: 1rem;
    line-height: 1.5rem;
    --tw-shadow: 0 0 #0000;
}

[type='text']:focus, [type='email']:focus, [type='url']:focus, [type='password']:focus, [type='number']:focus, [type='date']:focus, [type='datetime-local']:focus, [type='month']:focus, [type='search']:focus, [type='tel']:focus, [type='time']:focus, [type='week']:focus, [multiple]:focus, textarea:focus, select:focus {
    outline: 2px solid transparent;
    outline-offset: 2px;
    --tw-ring-inset: var(--tw-empty, /*!*/ /*!*/);
    --tw-ring-offset-width: 0px;
    --tw-ring-offset-color: #fff;
    --tw-ring-color: var(--color-blue-600);
    --tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);
    --tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color);
    box-shadow: var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);
    border-color: var(--color-blue-600);
}

input::-moz-placeholder, textarea::-moz-placeholder {
    color: var(--color-gray-500);
    opacity: 1;
}

input::placeholder, textarea::placeholder {
    color: var(--color-gray-500);
    opacity: 1;
}

::-webkit-datetime-edit-fields-wrapper {
    padding: 0;
}

input[type="time"]::-webkit-calendar-picker-indicator {
    background: none;
}

select:not([size]) {
    background-image: url("data:image/svg+xml,%3csvg aria-hidden='true' xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 10 6'%3e %3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m1 1 4 4 4-4'/%3e %3c/svg%3e");
    background-position: right 0.75rem center;
    background-repeat: no-repeat;
    background-size: 0.75em 0.75em;
    padding-right: 2.5rem;
    -webkit-print-color-adjust: exact;
    print-color-adjust: exact;
}

:is([dir=rtl]) select:not([size]) {
    background-position: left 0.75rem center;
    padding-right: 0.75rem;
    padding-left: 0;
}

[multiple] {
    background-image: initial;
    background-position: initial;
    background-repeat: unset;
    background-size: initial;
    padding-right: 0.75rem;
    -webkit-print-color-adjust: unset;
    print-color-adjust: unset;
}

[type='checkbox'], [type='radio'] {
    -webkit-appearance: none;
    -moz-appearance: none;
    appearance: none;
    padding: 0;
    -webkit-print-color-adjust: exact;
    print-color-adjust: exact;
    display: inline-block;
    vertical-align: middle;
    background-origin: border-box;
    -webkit-user-select: none;
    -moz-user-select: none;
    user-select: none;
    flex-shrink: 0;
    height: 1rem;
    width: 1rem;
    color: var(--color-blue-600);
    background-color: #fff;
    border-color: --color-gray-500;
    border-width: 1px;
    --tw-shadow: 0 0 #0000;
}

[type='checkbox'] {
    border-radius: 0px;
}

[type='radio'] {
    border-radius: 100%;
}

[type='checkbox']:focus, [type='radio']:focus {
    outline: 2px solid transparent;
    outline-offset: 2px;
    --tw-ring-inset: var(--tw-empty, /*!*/ /*!*/);
    --tw-ring-offset-width: 2px;
    --tw-ring-offset-color: #fff;
    --tw-ring-color: var(--color-blue-600);
    --tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);
    --tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);
    box-shadow: var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);
}

[type='checkbox']:checked, [type='radio']:checked, .dark [type='checkbox']:checked, .dark [type='radio']:checked {
    border-color: transparent !important;
    background-color: currentColor !important;
    background-size: 0.55em 0.55em;
    background-position: center;
    background-repeat: no-repeat;
}

[type='checkbox']:checked {
    background-image: url("data:image/svg+xml,%3csvg aria-hidden='true' xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 16 12'%3e %3cpath stroke='white' stroke-linecap='round' stroke-linejoin='round' stroke-width='3' d='M1 5.917 5.724 10.5 15 1.5'/%3e %3c/svg%3e");
    background-repeat: no-repeat;
    background-size: 0.55em 0.55em;
    -webkit-print-color-adjust: exact;
    print-color-adjust: exact;
}

[type='radio']:checked {
    background-image: url("data:image/svg+xml,%3csvg viewBox='0 0 16 16' fill='white' xmlns='http://www.w3.org/2000/svg'%3e%3ccircle cx='8' cy='8' r='3'/%3e%3c/svg%3e");
    background-size: 1em 1em;
}

[type='checkbox']:indeterminate {
    background-image: url("data:image/svg+xml,%3csvg aria-hidden='true' xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 16 12'%3e %3cpath stroke='white' stroke-linecap='round' stroke-linejoin='round' stroke-width='3' d='M0.5 6h14'/%3e %3c/svg%3e");
    background-color: currentColor !important;
    border-color: transparent !important;
    background-position: center;
    background-repeat: no-repeat;
    background-size: 0.55em 0.55em;
    -webkit-print-color-adjust: exact;
    print-color-adjust: exact;
}

[type='checkbox']:indeterminate:hover, [type='checkbox']:indeterminate:focus {
    border-color: transparent !important;
    background-color: currentColor !important;
}

[type='file'] {
    background: unset;
    border-color: inherit;
    border-width: 0;
    border-radius: 0;
    padding: 0;
    font-size: unset;
    line-height: inherit;
}

[type='file']:focus {
    outline: 1px auto inherit;
}

input[type=file]::file-selector-button {
    color: white;
    background: var(--color-gray-800);
    border: 0;
    font-weight: 500;
    font-size: 0;
    cursor: pointer;
    padding-top: 0.625rem;
    padding-bottom: 0.625rem;
    padding-left: 2rem;
    padding-right: 1rem;
    margin-inline-start: -1rem;
    margin-inline-end: 1rem;
}

input[type=file]::file-selector-button:hover {
    background: var(--color-gray-700);
}

:is([dir=rtl]) input[type=file]::file-selector-button {
    padding-right: 2rem;
    padding-left: 1rem;
}

input[type="range"]::-webkit-slider-thumb {
    height: 1.25rem;
    width: 1.25rem;
    background: var(--color-blue-600);
    border-radius: 9999px;
    border: 0;
    appearance: none;
    -moz-appearance: none;
    -webkit-appearance: none;
    cursor: pointer;
}

input[type="range"]:disabled::-webkit-slider-thumb {
    background: var(--color-gray-400);
}

input[type="range"]:focus::-webkit-slider-thumb {
    outline: 2px solid transparent;
    outline-offset: 2px;
    --tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);
    --tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(4px + var(--tw-ring-offset-width)) var(--tw-ring-color);
    box-shadow: var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000);
    --tw-ring-opacity: 1px;
    --tw-ring-color: rgb(164 202 254 / var(--tw-ring-opacity));
}

input[type="range"]::-moz-range-thumb {
    height: 1.25rem;
    width: 1.25rem;
    background: var(--color-blue-600);
    border-radius: 9999px;
    border: 0;
    appearance: none;
    -moz-appearance: none;
    -webkit-appearance: none;
    cursor: pointer;
}

input[type="range"]:disabled::-moz-range-thumb {
    background: var(--color-gray-400);
}

input[type="range"]::-moz-range-progress {
    background: var(--color-blue-500);
}

input[type="range"]::-ms-fill-lower {
    background: var(--color-blue-500);
}

.datatable-wrapper .datatable-table tbody tr.selected {
    background-color: var(--color-gray-100);
}

.dark .datatable-wrapper .datatable-table tbody tr.selected {
    background-color: var(--color-gray-700);
}

.sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border-width: 0;
}

.fixed {
    position: fixed;
}

.absolute {
    position: absolute;
}

.relative {
    position: relative;
}

.sticky {
    position: sticky;
}

.inset-0 {
    inset: 0px;
}

.inset-y-0 {
    top: 0px;
    bottom: 0px;
}

.-right-1 {
    right: -0.25rem;
}

.-top-1 {
    top: -0.25rem;
}

.bottom-0 {
    bottom: 0px;
}

.left-0 {
    left: 0px;
}

.left-\[10rem\] {
    left: 10rem;
}

.left-\[15rem\] {
    left: 15rem;
}

.right-0 {
    right: 0px;
}

.right-2\.5 {
    right: 0.625rem;
}

.start-0 {
    inset-inline-start: 0px;
}

.top-0 {
    top: 0px;
}

.top-2 {
    top: 0.5rem;
}

.z-10 {
    z-index: 10;
}

.z-20 {
    z-index: 20;
}

.z-30 {
    z-index: 30;
}

.z-40 {
    z-index: 40;
}

.z-50 {
    z-index: 50;
}

.col-span-2 {
    grid-column: span 2 / span 2;
}

.m-0 {
    margin: 0px;
}

.m-auto {
    margin: auto;
}

.mx-12 {
    margin-left: 3rem;
    margin-right: 3rem;
}

.mx-20 {
    margin-left: 5rem;
    margin-right: 5rem;
}

.mx-4 {
    margin-left: 1rem;
    margin-right: 1rem;
}

.mx-6 {
    margin-left: 1.5rem;
    margin-right: 1.5rem;
}

.mx-auto {
    margin-left: auto;
    margin-right: auto;
}

.my-3 {
    margin-top: 0.75rem;
    margin-bottom: 0.75rem;
}

.my-4 {
    margin-top: 1rem;
    margin-bottom: 1rem;
}

.my-5 {
    margin-top: 1.25rem;
    margin-bottom: 1.25rem;
}

.my-6 {
    margin-top: 1.5rem;
    margin-bottom: 1.5rem;
}

.my-8 {
    margin-top: 2rem;
    margin-bottom: 2rem;
}

.-mt-1 {
    margin-top: -0.25rem;
}

.-mt-14 {
    margin-top: -3.5rem;
}

.-mt-20 {
    margin-top: -5rem;
}

.mb-1 {
    margin-bottom: 0.25rem;
}

.mb-10 {
    margin-bottom: 2.5rem;
}

.mb-2 {
    margin-bottom: 0.5rem;
}

.mb-3 {
    margin-bottom: 0.75rem;
}

.mb-4 {
    margin-bottom: 1rem;
}

.mb-5 {
    margin-bottom: 1.25rem;
}

.mb-6 {
    margin-bottom: 1.5rem;
}

.mb-8 {
    margin-bottom: 2rem;
}

.ml-1 {
    margin-left: 0.25rem;
}

.ml-2 {
    margin-left: 0.5rem;
}

.ml-3 {
    margin-left: 0.75rem;
}

.ml-4 {
    margin-left: 1rem;
}

.mr-2 {
    margin-right: 0.5rem;
}

.mr-3 {
    margin-right: 0.75rem;
}

.ms-3 {
    margin-inline-start: 0.75rem;
}

.ms-4 {
    margin-inline-start: 1rem;
}

.mt-1 {
    margin-top: 0.25rem;
}

.mt-10 {
    margin-top: 2.5rem;
}

.mt-12 {
    margin-top: 3rem;
}

.mt-2 {
    margin-top: 0.5rem;
}

.mt-4 {
    margin-top: 1rem;
}

.mt-6 {
    margin-top: 1.5rem;
}

.mt-8 {
    margin-top: 2rem;
}

.mt-9 {
    margin-top: 2.25rem;
}

.mt-auto {
    margin-top: auto;
}

.block {
    display: block;
}

.flex {
    display: flex;
}

.inline-flex {
    display: inline-flex;
}

.flow-root {
    display: flow-root;
}

.grid {
    display: grid;
}

.hidden {
    display: none;
}

.h-0\.5 {
    height: 0.125rem;
}

.h-1\/2 {
    height: 50%;
}

.h-10 {
    height: 2.5rem;
}

.h-12 {
    height: 3rem;
}

.h-14 {
    height: 3.5rem;
}

.h-16 {
    height: 4rem;
}

.h-2 {
    height: 0.5rem;
}

.h-24 {
    height: 6rem;
}

.h-28 {
    height: 7rem;
}

.h-3\/4 {
    height: 75%;
}

.h-4 {
    height: 1rem;
}

.h-40 {
    height: 10rem;
}

.h-44 {
    height: 11rem;
}

.h-48 {
    height: 12rem;
}

.h-5 {
    height: 1.25rem;
}

.h-52 {
    height: 13rem;
}

.h-6 {
    height: 1.5rem;
}

.h-64 {
    height: 16rem;
}

.h-8 {
    height: 2rem;
}

.h-9 {
    height: 2.25rem;
}

.h-\[45px\] {
    height: 45px;
}

.h-auto {
    height: auto;
}

.h-full {
    height: 100%;
}

.h-screen {
    height: 100vh;
}

.max-h-44 {
    max-height: 11rem;
}

.max-h-48 {
    max-height: 12rem;
}

.max-h-\[80\%\] {
    max-height: 80%;
}

.min-h-\[80vh\] {
    min-height: 80vh;
}

.min-h-screen {
    min-height: 100vh;
}

.w-1\/2 {
    width: 50%;
}

.w-10 {
    width: 2.5rem;
}

.w-12 {
    width: 3rem;
}

.w-24 {
    width: 6rem;
}

.w-28 {
    width: 7rem;
}

.w-3\/5 {
    width: 60%;
}

.w-4 {
    width: 1rem;
}

.w-40 {
    width: 10rem;
}

.w-5 {
    width: 1.25rem;
}

.w-6 {
    width: 1.5rem;
}

.w-64 {
    width: 16rem;
}

.w-72 {
    width: 18rem;
}

.w-8 {
    width: 2rem;
}

.w-80 {
    width: 20rem;
}

.w-96 {
    width: 24rem;
}

.w-full {
    width: 100%;
}

.w-max {
    width: -moz-max-content;
    width: max-content;
}

.w-screen {
    width: 100vw;
}

.min-w-0 {
    min-width: 0px;
}

.min-w-36 {
    min-width: 9rem;
}

.max-w-6xl {
    max-width: 72rem;
}

.max-w-72 {
    max-width: 18rem;
}

.max-w-7xl {
    max-width: 80rem;
}

.max-w-96 {
    max-width: 24rem;
}

.max-w-full {
    max-width: 100%;
}

.max-w-lg {
    max-width: 32rem;
}

.max-w-md {
    max-width: 28rem;
}

.max-w-screen-xl {
    max-width: 1280px;
}

.max-w-sm {
    max-width: 24rem;
}

.max-w-xs {
    max-width: 20rem;
}

.flex-1 {
    flex: 1 1 0%;
}

.flex-shrink-0 {
    flex-shrink: 0;
}

.shrink-0 {
    flex-shrink: 0;
}

.flex-grow {
    flex-grow: 1;
}

.-translate-x-full {
    --tw-translate-x: -100%;
    transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));
}

.translate-x-full {
    --tw-translate-x: 100%;
    transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));
}

.rotate-180 {
    --tw-rotate: 180deg;
    transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));
}

.transform {
    transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));
}

.cursor-pointer {
    cursor: pointer;
}

.list-none {
    list-style-type: none;
}

.grid-cols-1 {
    grid-template-columns: repeat(1, minmax(0, 1fr));
}

.grid-cols-2 {
    grid-template-columns: repeat(2, minmax(0, 1fr));
}

.grid-cols-3 {
    grid-template-columns: repeat(3, minmax(0, 1fr));
}

.grid-cols-5 {
    grid-template-columns: repeat(5, minmax(0, 1fr));
}

.grid-rows-1 {
    grid-template-rows: repeat(1, minmax(0, 1fr));
}

.grid-rows-2 {
    grid-template-rows: repeat(2, minmax(0, 1fr));
}

.flex-col {
    flex-direction: column;
}

.flex-wrap {
    flex-wrap: wrap;
}

.items-start {
    align-items: flex-start;
}

.items-center {
    align-items: center;
}

.justify-end {
    justify-content: flex-end;
}

.justify-center {
    justify-content: center;
}

.justify-between {
    justify-content: space-between;
}

.gap-2 {
    gap: 0.5rem;
}

.gap-3 {
    gap: 0.75rem;
}

.gap-4 {
    gap: 1rem;
}

.gap-6 {
    gap: 1.5rem;
}

.gap-8 {
    gap: 2rem;
}

.gap-x-4 {
    -moz-column-gap: 1rem;
    column-gap: 1rem;
}

.gap-y-10 {
    row-gap: 2.5rem;
}

.gap-y-5 {
    row-gap: 1.25rem;
}

.gap-y-6 {
    row-gap: 1.5rem;
}

.gap-y-8 {
    row-gap: 2rem;
}

.space-x-1 > :not([hidden]) ~ :not([hidden]) {
    --tw-space-x-reverse: 0;
    margin-right: calc(0.25rem * var(--tw-space-x-reverse));
    margin-left: calc(0.25rem * calc(1 - var(--tw-space-x-reverse)));
}

.space-x-2 > :not([hidden]) ~ :not([hidden]) {
    --tw-space-x-reverse: 0;
    margin-right: calc(0.5rem * var(--tw-space-x-reverse));
    margin-left: calc(0.5rem * calc(1 - var(--tw-space-x-reverse)));
}

.space-x-3 > :not([hidden]) ~ :not([hidden]) {
    --tw-space-x-reverse: 0;
    margin-right: calc(0.75rem * var(--tw-space-x-reverse));
    margin-left: calc(0.75rem * calc(1 - var(--tw-space-x-reverse)));
}

.space-x-4 > :not([hidden]) ~ :not([hidden]) {
    --tw-space-x-reverse: 0;
    margin-right: calc(1rem * var(--tw-space-x-reverse));
    margin-left: calc(1rem * calc(1 - var(--tw-space-x-reverse)));
}

.space-y-1\.5 > :not([hidden]) ~ :not([hidden]) {
    --tw-space-y-reverse: 0;
    margin-top: calc(0.375rem * calc(1 - var(--tw-space-y-reverse)));
    margin-bottom: calc(0.375rem * var(--tw-space-y-reverse));
}

.space-y-10 > :not([hidden]) ~ :not([hidden]) {
    --tw-space-y-reverse: 0;
    margin-top: calc(2.5rem * calc(1 - var(--tw-space-y-reverse)));
    margin-bottom: calc(2.5rem * var(--tw-space-y-reverse));
}

.space-y-2 > :not([hidden]) ~ :not([hidden]) {
    --tw-space-y-reverse: 0;
    margin-top: calc(0.5rem * calc(1 - var(--tw-space-y-reverse)));
    margin-bottom: calc(0.5rem * var(--tw-space-y-reverse));
}

.space-y-3 > :not([hidden]) ~ :not([hidden]) {
    --tw-space-y-reverse: 0;
    margin-top: calc(0.75rem * calc(1 - var(--tw-space-y-reverse)));
    margin-bottom: calc(0.75rem * var(--tw-space-y-reverse));
}

.space-y-4 > :not([hidden]) ~ :not([hidden]) {
    --tw-space-y-reverse: 0;
    margin-top: calc(1rem * calc(1 - var(--tw-space-y-reverse)));
    margin-bottom: calc(1rem * var(--tw-space-y-reverse));
}

.space-y-5 > :not([hidden]) ~ :not([hidden]) {
    --tw-space-y-reverse: 0;
    margin-top: calc(1.25rem * calc(1 - var(--tw-space-y-reverse)));
    margin-bottom: calc(1.25rem * var(--tw-space-y-reverse));
}

.space-y-6 > :not([hidden]) ~ :not([hidden]) {
    --tw-space-y-reverse: 0;
    margin-top: calc(1.5rem * calc(1 - var(--tw-space-y-reverse)));
    margin-bottom: calc(1.5rem * var(--tw-space-y-reverse));
}

.space-y-8 > :not([hidden]) ~ :not([hidden]) {
    --tw-space-y-reverse: 0;
    margin-top: calc(2rem * calc(1 - var(--tw-space-y-reverse)));
    margin-bottom: calc(2rem * var(--tw-space-y-reverse));
}

.divide-y > :not([hidden]) ~ :not([hidden]) {
    --tw-divide-y-reverse: 0;
    border-top-width: calc(1px * calc(1 - var(--tw-divide-y-reverse)));
    border-bottom-width: calc(1px * var(--tw-divide-y-reverse));
}

.divide-gray-100 > :not([hidden]) ~ :not([hidden]) {
    --tw-divide-opacity: 1;
    border-color: rgb(243 244 246 / var(--tw-divide-opacity, 1));
}

.divide-gray-200 > :not([hidden]) ~ :not([hidden]) {
    --tw-divide-opacity: 1;
    border-color: rgb(229 231 235 / var(--tw-divide-opacity, 1));
}

.overflow-hidden {
    overflow: hidden;
}

.overflow-y-auto {
    overflow-y: auto;
}

.truncate {
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

.whitespace-nowrap {
    white-space: nowrap;
}

.rounded {
    border-radius: 0.25rem;
}

.rounded-full {
    border-radius: 9999px;
}

.rounded-lg {
    border-radius: 0.5rem;
}

.rounded-md {
    border-radius: 0.375rem;
}

.rounded-sm {
    border-radius: 0.125rem;
}

.rounded-xl {
    border-radius: 0.75rem;
}

.rounded-tl-lg {
    border-top-left-radius: 0.5rem;
}

.rounded-tr-lg {
    border-top-right-radius: 0.5rem;
}

.border {
    border-width: 1px;
}

.border-2 {
    border-width: 2px;
}

.border-4 {
    border-width: 4px;
}

.border-b {
    border-bottom-width: 1px;
}

.border-b-2 {
    border-bottom-width: 2px;
}

.border-t {
    border-top-width: 1px;
}

.border-dashed {
    border-style: dashed;
}

.border-\[\#00205b\] {
    --tw-border-opacity: 1;
    border-color: rgb(0 32 91 / var(--tw-border-opacity, 1));
}

.border-blueCertus {
    --tw-border-opacity: 1;
    border-color: rgb(0 86 160 / var(--tw-border-opacity, 1));
}

.border-gray-100 {
    --tw-border-opacity: 1;
    border-color: rgb(243 244 246 / var(--tw-border-opacity, 1));
}

.border-gray-200 {
    --tw-border-opacity: 1;
    border-color: rgb(229 231 235 / var(--tw-border-opacity, 1));
}

.border-gray-300 {
    --tw-border-opacity: 1;
    border-color: rgb(209 213 219 / var(--tw-border-opacity, 1));
}

.border-gray-400 {
    --tw-border-opacity: 1;
    border-color: rgb(156 163 175 / var(--tw-border-opacity, 1));
}

.border-gray-500 {
    --tw-border-opacity: 1;
    border-color: rgb(107 114 128 / var(--tw-border-opacity, 1));
}

.border-gray-600 {
    --tw-border-opacity: 1;
    border-color: rgb(75 85 99 / var(--tw-border-opacity, 1));
}

.border-red-500 {
    --tw-border-opacity: 1;
    border-color: rgb(239 68 68 / var(--tw-border-opacity, 1));
}

.border-white {
    --tw-border-opacity: 1;
    border-color: rgb(255 255 255 / var(--tw-border-opacity, 1));
}

.bg-\[\#00205b\] {
    --tw-bg-opacity: 1;
    background-color: rgb(0 32 91 / var(--tw-bg-opacity, 1));
}

.bg-\[\#87C4B3\] {
    --tw-bg-opacity: 1;
    background-color: rgb(135 196 179 / var(--tw-bg-opacity, 1));
}

.bg-\[\#C4BF87\] {
    --tw-bg-opacity: 1;
    background-color: rgb(196 191 135 / var(--tw-bg-opacity, 1));
}

.bg-\[\#EFF6FF\] {
    --tw-bg-opacity: 1;
    background-color: rgb(239 246 255 / var(--tw-bg-opacity, 1));
}

.bg-\[\#F24968\] {
    --tw-bg-opacity: 1;
    background-color: rgb(242 73 104 / var(--tw-bg-opacity, 1));
}

.bg-\[\#F5F5F5\] {
    --tw-bg-opacity: 1;
    background-color: rgb(245 245 245 / var(--tw-bg-opacity, 1));
}

.bg-blue-600 {
    --tw-bg-opacity: 1;
    background-color: rgb(37 99 235 / var(--tw-bg-opacity, 1));
}

.bg-blue-950 {
    --tw-bg-opacity: 1;
    background-color: rgb(23 37 84 / var(--tw-bg-opacity, 1));
}

.bg-blueCertus {
    --tw-bg-opacity: 1;
    background-color: rgb(0 86 160 / var(--tw-bg-opacity, 1));
}

.bg-darkBlueCertus {
    --tw-bg-opacity: 1;
    background-color: rgb(0 32 91 / var(--tw-bg-opacity, 1));
}

.bg-gray-100 {
    --tw-bg-opacity: 1;
    background-color: rgb(243 244 246 / var(--tw-bg-opacity, 1));
}

.bg-gray-200 {
    --tw-bg-opacity: 1;
    background-color: rgb(229 231 235 / var(--tw-bg-opacity, 1));
}

.bg-gray-300 {
    --tw-bg-opacity: 1;
    background-color: rgb(209 213 219 / var(--tw-bg-opacity, 1));
}

.bg-gray-50 {
    --tw-bg-opacity: 1;
    background-color: rgb(249 250 251 / var(--tw-bg-opacity, 1));
}

.bg-gray-800 {
    --tw-bg-opacity: 1;
    background-color: rgb(31 41 55 / var(--tw-bg-opacity, 1));
}

.bg-gray-900 {
    --tw-bg-opacity: 1;
    background-color: rgb(17 24 39 / var(--tw-bg-opacity, 1));
}

.bg-greenCertus {
    --tw-bg-opacity: 1;
    background-color: rgb(0 160 141 / var(--tw-bg-opacity, 1));
}

.bg-purpleCertus {
    --tw-bg-opacity: 1;
    background-color: rgb(166 75 152 / var(--tw-bg-opacity, 1));
}

.bg-red-600 {
    --tw-bg-opacity: 1;
    background-color: rgb(220 38 38 / var(--tw-bg-opacity, 1));
}

.bg-redCertus {
    --tw-bg-opacity: 1;
    background-color: rgb(242 73 104 / var(--tw-bg-opacity, 1));
}

.bg-skyBlueCertus {
    --tw-bg-opacity: 1;
    background-color: rgb(47 186 217 / var(--tw-bg-opacity, 1));
}

.bg-transparent {
    background-color: transparent;
}

.bg-white {
    --tw-bg-opacity: 1;
    background-color: rgb(255 255 255 / var(--tw-bg-opacity, 1));
}

.bg-white\/50 {
    background-color: rgb(255 255 255 / 0.5);
}

.bg-white\/90 {
    background-color: rgb(255 255 255 / 0.9);
}

.bg-gradient-to-r {
    background-image: linear-gradient(to right, var(--tw-gradient-stops));
}

.from-\[\#000000\] {
    --tw-gradient-from: #000000 var(--tw-gradient-from-position);
    --tw-gradient-to: rgb(0 0 0 / 0) var(--tw-gradient-to-position);
    --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to);
}

.from-\[\#00205b\] {
    --tw-gradient-from: #00205b var(--tw-gradient-from-position);
    --tw-gradient-to: rgb(0 32 91 / 0) var(--tw-gradient-to-position);
    --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to);
}

.from-\[\#F5F3FF\] {
    --tw-gradient-from: #F5F3FF var(--tw-gradient-from-position);
    --tw-gradient-to: rgb(245 243 255 / 0) var(--tw-gradient-to-position);
    --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to);
}

.to-\[\#003A9E\] {
    --tw-gradient-to: #003A9E var(--tw-gradient-to-position);
}

.to-\[\#828282\] {
    --tw-gradient-to: #828282 var(--tw-gradient-to-position);
}

.bg-cover {
    background-size: cover;
}

.bg-center {
    background-position: center;
}

.bg-top {
    background-position: top;
}

.object-contain {
    -o-object-fit: contain;
    object-fit: contain;
}

.object-cover {
    -o-object-fit: cover;
    object-fit: cover;
}

.p-0 {
    padding: 0px;
}

.p-0\.5 {
    padding: 0.125rem;
}

.p-2 {
    padding: 0.5rem;
}

.p-2\.5 {
    padding: 0.625rem;
}

.p-3 {
    padding: 0.75rem;
}

.p-4 {
    padding: 1rem;
}

.p-6 {
    padding: 1.5rem;
}

.p-8 {
    padding: 2rem;
}

.px-10 {
    padding-left: 2.5rem;
    padding-right: 2.5rem;
}

.px-2 {
    padding-left: 0.5rem;
    padding-right: 0.5rem;
}

.px-3 {
    padding-left: 0.75rem;
    padding-right: 0.75rem;
}

.px-4 {
    padding-left: 1rem;
    padding-right: 1rem;
}

.px-5 {
    padding-left: 1.25rem;
    padding-right: 1.25rem;
}

.px-52 {
    padding-left: 13rem;
    padding-right: 13rem;
}

.px-6 {
    padding-left: 1.5rem;
    padding-right: 1.5rem;
}

.px-8 {
    padding-left: 2rem;
    padding-right: 2rem;
}

.py-1\.5 {
    padding-top: 0.375rem;
    padding-bottom: 0.375rem;
}

.py-10 {
    padding-top: 2.5rem;
    padding-bottom: 2.5rem;
}

.py-12 {
    padding-top: 3rem;
    padding-bottom: 3rem;
}

.py-2 {
    padding-top: 0.5rem;
    padding-bottom: 0.5rem;
}

.py-2\.5 {
    padding-top: 0.625rem;
    padding-bottom: 0.625rem;
}

.py-3 {
    padding-top: 0.75rem;
    padding-bottom: 0.75rem;
}

.py-4 {
    padding-top: 1rem;
    padding-bottom: 1rem;
}

.py-6 {
    padding-top: 1.5rem;
    padding-bottom: 1.5rem;
}

.py-7 {
    padding-top: 1.75rem;
    padding-bottom: 1.75rem;
}

.py-8 {
    padding-top: 2rem;
    padding-bottom: 2rem;
}

.pb-0 {
    padding-bottom: 0px;
}

.pb-20 {
    padding-bottom: 5rem;
}

.pb-4 {
    padding-bottom: 1rem;
}

.pl-10 {
    padding-left: 2.5rem;
}

.pl-2 {
    padding-left: 0.5rem;
}

.pl-3 {
    padding-left: 0.75rem;
}

.ps-10 {
    padding-inline-start: 2.5rem;
}

.ps-3\.5 {
    padding-inline-start: 0.875rem;
}

.pt-10 {
    padding-top: 2.5rem;
}

.pt-3 {
    padding-top: 0.75rem;
}

.pt-4 {
    padding-top: 1rem;
}

.pt-6 {
    padding-top: 1.5rem;
}

.text-center {
    text-align: center;
}

.text-right {
    text-align: right;
}

.text-start {
    text-align: start;
}

.font-poppins {
    font-family: Poppins, sans-serif;
}

.font-righteous {
    font-family: Righteous, sans-serif;
}

.text-2xl {
    font-size: 1.5rem;
    line-height: 2rem;
}

.text-3xl {
    font-size: 1.875rem;
    line-height: 2.25rem;
}

.text-4xl {
    font-size: 2.25rem;
    line-height: 2.5rem;
}

.text-\[24px\] {
    font-size: 24px;
}

.text-base {
    font-size: 1rem;
    line-height: 1.5rem;
}

.text-lg {
    font-size: 1.125rem;
    line-height: 1.75rem;
}

.text-sm {
    font-size: 0.875rem;
    line-height: 1.25rem;
}

.text-xl {
    font-size: 1.25rem;
    line-height: 1.75rem;
}

.text-xs {
    font-size: 0.75rem;
    line-height: 1rem;
}

.font-bold {
    font-weight: 700;
}

.font-extrabold {
    font-weight: 800;
}

.font-extralight {
    font-weight: 200;
}

.font-light {
    font-weight: 300;
}

.font-medium {
    font-weight: 500;
}

.font-semibold {
    font-weight: 600;
}

.leading-6 {
    line-height: 1.5rem;
}

.leading-none {
    line-height: 1;
}

.leading-relaxed {
    line-height: 1.625;
}

.leading-tight {
    line-height: 1.25;
}

.text-\[\#00205b\] {
    --tw-text-opacity: 1;
    color: rgb(0 32 91 / var(--tw-text-opacity, 1));
}

.text-black {
    --tw-text-opacity: 1;
    color: rgb(0 0 0 / var(--tw-text-opacity, 1));
}

.text-blue-500 {
    --tw-text-opacity: 1;
    color: rgb(59 130 246 / var(--tw-text-opacity, 1));
}

.text-blue-600 {
    --tw-text-opacity: 1;
    color: rgb(37 99 235 / var(--tw-text-opacity, 1));
}

.text-blue-700 {
    --tw-text-opacity: 1;
    color: rgb(29 78 216 / var(--tw-text-opacity, 1));
}

.text-blueCertus {
    --tw-text-opacity: 1;
    color: rgb(0 86 160 / var(--tw-text-opacity, 1));
}

.text-gray-200 {
    --tw-text-opacity: 1;
    color: rgb(229 231 235 / var(--tw-text-opacity, 1));
}

.text-gray-300 {
    --tw-text-opacity: 1;
    color: rgb(209 213 219 / var(--tw-text-opacity, 1));
}

.text-gray-400 {
    --tw-text-opacity: 1;
    color: rgb(156 163 175 / var(--tw-text-opacity, 1));
}

.text-gray-500 {
    --tw-text-opacity: 1;
    color: rgb(107 114 128 / var(--tw-text-opacity, 1));
}

.text-gray-600 {
    --tw-text-opacity: 1;
    color: rgb(75 85 99 / var(--tw-text-opacity, 1));
}

.text-gray-700 {
    --tw-text-opacity: 1;
    color: rgb(55 65 81 / var(--tw-text-opacity, 1));
}

.text-gray-800 {
    --tw-text-opacity: 1;
    color: rgb(31 41 55 / var(--tw-text-opacity, 1));
}

.text-gray-900 {
    --tw-text-opacity: 1;
    color: rgb(17 24 39 / var(--tw-text-opacity, 1));
}

.text-green-600 {
    --tw-text-opacity: 1;
    color: rgb(22 163 74 / var(--tw-text-opacity, 1));
}

.text-red-500 {
    --tw-text-opacity: 1;
    color: rgb(239 68 68 / var(--tw-text-opacity, 1));
}

.text-white {
    --tw-text-opacity: 1;
    color: rgb(255 255 255 / var(--tw-text-opacity, 1));
}

.text-yellow-400 {
    --tw-text-opacity: 1;
    color: rgb(250 204 21 / var(--tw-text-opacity, 1));
}

.underline {
    text-decoration-line: underline;
}

.opacity-70 {
    opacity: 0.7;
}

.shadow {
    --tw-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);
    --tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);
    box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);
}

.shadow-lg {
    --tw-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
    --tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);
    box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);
}

.shadow-md {
    --tw-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
    --tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);
    box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);
}

.shadow-sm {
    --tw-shadow: 0 1px 2px 0 rgb(0 0 0 / 0.05);
    --tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);
    box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);
}

.brightness-\[0\.4\] {
    --tw-brightness: brightness(0.4);
    filter: var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow);
}

.transition {
    transition-property: color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, -webkit-backdrop-filter;
    transition-property: color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter;
    transition-property: color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter, -webkit-backdrop-filter;
    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
    transition-duration: 150ms;
}

.transition-transform {
    transition-property: transform;
    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
    transition-duration: 150ms;
}

.duration-100 {
    transition-duration: 100ms;
}

.duration-150 {
    transition-duration: 150ms;
}

.duration-200 {
    transition-duration: 200ms;
}

.duration-300 {
    transition-duration: 300ms;
}

/* Fuentes definidas */

@font-face {
    font-family: 'Poppins';

    font-style: normal;

    font-weight: 400;

    src: url('fonts/poppins/Poppins-Regular.ttf') format('truetype');
}

@font-face {
    font-family: "Righteous";

    font-weight: 400;

    font-style: normal;

    src: url('fonts/righteous/Righteous-Regular.ttf') format('truetype');
}

.backdrop\:bg-black\/30::backdrop {
    background-color: rgb(0 0 0 / 0.3);
}

.backdrop\:bg-black\/60::backdrop {
    background-color: rgb(0 0 0 / 0.6);
}

.hover\:w-full:hover {
    width: 100%;
}

.hover\:-translate-y-1:hover {
    --tw-translate-y: -0.25rem;
    transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));
}

.hover\:-translate-y-2:hover {
    --tw-translate-y: -0.5rem;
    transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));
}

.hover\:translate-x-4:hover {
    --tw-translate-x: 1rem;
    transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));
}

.hover\:rounded-full:hover {
    border-radius: 9999px;
}

.hover\:border-b-2:hover {
    border-bottom-width: 2px;
}

.hover\:border-skyBlueCertus:hover {
    --tw-border-opacity: 1;
    border-color: rgb(47 186 217 / var(--tw-border-opacity, 1));
}

.hover\:bg-\[\#001a4d\]:hover {
    --tw-bg-opacity: 1;
    background-color: rgb(0 26 77 / var(--tw-bg-opacity, 1));
}

.hover\:bg-blue-50:hover {
    --tw-bg-opacity: 1;
    background-color: rgb(239 246 255 / var(--tw-bg-opacity, 1));
}

.hover\:bg-blue-700:hover {
    --tw-bg-opacity: 1;
    background-color: rgb(29 78 216 / var(--tw-bg-opacity, 1));
}

.hover\:bg-blue-900:hover {
    --tw-bg-opacity: 1;
    background-color: rgb(30 58 138 / var(--tw-bg-opacity, 1));
}

.hover\:bg-gray-100:hover {
    --tw-bg-opacity: 1;
    background-color: rgb(243 244 246 / var(--tw-bg-opacity, 1));
}

.hover\:bg-gray-200:hover {
    --tw-bg-opacity: 1;
    background-color: rgb(229 231 235 / var(--tw-bg-opacity, 1));
}

.hover\:bg-gray-300:hover {
    --tw-bg-opacity: 1;
    background-color: rgb(209 213 219 / var(--tw-bg-opacity, 1));
}

.hover\:bg-gray-50:hover {
    --tw-bg-opacity: 1;
    background-color: rgb(249 250 251 / var(--tw-bg-opacity, 1));
}

.hover\:bg-red-500:hover {
    --tw-bg-opacity: 1;
    background-color: rgb(239 68 68 / var(--tw-bg-opacity, 1));
}

.hover\:bg-skyBlueCertus:hover {
    --tw-bg-opacity: 1;
    background-color: rgb(47 186 217 / var(--tw-bg-opacity, 1));
}

.hover\:text-\[\#00205b\]:hover {
    --tw-text-opacity: 1;
    color: rgb(0 32 91 / var(--tw-text-opacity, 1));
}

.hover\:text-blue-700:hover {
    --tw-text-opacity: 1;
    color: rgb(29 78 216 / var(--tw-text-opacity, 1));
}

.hover\:text-gray-900:hover {
    --tw-text-opacity: 1;
    color: rgb(17 24 39 / var(--tw-text-opacity, 1));
}

.hover\:text-red-500:hover {
    --tw-text-opacity: 1;
    color: rgb(239 68 68 / var(--tw-text-opacity, 1));
}

.hover\:text-skyBlueCertus:hover {
    --tw-text-opacity: 1;
    color: rgb(47 186 217 / var(--tw-text-opacity, 1));
}

.hover\:text-white:hover {
    --tw-text-opacity: 1;
    color: rgb(255 255 255 / var(--tw-text-opacity, 1));
}

.hover\:underline:hover {
    text-decoration-line: underline;
}

.focus\:border-blue-500:focus {
    --tw-border-opacity: 1;
    border-color: rgb(59 130 246 / var(--tw-border-opacity, 1));
}

.focus\:outline-none:focus {
    outline: 2px solid transparent;
    outline-offset: 2px;
}

.focus\:ring-2:focus {
    --tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);
    --tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);
    box-shadow: var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000);
}

.focus\:ring-4:focus {
    --tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);
    --tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(4px + var(--tw-ring-offset-width)) var(--tw-ring-color);
    box-shadow: var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000);
}

.focus\:ring-blue-300:focus {
    --tw-ring-opacity: 1;
    --tw-ring-color: rgb(147 197 253 / var(--tw-ring-opacity, 1));
}

.focus\:ring-blue-500:focus {
    --tw-ring-opacity: 1;
    --tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity, 1));
}

.focus\:ring-gray-200:focus {
    --tw-ring-opacity: 1;
    --tw-ring-color: rgb(229 231 235 / var(--tw-ring-opacity, 1));
}

.focus\:ring-gray-300:focus {
    --tw-ring-opacity: 1;
    --tw-ring-color: rgb(209 213 219 / var(--tw-ring-opacity, 1));
}

.active\:bg-skyBlueCertus:active {
    --tw-bg-opacity: 1;
    background-color: rgb(47 186 217 / var(--tw-bg-opacity, 1));
}

.group:hover .group-hover\:text-white {
    --tw-text-opacity: 1;
    color: rgb(255 255 255 / var(--tw-text-opacity, 1));
}

@media (min-width: 410px) {
    .min-\[410px\]\:mt-6 {
        margin-top: 1.5rem;
    }
}

@media (min-width: 450px) {
    .min-\[450px\]\:my-10 {
        margin-top: 2.5rem;
        margin-bottom: 2.5rem;
    }
}

@media (min-width: 530px) {
    .min-\[530px\]\:right-12 {
        right: 3rem;
    }
}

@media (min-width: 596px) {
    .min-\[596px\]\:-mt-20 {
        margin-top: -5rem;
    }
}

@media (min-width: 640px) {
    .sm\:mx-0 {
        margin-left: 0px;
        margin-right: 0px;
    }

    .sm\:mx-16 {
        margin-left: 4rem;
        margin-right: 4rem;
    }

    .sm\:ml-80 {
        margin-left: 20rem;
    }

    .sm\:mt-0 {
        margin-top: 0px;
    }

    .sm\:flex {
        display: flex;
    }

    .sm\:hidden {
        display: none;
    }

    .sm\:h-20 {
        height: 5rem;
    }

    .sm\:h-28 {
        height: 7rem;
    }

    .sm\:w-28 {
        width: 7rem;
    }

    .sm\:w-52 {
        width: 13rem;
    }

    .sm\:w-96 {
        width: 24rem;
    }

    .sm\:w-auto {
        width: auto;
    }

    .sm\:translate-x-0 {
        --tw-translate-x: 0px;
        transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));
    }

    .sm\:grid-cols-2 {
        grid-template-columns: repeat(2, minmax(0, 1fr));
    }

    .sm\:flex-row {
        flex-direction: row;
    }

    .sm\:items-center {
        align-items: center;
    }

    .sm\:justify-start {
        justify-content: flex-start;
    }

    .sm\:justify-between {
        justify-content: space-between;
    }

    .sm\:space-x-6 > :not([hidden]) ~ :not([hidden]) {
        --tw-space-x-reverse: 0;
        margin-right: calc(1.5rem * var(--tw-space-x-reverse));
        margin-left: calc(1.5rem * calc(1 - var(--tw-space-x-reverse)));
    }

    .sm\:rounded-md {
        border-radius: 0.375rem;
    }

    .sm\:border {
        border-width: 1px;
    }

    .sm\:px-6 {
        padding-left: 1.5rem;
        padding-right: 1.5rem;
    }

    .sm\:px-8 {
        padding-left: 2rem;
        padding-right: 2rem;
    }

    .sm\:py-4 {
        padding-top: 1rem;
        padding-bottom: 1rem;
    }

    .sm\:pb-48 {
        padding-bottom: 12rem;
    }

    .sm\:pt-4 {
        padding-top: 1rem;
    }

    .sm\:pt-8 {
        padding-top: 2rem;
    }

    .sm\:text-left {
        text-align: left;
    }

    .sm\:shadow-xl {
        --tw-shadow: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
        --tw-shadow-colored: 0 20px 25px -5px var(--tw-shadow-color), 0 8px 10px -6px var(--tw-shadow-color);
        box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);
    }
}

@media (min-width: 760px) {
    .min-\[760px\]\:mt-14 {
        margin-top: 3.5rem;
    }
}

@media (min-width: 768px) {
    .md\:absolute {
        position: absolute;
    }

    .md\:relative {
        position: relative;
    }

    .md\:bottom-0 {
        bottom: 0px;
    }

    .md\:left-0 {
        left: 0px;
    }

    .md\:order-1 {
        order: 1;
    }

    .md\:order-2 {
        order: 2;
    }

    .md\:col-span-1 {
        grid-column: span 1 / span 1;
    }

    .md\:col-span-3 {
        grid-column: span 3 / span 3;
    }

    .md\:mx-12 {
        margin-left: 3rem;
        margin-right: 3rem;
    }

    .md\:my-0 {
        margin-top: 0px;
        margin-bottom: 0px;
    }

    .md\:my-16 {
        margin-top: 4rem;
        margin-bottom: 4rem;
    }

    .md\:me-0 {
        margin-inline-end: 0px;
    }

    .md\:mt-0 {
        margin-top: 0px;
    }

    .md\:mt-20 {
        margin-top: 5rem;
    }

    .md\:flex {
        display: flex;
    }

    .md\:grid {
        display: grid;
    }

    .md\:hidden {
        display: none;
    }

    .md\:w-64 {
        width: 16rem;
    }

    .md\:w-auto {
        width: auto;
    }

    .md\:max-w-full {
        max-width: 100%;
    }

    .md\:max-w-none {
        max-width: none;
    }

    .md\:grid-cols-2 {
        grid-template-columns: repeat(2, minmax(0, 1fr));
    }

    .md\:grid-cols-3 {
        grid-template-columns: repeat(3, minmax(0, 1fr));
    }

    .md\:grid-cols-5 {
        grid-template-columns: repeat(5, minmax(0, 1fr));
    }

    .md\:grid-cols-none {
        grid-template-columns: none;
    }

    .md\:grid-rows-1 {
        grid-template-rows: repeat(1, minmax(0, 1fr));
    }

    .md\:grid-rows-none {
        grid-template-rows: none;
    }

    .md\:flex-row {
        flex-direction: row;
    }

    .md\:justify-normal {
        justify-content: normal;
    }

    .md\:gap-y-0 {
        row-gap: 0px;
    }

    .md\:space-x-8 > :not([hidden]) ~ :not([hidden]) {
        --tw-space-x-reverse: 0;
        margin-right: calc(2rem * var(--tw-space-x-reverse));
        margin-left: calc(2rem * calc(1 - var(--tw-space-x-reverse)));
    }

    .md\:space-y-5 > :not([hidden]) ~ :not([hidden]) {
        --tw-space-y-reverse: 0;
        margin-top: calc(1.25rem * calc(1 - var(--tw-space-y-reverse)));
        margin-bottom: calc(1.25rem * var(--tw-space-y-reverse));
    }

    .md\:space-y-8 > :not([hidden]) ~ :not([hidden]) {
        --tw-space-y-reverse: 0;
        margin-top: calc(2rem * calc(1 - var(--tw-space-y-reverse)));
        margin-bottom: calc(2rem * var(--tw-space-y-reverse));
    }

    .md\:rounded-tr-lg {
        border-top-right-radius: 0.5rem;
    }

    .md\:rounded-tr-none {
        border-top-right-radius: 0px;
    }

    .md\:border-0 {
        border-width: 0px;
    }

    .md\:bg-transparent {
        background-color: transparent;
    }

    .md\:bg-white {
        --tw-bg-opacity: 1;
        background-color: rgb(255 255 255 / var(--tw-bg-opacity, 1));
    }

    .md\:p-0 {
        padding: 0px;
    }

    .md\:px-6 {
        padding-left: 1.5rem;
        padding-right: 1.5rem;
    }

    .md\:py-14 {
        padding-top: 3.5rem;
        padding-bottom: 3.5rem;
    }

    .md\:py-4 {
        padding-top: 1rem;
        padding-bottom: 1rem;
    }

    .md\:pb-4 {
        padding-bottom: 1rem;
    }

    .md\:pt-0 {
        padding-top: 0px;
    }

    .md\:text-left {
        text-align: left;
    }

    .md\:text-base {
        font-size: 1rem;
        line-height: 1.5rem;
    }

    .md\:text-blue-700 {
        --tw-text-opacity: 1;
        color: rgb(29 78 216 / var(--tw-text-opacity, 1));
    }

    .md\:hover\:bg-transparent:hover {
        background-color: transparent;
    }

    .md\:hover\:text-blue-700:hover {
        --tw-text-opacity: 1;
        color: rgb(29 78 216 / var(--tw-text-opacity, 1));
    }
}

@media (min-width: 1024px) {
    .lg\:order-1 {
        order: 1;
    }

    .lg\:order-2 {
        order: 2;
    }

    .lg\:col-span-1 {
        grid-column: span 1 / span 1;
    }

    .lg\:col-span-2 {
        grid-column: span 2 / span 2;
    }

    .lg\:mx-12 {
        margin-left: 3rem;
        margin-right: 3rem;
    }

    .lg\:my-10 {
        margin-top: 2.5rem;
        margin-bottom: 2.5rem;
    }

    .lg\:-mt-28 {
        margin-top: -7rem;
    }

    .lg\:ml-36 {
        margin-left: 9rem;
    }

    .lg\:flex {
        display: flex;
    }

    .lg\:h-24 {
        height: 6rem;
    }

    .lg\:h-36 {
        height: 9rem;
    }

    .lg\:h-\[68px\] {
        height: 68px;
    }

    .lg\:h-\[90\%\] {
        height: 90%;
    }

    .lg\:w-1\/2 {
        width: 50%;
    }

    .lg\:w-32 {
        width: 8rem;
    }

    .lg\:w-36 {
        width: 9rem;
    }

    .lg\:w-40 {
        width: 10rem;
    }

    .lg\:w-72 {
        width: 18rem;
    }

    .lg\:w-\[400px\] {
        width: 400px;
    }

    .lg\:min-w-40 {
        min-width: 10rem;
    }

    .lg\:max-w-md {
        max-width: 28rem;
    }

    .lg\:flex-shrink-0 {
        flex-shrink: 0;
    }

    .lg\:grid-cols-2 {
        grid-template-columns: repeat(2, minmax(0, 1fr));
    }

    .lg\:grid-cols-3 {
        grid-template-columns: repeat(3, minmax(0, 1fr));
    }

    .lg\:flex-row {
        flex-direction: row;
    }

    .lg\:flex-col {
        flex-direction: column;
    }

    .lg\:gap-6 {
        gap: 1.5rem;
    }

    .lg\:gap-x-12 {
        -moz-column-gap: 3rem;
        column-gap: 3rem;
    }

    .lg\:space-x-1 > :not([hidden]) ~ :not([hidden]) {
        --tw-space-x-reverse: 0;
        margin-right: calc(0.25rem * var(--tw-space-x-reverse));
        margin-left: calc(0.25rem * calc(1 - var(--tw-space-x-reverse)));
    }

    .lg\:space-x-3 > :not([hidden]) ~ :not([hidden]) {
        --tw-space-x-reverse: 0;
        margin-right: calc(0.75rem * var(--tw-space-x-reverse));
        margin-left: calc(0.75rem * calc(1 - var(--tw-space-x-reverse)));
    }

    .lg\:space-y-12 > :not([hidden]) ~ :not([hidden]) {
        --tw-space-y-reverse: 0;
        margin-top: calc(3rem * calc(1 - var(--tw-space-y-reverse)));
        margin-bottom: calc(3rem * var(--tw-space-y-reverse));
    }

    .lg\:border {
        border-width: 1px;
    }

    .lg\:bg-blueCertus {
        --tw-bg-opacity: 1;
        background-color: rgb(0 86 160 / var(--tw-bg-opacity, 1));
    }

    .lg\:px-12 {
        padding-left: 3rem;
        padding-right: 3rem;
    }

    .lg\:px-6 {
        padding-left: 1.5rem;
        padding-right: 1.5rem;
    }

    .lg\:px-8 {
        padding-left: 2rem;
        padding-right: 2rem;
    }

    .lg\:py-2 {
        padding-top: 0.5rem;
        padding-bottom: 0.5rem;
    }

    .lg\:text-2xl {
        font-size: 1.5rem;
        line-height: 2rem;
    }

    .lg\:text-3xl {
        font-size: 1.875rem;
        line-height: 2.25rem;
    }

    .lg\:text-4xl {
        font-size: 2.25rem;
        line-height: 2.5rem;
    }

    .lg\:text-\[27px\] {
        font-size: 27px;
    }

    .lg\:text-lg {
        font-size: 1.125rem;
        line-height: 1.75rem;
    }

    .lg\:text-white {
        --tw-text-opacity: 1;
        color: rgb(255 255 255 / var(--tw-text-opacity, 1));
    }
}

@media (min-width: 1100px) {
    .min-\[1100px\]\:flex {
        display: flex;
    }

    .min-\[1100px\]\:hidden {
        display: none;
    }
}

@media (min-width: 1180px) {
    .min-\[1180px\]\:-mt-36 {
        margin-top: -9rem;
    }
}

@media (min-width: 1280px) {
    .xl\:col-span-1 {
        grid-column: span 1 / span 1;
    }

    .xl\:m-0 {
        margin: 0px;
    }

    .xl\:mx-36 {
        margin-left: 9rem;
        margin-right: 9rem;
    }

    .xl\:mx-60 {
        margin-left: 15rem;
        margin-right: 15rem;
    }

    .xl\:my-14 {
        margin-top: 3.5rem;
        margin-bottom: 3.5rem;
    }

    .xl\:my-20 {
        margin-top: 5rem;
        margin-bottom: 5rem;
    }

    .xl\:mt-32 {
        margin-top: 8rem;
    }

    .xl\:h-32 {
        height: 8rem;
    }

    .xl\:h-40 {
        height: 10rem;
    }

    .xl\:w-40 {
        width: 10rem;
    }

    .xl\:grid-cols-3 {
        grid-template-columns: repeat(3, minmax(0, 1fr));
    }

    .xl\:grid-cols-4 {
        grid-template-columns: repeat(4, minmax(0, 1fr));
    }

    .xl\:grid-rows-1 {
        grid-template-rows: repeat(1, minmax(0, 1fr));
    }

    .xl\:gap-0 {
        gap: 0px;
    }

    .xl\:gap-x-16 {
        -moz-column-gap: 4rem;
        column-gap: 4rem;
    }

    .xl\:space-y-12 > :not([hidden]) ~ :not([hidden]) {
        --tw-space-y-reverse: 0;
        margin-top: calc(3rem * calc(1 - var(--tw-space-y-reverse)));
        margin-bottom: calc(3rem * var(--tw-space-y-reverse));
    }

    .xl\:px-36 {
        padding-left: 9rem;
        padding-right: 9rem;
    }

    .xl\:text-lg {
        font-size: 1.125rem;
        line-height: 1.75rem;
    }
}

@media (min-width: 1536px) {
    .\32xl\:mx-52 {
        margin-left: 13rem;
        margin-right: 13rem;
    }

    .\32xl\:mx-60 {
        margin-left: 15rem;
        margin-right: 15rem;
    }

    .\32xl\:mt-40 {
        margin-top: 10rem;
    }

    .\32xl\:grid-cols-4 {
        grid-template-columns: repeat(4, minmax(0, 1fr));
    }

    .\32xl\:px-60 {
        padding-left: 15rem;
        padding-right: 15rem;
    }
}

@media (min-width: 1670px) {
    .min-\[1670px\]\:pt-6 {
        padding-top: 1.5rem;
    }
}

.rtl\:space-x-reverse:where([dir="rtl"], [dir="rtl"] *) > :not([hidden]) ~ :not([hidden]) {
    --tw-space-x-reverse: 1;
}

@media (prefers-color-scheme: dark) {
    .dark\:divide-gray-600 > :not([hidden]) ~ :not([hidden]) {
        --tw-divide-opacity: 1;
        border-color: rgb(75 85 99 / var(--tw-divide-opacity, 1));
    }

    .dark\:divide-gray-700 > :not([hidden]) ~ :not([hidden]) {
        --tw-divide-opacity: 1;
        border-color: rgb(55 65 81 / var(--tw-divide-opacity, 1));
    }

    .dark\:border-gray-600 {
        --tw-border-opacity: 1;
        border-color: rgb(75 85 99 / var(--tw-border-opacity, 1));
    }

    .dark\:bg-gray-700 {
        --tw-bg-opacity: 1;
        background-color: rgb(55 65 81 / var(--tw-bg-opacity, 1));
    }

    .dark\:bg-gray-800 {
        --tw-bg-opacity: 1;
        background-color: rgb(31 41 55 / var(--tw-bg-opacity, 1));
    }

    .dark\:text-gray-300 {
        --tw-text-opacity: 1;
        color: rgb(209 213 219 / var(--tw-text-opacity, 1));
    }

    .dark\:text-gray-400 {
        --tw-text-opacity: 1;
        color: rgb(156 163 175 / var(--tw-text-opacity, 1));
    }

    .dark\:text-white {
        --tw-text-opacity: 1;
        color: rgb(255 255 255 / var(--tw-text-opacity, 1));
    }

    .dark\:hover\:bg-gray-600:hover {
        --tw-bg-opacity: 1;
        background-color: rgb(75 85 99 / var(--tw-bg-opacity, 1));
    }

    .dark\:hover\:bg-gray-700:hover {
        --tw-bg-opacity: 1;
        background-color: rgb(55 65 81 / var(--tw-bg-opacity, 1));
    }

    .dark\:hover\:text-white:hover {
        --tw-text-opacity: 1;
        color: rgb(255 255 255 / var(--tw-text-opacity, 1));
    }

    .dark\:focus\:ring-gray-600:focus {
        --tw-ring-opacity: 1;
        --tw-ring-color: rgb(75 85 99 / var(--tw-ring-opacity, 1));
    }
}
</file>

<file path="ui-module/src/main/resources/frontend-config/css/styles.css">
@tailwind base;
@tailwind components;
@tailwind utilities;

@import url('https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css');

@import 'flowbite';

/* Fuentes definidas */

@font-face {
    font-family: 'Poppins';
    font-style: normal;
    font-weight: 400;
    src: url('fonts/poppins/Poppins-Regular.ttf') format('truetype');
}

@font-face {
    font-family: "Righteous";
    font-weight: 400;
    font-style: normal;
    src: url('fonts/righteous/Righteous-Regular.ttf') format('truetype');
}
</file>

<file path="ui-module/src/main/resources/frontend-config/package.json">
{
  "name": "frontend-config",
  "version": "1.0.0",
  "main": "index.js",
  "scripts": {
    "build": "tailwindcss -i ./css/styles.css -o ./css/main.css",
    "watch": "tailwindcss --watch -i ./css/styles.css -o ./css/main.css"
  },
  "author": "Lúcian (Alessandro Marquina)",
  "license": "ISC",
  "description": "Frontend Configuration - Certus MarketPlace",
  "devDependencies": {
    "tailwindcss": "^3.4.17"
  },
  "dependencies": {
    "animate.css": "^4.1.1",
    "flowbite": "^3.1.2"
  }
}
</file>

<file path="ui-module/src/main/resources/frontend-config/tailwind.config.js">
/** @type {import('tailwindcss').Config} */
module.exports = {
    content: [
        "../templates/**/*.html",
        "../templates/**/*.html",

    ],
    theme: {
        extend: {
            colors: {
                blueCertus: "#0056A0",
                darkBlueCertus: "#00205B",
                skyBlueCertus: "#2FBAD9",
                redCertus: "#F24968",
                purpleCertus: "#A64B98",
                greenCertus: "#00A08D"
            },
            fontFamily: {
                poppins: ["Poppins", "sans-serif"],
                righteous: ["Righteous", "sans-serif"],
            }
        },
    },
    plugins: [
        require('flowbite/plugin')
    ],
}
</file>

<file path="ui-module/src/main/resources/static/scripts/alpine.js">
(()=>{var nt=!1,it=!1,W=[],ot=-1;function Ut(e){Rn(e)}function Rn(e){W.includes(e)||W.push(e),Mn()}function Wt(e){let t=W.indexOf(e);t!==-1&&t>ot&&W.splice(t,1)}function Mn(){!it&&!nt&&(nt=!0,queueMicrotask(Nn))}function Nn(){nt=!1,it=!0;for(let e=0;e<W.length;e++)W[e](),ot=e;W.length=0,ot=-1,it=!1}var T,N,$,at,st=!0;function Gt(e){st=!1,e(),st=!0}function Jt(e){T=e.reactive,$=e.release,N=t=>e.effect(t,{scheduler:r=>{st?Ut(r):r()}}),at=e.raw}function ct(e){N=e}function Yt(e){let t=()=>{};return[n=>{let i=N(n);return e._x_effects||(e._x_effects=new Set,e._x_runEffects=()=>{e._x_effects.forEach(o=>o())}),e._x_effects.add(i),t=()=>{i!==void 0&&(e._x_effects.delete(i),$(i))},i},()=>{t()}]}function ve(e,t){let r=!0,n,i=N(()=>{let o=e();JSON.stringify(o),r?n=o:queueMicrotask(()=>{t(o,n),n=o}),r=!1});return()=>$(i)}var Xt=[],Zt=[],Qt=[];function er(e){Qt.push(e)}function te(e,t){typeof t=="function"?(e._x_cleanups||(e._x_cleanups=[]),e._x_cleanups.push(t)):(t=e,Zt.push(t))}function Ae(e){Xt.push(e)}function Oe(e,t,r){e._x_attributeCleanups||(e._x_attributeCleanups={}),e._x_attributeCleanups[t]||(e._x_attributeCleanups[t]=[]),e._x_attributeCleanups[t].push(r)}function lt(e,t){e._x_attributeCleanups&&Object.entries(e._x_attributeCleanups).forEach(([r,n])=>{(t===void 0||t.includes(r))&&(n.forEach(i=>i()),delete e._x_attributeCleanups[r])})}function tr(e){for(e._x_effects?.forEach(Wt);e._x_cleanups?.length;)e._x_cleanups.pop()()}var ut=new MutationObserver(mt),ft=!1;function ue(){ut.observe(document,{subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0}),ft=!0}function dt(){kn(),ut.disconnect(),ft=!1}var le=[];function kn(){let e=ut.takeRecords();le.push(()=>e.length>0&&mt(e));let t=le.length;queueMicrotask(()=>{if(le.length===t)for(;le.length>0;)le.shift()()})}function m(e){if(!ft)return e();dt();let t=e();return ue(),t}var pt=!1,Se=[];function rr(){pt=!0}function nr(){pt=!1,mt(Se),Se=[]}function mt(e){if(pt){Se=Se.concat(e);return}let t=[],r=new Set,n=new Map,i=new Map;for(let o=0;o<e.length;o++)if(!e[o].target._x_ignoreMutationObserver&&(e[o].type==="childList"&&(e[o].removedNodes.forEach(s=>{s.nodeType===1&&s._x_marker&&r.add(s)}),e[o].addedNodes.forEach(s=>{if(s.nodeType===1){if(r.has(s)){r.delete(s);return}s._x_marker||t.push(s)}})),e[o].type==="attributes")){let s=e[o].target,a=e[o].attributeName,c=e[o].oldValue,l=()=>{n.has(s)||n.set(s,[]),n.get(s).push({name:a,value:s.getAttribute(a)})},u=()=>{i.has(s)||i.set(s,[]),i.get(s).push(a)};s.hasAttribute(a)&&c===null?l():s.hasAttribute(a)?(u(),l()):u()}i.forEach((o,s)=>{lt(s,o)}),n.forEach((o,s)=>{Xt.forEach(a=>a(s,o))});for(let o of r)t.some(s=>s.contains(o))||Zt.forEach(s=>s(o));for(let o of t)o.isConnected&&Qt.forEach(s=>s(o));t=null,r=null,n=null,i=null}function Ce(e){return z(B(e))}function k(e,t,r){return e._x_dataStack=[t,...B(r||e)],()=>{e._x_dataStack=e._x_dataStack.filter(n=>n!==t)}}function B(e){return e._x_dataStack?e._x_dataStack:typeof ShadowRoot=="function"&&e instanceof ShadowRoot?B(e.host):e.parentNode?B(e.parentNode):[]}function z(e){return new Proxy({objects:e},Dn)}var Dn={ownKeys({objects:e}){return Array.from(new Set(e.flatMap(t=>Object.keys(t))))},has({objects:e},t){return t==Symbol.unscopables?!1:e.some(r=>Object.prototype.hasOwnProperty.call(r,t)||Reflect.has(r,t))},get({objects:e},t,r){return t=="toJSON"?Pn:Reflect.get(e.find(n=>Reflect.has(n,t))||{},t,r)},set({objects:e},t,r,n){let i=e.find(s=>Object.prototype.hasOwnProperty.call(s,t))||e[e.length-1],o=Object.getOwnPropertyDescriptor(i,t);return o?.set&&o?.get?o.set.call(n,r)||!0:Reflect.set(i,t,r)}};function Pn(){return Reflect.ownKeys(this).reduce((t,r)=>(t[r]=Reflect.get(this,r),t),{})}function Te(e){let t=n=>typeof n=="object"&&!Array.isArray(n)&&n!==null,r=(n,i="")=>{Object.entries(Object.getOwnPropertyDescriptors(n)).forEach(([o,{value:s,enumerable:a}])=>{if(a===!1||s===void 0||typeof s=="object"&&s!==null&&s.__v_skip)return;let c=i===""?o:`${i}.${o}`;typeof s=="object"&&s!==null&&s._x_interceptor?n[o]=s.initialize(e,c,o):t(s)&&s!==n&&!(s instanceof Element)&&r(s,c)})};return r(e)}function Re(e,t=()=>{}){let r={initialValue:void 0,_x_interceptor:!0,initialize(n,i,o){return e(this.initialValue,()=>In(n,i),s=>ht(n,i,s),i,o)}};return t(r),n=>{if(typeof n=="object"&&n!==null&&n._x_interceptor){let i=r.initialize.bind(r);r.initialize=(o,s,a)=>{let c=n.initialize(o,s,a);return r.initialValue=c,i(o,s,a)}}else r.initialValue=n;return r}}function In(e,t){return t.split(".").reduce((r,n)=>r[n],e)}function ht(e,t,r){if(typeof t=="string"&&(t=t.split(".")),t.length===1)e[t[0]]=r;else{if(t.length===0)throw error;return e[t[0]]||(e[t[0]]={}),ht(e[t[0]],t.slice(1),r)}}var ir={};function y(e,t){ir[e]=t}function fe(e,t){let r=Ln(t);return Object.entries(ir).forEach(([n,i])=>{Object.defineProperty(e,`$${n}`,{get(){return i(t,r)},enumerable:!1})}),e}function Ln(e){let[t,r]=_t(e),n={interceptor:Re,...t};return te(e,r),n}function or(e,t,r,...n){try{return r(...n)}catch(i){re(i,e,t)}}function re(e,t,r=void 0){e=Object.assign(e??{message:"No error message given."},{el:t,expression:r}),console.warn(`Alpine Expression Error: ${e.message}

${r?'Expression: "'+r+`"

`:""}`,t),setTimeout(()=>{throw e},0)}var Me=!0;function ke(e){let t=Me;Me=!1;let r=e();return Me=t,r}function R(e,t,r={}){let n;return x(e,t)(i=>n=i,r),n}function x(...e){return sr(...e)}var sr=xt;function ar(e){sr=e}function xt(e,t){let r={};fe(r,e);let n=[r,...B(e)],i=typeof t=="function"?$n(n,t):Fn(n,t,e);return or.bind(null,e,t,i)}function $n(e,t){return(r=()=>{},{scope:n={},params:i=[]}={})=>{let o=t.apply(z([n,...e]),i);Ne(r,o)}}var gt={};function jn(e,t){if(gt[e])return gt[e];let r=Object.getPrototypeOf(async function(){}).constructor,n=/^[\n\s]*if.*\(.*\)/.test(e.trim())||/^(let|const)\s/.test(e.trim())?`(async()=>{ ${e} })()`:e,o=(()=>{try{let s=new r(["__self","scope"],`with (scope) { __self.result = ${n} }; __self.finished = true; return __self.result;`);return Object.defineProperty(s,"name",{value:`[Alpine] ${e}`}),s}catch(s){return re(s,t,e),Promise.resolve()}})();return gt[e]=o,o}function Fn(e,t,r){let n=jn(t,r);return(i=()=>{},{scope:o={},params:s=[]}={})=>{n.result=void 0,n.finished=!1;let a=z([o,...e]);if(typeof n=="function"){let c=n(n,a).catch(l=>re(l,r,t));n.finished?(Ne(i,n.result,a,s,r),n.result=void 0):c.then(l=>{Ne(i,l,a,s,r)}).catch(l=>re(l,r,t)).finally(()=>n.result=void 0)}}}function Ne(e,t,r,n,i){if(Me&&typeof t=="function"){let o=t.apply(r,n);o instanceof Promise?o.then(s=>Ne(e,s,r,n)).catch(s=>re(s,i,t)):e(o)}else typeof t=="object"&&t instanceof Promise?t.then(o=>e(o)):e(t)}var wt="x-";function C(e=""){return wt+e}function cr(e){wt=e}var De={};function d(e,t){return De[e]=t,{before(r){if(!De[r]){console.warn(String.raw`Cannot find directive \`${r}\`. \`${e}\` will use the default order of execution`);return}let n=G.indexOf(r);G.splice(n>=0?n:G.indexOf("DEFAULT"),0,e)}}}function lr(e){return Object.keys(De).includes(e)}function pe(e,t,r){if(t=Array.from(t),e._x_virtualDirectives){let o=Object.entries(e._x_virtualDirectives).map(([a,c])=>({name:a,value:c})),s=Et(o);o=o.map(a=>s.find(c=>c.name===a.name)?{name:`x-bind:${a.name}`,value:`"${a.value}"`}:a),t=t.concat(o)}let n={};return t.map(dr((o,s)=>n[o]=s)).filter(mr).map(zn(n,r)).sort(Kn).map(o=>Bn(e,o))}function Et(e){return Array.from(e).map(dr()).filter(t=>!mr(t))}var yt=!1,de=new Map,ur=Symbol();function fr(e){yt=!0;let t=Symbol();ur=t,de.set(t,[]);let r=()=>{for(;de.get(t).length;)de.get(t).shift()();de.delete(t)},n=()=>{yt=!1,r()};e(r),n()}function _t(e){let t=[],r=a=>t.push(a),[n,i]=Yt(e);return t.push(i),[{Alpine:K,effect:n,cleanup:r,evaluateLater:x.bind(x,e),evaluate:R.bind(R,e)},()=>t.forEach(a=>a())]}function Bn(e,t){let r=()=>{},n=De[t.type]||r,[i,o]=_t(e);Oe(e,t.original,o);let s=()=>{e._x_ignore||e._x_ignoreSelf||(n.inline&&n.inline(e,t,i),n=n.bind(n,e,t,i),yt?de.get(ur).push(n):n())};return s.runCleanups=o,s}var Pe=(e,t)=>({name:r,value:n})=>(r.startsWith(e)&&(r=r.replace(e,t)),{name:r,value:n}),Ie=e=>e;function dr(e=()=>{}){return({name:t,value:r})=>{let{name:n,value:i}=pr.reduce((o,s)=>s(o),{name:t,value:r});return n!==t&&e(n,t),{name:n,value:i}}}var pr=[];function ne(e){pr.push(e)}function mr({name:e}){return hr().test(e)}var hr=()=>new RegExp(`^${wt}([^:^.]+)\\b`);function zn(e,t){return({name:r,value:n})=>{let i=r.match(hr()),o=r.match(/:([a-zA-Z0-9\-_:]+)/),s=r.match(/\.[^.\]]+(?=[^\]]*$)/g)||[],a=t||e[r]||r;return{type:i?i[1]:null,value:o?o[1]:null,modifiers:s.map(c=>c.replace(".","")),expression:n,original:a}}}var bt="DEFAULT",G=["ignore","ref","data","id","anchor","bind","init","for","model","modelable","transition","show","if",bt,"teleport"];function Kn(e,t){let r=G.indexOf(e.type)===-1?bt:e.type,n=G.indexOf(t.type)===-1?bt:t.type;return G.indexOf(r)-G.indexOf(n)}function J(e,t,r={}){e.dispatchEvent(new CustomEvent(t,{detail:r,bubbles:!0,composed:!0,cancelable:!0}))}function D(e,t){if(typeof ShadowRoot=="function"&&e instanceof ShadowRoot){Array.from(e.children).forEach(i=>D(i,t));return}let r=!1;if(t(e,()=>r=!0),r)return;let n=e.firstElementChild;for(;n;)D(n,t,!1),n=n.nextElementSibling}function E(e,...t){console.warn(`Alpine Warning: ${e}`,...t)}var _r=!1;function gr(){_r&&E("Alpine has already been initialized on this page. Calling Alpine.start() more than once can cause problems."),_r=!0,document.body||E("Unable to initialize. Trying to load Alpine before `<body>` is available. Did you forget to add `defer` in Alpine's `<script>` tag?"),J(document,"alpine:init"),J(document,"alpine:initializing"),ue(),er(t=>S(t,D)),te(t=>P(t)),Ae((t,r)=>{pe(t,r).forEach(n=>n())});let e=t=>!Y(t.parentElement,!0);Array.from(document.querySelectorAll(br().join(","))).filter(e).forEach(t=>{S(t)}),J(document,"alpine:initialized"),setTimeout(()=>{Vn()})}var vt=[],xr=[];function yr(){return vt.map(e=>e())}function br(){return vt.concat(xr).map(e=>e())}function Le(e){vt.push(e)}function $e(e){xr.push(e)}function Y(e,t=!1){return j(e,r=>{if((t?br():yr()).some(i=>r.matches(i)))return!0})}function j(e,t){if(e){if(t(e))return e;if(e._x_teleportBack&&(e=e._x_teleportBack),!!e.parentElement)return j(e.parentElement,t)}}function wr(e){return yr().some(t=>e.matches(t))}var Er=[];function vr(e){Er.push(e)}var Hn=1;function S(e,t=D,r=()=>{}){j(e,n=>n._x_ignore)||fr(()=>{t(e,(n,i)=>{n._x_marker||(r(n,i),Er.forEach(o=>o(n,i)),pe(n,n.attributes).forEach(o=>o()),n._x_ignore||(n._x_marker=Hn++),n._x_ignore&&i())})})}function P(e,t=D){t(e,r=>{tr(r),lt(r),delete r._x_marker})}function Vn(){[["ui","dialog",["[x-dialog], [x-popover]"]],["anchor","anchor",["[x-anchor]"]],["sort","sort",["[x-sort]"]]].forEach(([t,r,n])=>{lr(r)||n.some(i=>{if(document.querySelector(i))return E(`found "${i}", but missing ${t} plugin`),!0})})}var St=[],At=!1;function ie(e=()=>{}){return queueMicrotask(()=>{At||setTimeout(()=>{je()})}),new Promise(t=>{St.push(()=>{e(),t()})})}function je(){for(At=!1;St.length;)St.shift()()}function Sr(){At=!0}function me(e,t){return Array.isArray(t)?Ar(e,t.join(" ")):typeof t=="object"&&t!==null?qn(e,t):typeof t=="function"?me(e,t()):Ar(e,t)}function Ar(e,t){let r=o=>o.split(" ").filter(Boolean),n=o=>o.split(" ").filter(s=>!e.classList.contains(s)).filter(Boolean),i=o=>(e.classList.add(...o),()=>{e.classList.remove(...o)});return t=t===!0?t="":t||"",i(n(t))}function qn(e,t){let r=a=>a.split(" ").filter(Boolean),n=Object.entries(t).flatMap(([a,c])=>c?r(a):!1).filter(Boolean),i=Object.entries(t).flatMap(([a,c])=>c?!1:r(a)).filter(Boolean),o=[],s=[];return i.forEach(a=>{e.classList.contains(a)&&(e.classList.remove(a),s.push(a))}),n.forEach(a=>{e.classList.contains(a)||(e.classList.add(a),o.push(a))}),()=>{s.forEach(a=>e.classList.add(a)),o.forEach(a=>e.classList.remove(a))}}function X(e,t){return typeof t=="object"&&t!==null?Un(e,t):Wn(e,t)}function Un(e,t){let r={};return Object.entries(t).forEach(([n,i])=>{r[n]=e.style[n],n.startsWith("--")||(n=Gn(n)),e.style.setProperty(n,i)}),setTimeout(()=>{e.style.length===0&&e.removeAttribute("style")}),()=>{X(e,r)}}function Wn(e,t){let r=e.getAttribute("style",t);return e.setAttribute("style",t),()=>{e.setAttribute("style",r||"")}}function Gn(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function he(e,t=()=>{}){let r=!1;return function(){r?t.apply(this,arguments):(r=!0,e.apply(this,arguments))}}d("transition",(e,{value:t,modifiers:r,expression:n},{evaluate:i})=>{typeof n=="function"&&(n=i(n)),n!==!1&&(!n||typeof n=="boolean"?Yn(e,r,t):Jn(e,n,t))});function Jn(e,t,r){Or(e,me,""),{enter:i=>{e._x_transition.enter.during=i},"enter-start":i=>{e._x_transition.enter.start=i},"enter-end":i=>{e._x_transition.enter.end=i},leave:i=>{e._x_transition.leave.during=i},"leave-start":i=>{e._x_transition.leave.start=i},"leave-end":i=>{e._x_transition.leave.end=i}}[r](t)}function Yn(e,t,r){Or(e,X);let n=!t.includes("in")&&!t.includes("out")&&!r,i=n||t.includes("in")||["enter"].includes(r),o=n||t.includes("out")||["leave"].includes(r);t.includes("in")&&!n&&(t=t.filter((g,b)=>b<t.indexOf("out"))),t.includes("out")&&!n&&(t=t.filter((g,b)=>b>t.indexOf("out")));let s=!t.includes("opacity")&&!t.includes("scale"),a=s||t.includes("opacity"),c=s||t.includes("scale"),l=a?0:1,u=c?_e(t,"scale",95)/100:1,p=_e(t,"delay",0)/1e3,h=_e(t,"origin","center"),w="opacity, transform",F=_e(t,"duration",150)/1e3,Ee=_e(t,"duration",75)/1e3,f="cubic-bezier(0.4, 0.0, 0.2, 1)";i&&(e._x_transition.enter.during={transformOrigin:h,transitionDelay:`${p}s`,transitionProperty:w,transitionDuration:`${F}s`,transitionTimingFunction:f},e._x_transition.enter.start={opacity:l,transform:`scale(${u})`},e._x_transition.enter.end={opacity:1,transform:"scale(1)"}),o&&(e._x_transition.leave.during={transformOrigin:h,transitionDelay:`${p}s`,transitionProperty:w,transitionDuration:`${Ee}s`,transitionTimingFunction:f},e._x_transition.leave.start={opacity:1,transform:"scale(1)"},e._x_transition.leave.end={opacity:l,transform:`scale(${u})`})}function Or(e,t,r={}){e._x_transition||(e._x_transition={enter:{during:r,start:r,end:r},leave:{during:r,start:r,end:r},in(n=()=>{},i=()=>{}){Fe(e,t,{during:this.enter.during,start:this.enter.start,end:this.enter.end},n,i)},out(n=()=>{},i=()=>{}){Fe(e,t,{during:this.leave.during,start:this.leave.start,end:this.leave.end},n,i)}})}window.Element.prototype._x_toggleAndCascadeWithTransitions=function(e,t,r,n){let i=document.visibilityState==="visible"?requestAnimationFrame:setTimeout,o=()=>i(r);if(t){e._x_transition&&(e._x_transition.enter||e._x_transition.leave)?e._x_transition.enter&&(Object.entries(e._x_transition.enter.during).length||Object.entries(e._x_transition.enter.start).length||Object.entries(e._x_transition.enter.end).length)?e._x_transition.in(r):o():e._x_transition?e._x_transition.in(r):o();return}e._x_hidePromise=e._x_transition?new Promise((s,a)=>{e._x_transition.out(()=>{},()=>s(n)),e._x_transitioning&&e._x_transitioning.beforeCancel(()=>a({isFromCancelledTransition:!0}))}):Promise.resolve(n),queueMicrotask(()=>{let s=Cr(e);s?(s._x_hideChildren||(s._x_hideChildren=[]),s._x_hideChildren.push(e)):i(()=>{let a=c=>{let l=Promise.all([c._x_hidePromise,...(c._x_hideChildren||[]).map(a)]).then(([u])=>u?.());return delete c._x_hidePromise,delete c._x_hideChildren,l};a(e).catch(c=>{if(!c.isFromCancelledTransition)throw c})})})};function Cr(e){let t=e.parentNode;if(t)return t._x_hidePromise?t:Cr(t)}function Fe(e,t,{during:r,start:n,end:i}={},o=()=>{},s=()=>{}){if(e._x_transitioning&&e._x_transitioning.cancel(),Object.keys(r).length===0&&Object.keys(n).length===0&&Object.keys(i).length===0){o(),s();return}let a,c,l;Xn(e,{start(){a=t(e,n)},during(){c=t(e,r)},before:o,end(){a(),l=t(e,i)},after:s,cleanup(){c(),l()}})}function Xn(e,t){let r,n,i,o=he(()=>{m(()=>{r=!0,n||t.before(),i||(t.end(),je()),t.after(),e.isConnected&&t.cleanup(),delete e._x_transitioning})});e._x_transitioning={beforeCancels:[],beforeCancel(s){this.beforeCancels.push(s)},cancel:he(function(){for(;this.beforeCancels.length;)this.beforeCancels.shift()();o()}),finish:o},m(()=>{t.start(),t.during()}),Sr(),requestAnimationFrame(()=>{if(r)return;let s=Number(getComputedStyle(e).transitionDuration.replace(/,.*/,"").replace("s",""))*1e3,a=Number(getComputedStyle(e).transitionDelay.replace(/,.*/,"").replace("s",""))*1e3;s===0&&(s=Number(getComputedStyle(e).animationDuration.replace("s",""))*1e3),m(()=>{t.before()}),n=!0,requestAnimationFrame(()=>{r||(m(()=>{t.end()}),je(),setTimeout(e._x_transitioning.finish,s+a),i=!0)})})}function _e(e,t,r){if(e.indexOf(t)===-1)return r;let n=e[e.indexOf(t)+1];if(!n||t==="scale"&&isNaN(n))return r;if(t==="duration"||t==="delay"){let i=n.match(/([0-9]+)ms/);if(i)return i[1]}return t==="origin"&&["top","right","left","center","bottom"].includes(e[e.indexOf(t)+2])?[n,e[e.indexOf(t)+2]].join(" "):n}var I=!1;function A(e,t=()=>{}){return(...r)=>I?t(...r):e(...r)}function Tr(e){return(...t)=>I&&e(...t)}var Rr=[];function H(e){Rr.push(e)}function Mr(e,t){Rr.forEach(r=>r(e,t)),I=!0,kr(()=>{S(t,(r,n)=>{n(r,()=>{})})}),I=!1}var Be=!1;function Nr(e,t){t._x_dataStack||(t._x_dataStack=e._x_dataStack),I=!0,Be=!0,kr(()=>{Zn(t)}),I=!1,Be=!1}function Zn(e){let t=!1;S(e,(n,i)=>{D(n,(o,s)=>{if(t&&wr(o))return s();t=!0,i(o,s)})})}function kr(e){let t=N;ct((r,n)=>{let i=t(r);return $(i),()=>{}}),e(),ct(t)}function ge(e,t,r,n=[]){switch(e._x_bindings||(e._x_bindings=T({})),e._x_bindings[t]=r,t=n.includes("camel")?si(t):t,t){case"value":Qn(e,r);break;case"style":ti(e,r);break;case"class":ei(e,r);break;case"selected":case"checked":ri(e,t,r);break;default:Pr(e,t,r);break}}function Qn(e,t){if(Ot(e))e.attributes.value===void 0&&(e.value=t),window.fromModel&&(typeof t=="boolean"?e.checked=xe(e.value)===t:e.checked=Dr(e.value,t));else if(ze(e))Number.isInteger(t)?e.value=t:!Array.isArray(t)&&typeof t!="boolean"&&![null,void 0].includes(t)?e.value=String(t):Array.isArray(t)?e.checked=t.some(r=>Dr(r,e.value)):e.checked=!!t;else if(e.tagName==="SELECT")oi(e,t);else{if(e.value===t)return;e.value=t===void 0?"":t}}function ei(e,t){e._x_undoAddedClasses&&e._x_undoAddedClasses(),e._x_undoAddedClasses=me(e,t)}function ti(e,t){e._x_undoAddedStyles&&e._x_undoAddedStyles(),e._x_undoAddedStyles=X(e,t)}function ri(e,t,r){Pr(e,t,r),ii(e,t,r)}function Pr(e,t,r){[null,void 0,!1].includes(r)&&ci(t)?e.removeAttribute(t):(Ir(t)&&(r=t),ni(e,t,r))}function ni(e,t,r){e.getAttribute(t)!=r&&e.setAttribute(t,r)}function ii(e,t,r){e[t]!==r&&(e[t]=r)}function oi(e,t){let r=[].concat(t).map(n=>n+"");Array.from(e.options).forEach(n=>{n.selected=r.includes(n.value)})}function si(e){return e.toLowerCase().replace(/-(\w)/g,(t,r)=>r.toUpperCase())}function Dr(e,t){return e==t}function xe(e){return[1,"1","true","on","yes",!0].includes(e)?!0:[0,"0","false","off","no",!1].includes(e)?!1:e?Boolean(e):null}var ai=new Set(["allowfullscreen","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","inert","ismap","itemscope","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected","shadowrootclonable","shadowrootdelegatesfocus","shadowrootserializable"]);function Ir(e){return ai.has(e)}function ci(e){return!["aria-pressed","aria-checked","aria-expanded","aria-selected"].includes(e)}function Lr(e,t,r){return e._x_bindings&&e._x_bindings[t]!==void 0?e._x_bindings[t]:jr(e,t,r)}function $r(e,t,r,n=!0){if(e._x_bindings&&e._x_bindings[t]!==void 0)return e._x_bindings[t];if(e._x_inlineBindings&&e._x_inlineBindings[t]!==void 0){let i=e._x_inlineBindings[t];return i.extract=n,ke(()=>R(e,i.expression))}return jr(e,t,r)}function jr(e,t,r){let n=e.getAttribute(t);return n===null?typeof r=="function"?r():r:n===""?!0:Ir(t)?!![t,"true"].includes(n):n}function ze(e){return e.type==="checkbox"||e.localName==="ui-checkbox"||e.localName==="ui-switch"}function Ot(e){return e.type==="radio"||e.localName==="ui-radio"}function Ke(e,t){var r;return function(){var n=this,i=arguments,o=function(){r=null,e.apply(n,i)};clearTimeout(r),r=setTimeout(o,t)}}function He(e,t){let r;return function(){let n=this,i=arguments;r||(e.apply(n,i),r=!0,setTimeout(()=>r=!1,t))}}function Ve({get:e,set:t},{get:r,set:n}){let i=!0,o,s,a=N(()=>{let c=e(),l=r();if(i)n(Ct(c)),i=!1;else{let u=JSON.stringify(c),p=JSON.stringify(l);u!==o?n(Ct(c)):u!==p&&t(Ct(l))}o=JSON.stringify(e()),s=JSON.stringify(r())});return()=>{$(a)}}function Ct(e){return typeof e=="object"?JSON.parse(JSON.stringify(e)):e}function Fr(e){(Array.isArray(e)?e:[e]).forEach(r=>r(K))}var Z={},Br=!1;function zr(e,t){if(Br||(Z=T(Z),Br=!0),t===void 0)return Z[e];Z[e]=t,Te(Z[e]),typeof t=="object"&&t!==null&&t.hasOwnProperty("init")&&typeof t.init=="function"&&Z[e].init()}function Kr(){return Z}var Hr={};function Vr(e,t){let r=typeof t!="function"?()=>t:t;return e instanceof Element?Tt(e,r()):(Hr[e]=r,()=>{})}function qr(e){return Object.entries(Hr).forEach(([t,r])=>{Object.defineProperty(e,t,{get(){return(...n)=>r(...n)}})}),e}function Tt(e,t,r){let n=[];for(;n.length;)n.pop()();let i=Object.entries(t).map(([s,a])=>({name:s,value:a})),o=Et(i);return i=i.map(s=>o.find(a=>a.name===s.name)?{name:`x-bind:${s.name}`,value:`"${s.value}"`}:s),pe(e,i,r).map(s=>{n.push(s.runCleanups),s()}),()=>{for(;n.length;)n.pop()()}}var Ur={};function Wr(e,t){Ur[e]=t}function Gr(e,t){return Object.entries(Ur).forEach(([r,n])=>{Object.defineProperty(e,r,{get(){return(...i)=>n.bind(t)(...i)},enumerable:!1})}),e}var li={get reactive(){return T},get release(){return $},get effect(){return N},get raw(){return at},version:"3.14.9",flushAndStopDeferringMutations:nr,dontAutoEvaluateFunctions:ke,disableEffectScheduling:Gt,startObservingMutations:ue,stopObservingMutations:dt,setReactivityEngine:Jt,onAttributeRemoved:Oe,onAttributesAdded:Ae,closestDataStack:B,skipDuringClone:A,onlyDuringClone:Tr,addRootSelector:Le,addInitSelector:$e,interceptClone:H,addScopeToNode:k,deferMutations:rr,mapAttributes:ne,evaluateLater:x,interceptInit:vr,setEvaluator:ar,mergeProxies:z,extractProp:$r,findClosest:j,onElRemoved:te,closestRoot:Y,destroyTree:P,interceptor:Re,transition:Fe,setStyles:X,mutateDom:m,directive:d,entangle:Ve,throttle:He,debounce:Ke,evaluate:R,initTree:S,nextTick:ie,prefixed:C,prefix:cr,plugin:Fr,magic:y,store:zr,start:gr,clone:Nr,cloneNode:Mr,bound:Lr,$data:Ce,watch:ve,walk:D,data:Wr,bind:Vr},K=li;function Rt(e,t){let r=Object.create(null),n=e.split(",");for(let i=0;i<n.length;i++)r[n[i]]=!0;return t?i=>!!r[i.toLowerCase()]:i=>!!r[i]}var ui="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly";var Ls=Rt(ui+",async,autofocus,autoplay,controls,default,defer,disabled,hidden,loop,open,required,reversed,scoped,seamless,checked,muted,multiple,selected");var Jr=Object.freeze({}),$s=Object.freeze([]);var fi=Object.prototype.hasOwnProperty,ye=(e,t)=>fi.call(e,t),V=Array.isArray,oe=e=>Yr(e)==="[object Map]";var di=e=>typeof e=="string",qe=e=>typeof e=="symbol",be=e=>e!==null&&typeof e=="object";var pi=Object.prototype.toString,Yr=e=>pi.call(e),Mt=e=>Yr(e).slice(8,-1);var Ue=e=>di(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e;var We=e=>{let t=Object.create(null);return r=>t[r]||(t[r]=e(r))},mi=/-(\w)/g,js=We(e=>e.replace(mi,(t,r)=>r?r.toUpperCase():"")),hi=/\B([A-Z])/g,Fs=We(e=>e.replace(hi,"-$1").toLowerCase()),Nt=We(e=>e.charAt(0).toUpperCase()+e.slice(1)),Bs=We(e=>e?`on${Nt(e)}`:""),kt=(e,t)=>e!==t&&(e===e||t===t);var Dt=new WeakMap,we=[],L,Q=Symbol("iterate"),Pt=Symbol("Map key iterate");function _i(e){return e&&e._isEffect===!0}function rn(e,t=Jr){_i(e)&&(e=e.raw);let r=xi(e,t);return t.lazy||r(),r}function nn(e){e.active&&(on(e),e.options.onStop&&e.options.onStop(),e.active=!1)}var gi=0;function xi(e,t){let r=function(){if(!r.active)return e();if(!we.includes(r)){on(r);try{return bi(),we.push(r),L=r,e()}finally{we.pop(),sn(),L=we[we.length-1]}}};return r.id=gi++,r.allowRecurse=!!t.allowRecurse,r._isEffect=!0,r.active=!0,r.raw=e,r.deps=[],r.options=t,r}function on(e){let{deps:t}=e;if(t.length){for(let r=0;r<t.length;r++)t[r].delete(e);t.length=0}}var se=!0,Lt=[];function yi(){Lt.push(se),se=!1}function bi(){Lt.push(se),se=!0}function sn(){let e=Lt.pop();se=e===void 0?!0:e}function M(e,t,r){if(!se||L===void 0)return;let n=Dt.get(e);n||Dt.set(e,n=new Map);let i=n.get(r);i||n.set(r,i=new Set),i.has(L)||(i.add(L),L.deps.push(i),L.options.onTrack&&L.options.onTrack({effect:L,target:e,type:t,key:r}))}function U(e,t,r,n,i,o){let s=Dt.get(e);if(!s)return;let a=new Set,c=u=>{u&&u.forEach(p=>{(p!==L||p.allowRecurse)&&a.add(p)})};if(t==="clear")s.forEach(c);else if(r==="length"&&V(e))s.forEach((u,p)=>{(p==="length"||p>=n)&&c(u)});else switch(r!==void 0&&c(s.get(r)),t){case"add":V(e)?Ue(r)&&c(s.get("length")):(c(s.get(Q)),oe(e)&&c(s.get(Pt)));break;case"delete":V(e)||(c(s.get(Q)),oe(e)&&c(s.get(Pt)));break;case"set":oe(e)&&c(s.get(Q));break}let l=u=>{u.options.onTrigger&&u.options.onTrigger({effect:u,target:e,key:r,type:t,newValue:n,oldValue:i,oldTarget:o}),u.options.scheduler?u.options.scheduler(u):u()};a.forEach(l)}var wi=Rt("__proto__,__v_isRef,__isVue"),an=new Set(Object.getOwnPropertyNames(Symbol).map(e=>Symbol[e]).filter(qe)),Ei=cn();var vi=cn(!0);var Xr=Si();function Si(){let e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...r){let n=_(this);for(let o=0,s=this.length;o<s;o++)M(n,"get",o+"");let i=n[t](...r);return i===-1||i===!1?n[t](...r.map(_)):i}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...r){yi();let n=_(this)[t].apply(this,r);return sn(),n}}),e}function cn(e=!1,t=!1){return function(n,i,o){if(i==="__v_isReactive")return!e;if(i==="__v_isReadonly")return e;if(i==="__v_raw"&&o===(e?t?Bi:dn:t?Fi:fn).get(n))return n;let s=V(n);if(!e&&s&&ye(Xr,i))return Reflect.get(Xr,i,o);let a=Reflect.get(n,i,o);return(qe(i)?an.has(i):wi(i))||(e||M(n,"get",i),t)?a:It(a)?!s||!Ue(i)?a.value:a:be(a)?e?pn(a):et(a):a}}var Ai=Oi();function Oi(e=!1){return function(r,n,i,o){let s=r[n];if(!e&&(i=_(i),s=_(s),!V(r)&&It(s)&&!It(i)))return s.value=i,!0;let a=V(r)&&Ue(n)?Number(n)<r.length:ye(r,n),c=Reflect.set(r,n,i,o);return r===_(o)&&(a?kt(i,s)&&U(r,"set",n,i,s):U(r,"add",n,i)),c}}function Ci(e,t){let r=ye(e,t),n=e[t],i=Reflect.deleteProperty(e,t);return i&&r&&U(e,"delete",t,void 0,n),i}function Ti(e,t){let r=Reflect.has(e,t);return(!qe(t)||!an.has(t))&&M(e,"has",t),r}function Ri(e){return M(e,"iterate",V(e)?"length":Q),Reflect.ownKeys(e)}var Mi={get:Ei,set:Ai,deleteProperty:Ci,has:Ti,ownKeys:Ri},Ni={get:vi,set(e,t){return console.warn(`Set operation on key "${String(t)}" failed: target is readonly.`,e),!0},deleteProperty(e,t){return console.warn(`Delete operation on key "${String(t)}" failed: target is readonly.`,e),!0}};var $t=e=>be(e)?et(e):e,jt=e=>be(e)?pn(e):e,Ft=e=>e,Qe=e=>Reflect.getPrototypeOf(e);function Ge(e,t,r=!1,n=!1){e=e.__v_raw;let i=_(e),o=_(t);t!==o&&!r&&M(i,"get",t),!r&&M(i,"get",o);let{has:s}=Qe(i),a=n?Ft:r?jt:$t;if(s.call(i,t))return a(e.get(t));if(s.call(i,o))return a(e.get(o));e!==i&&e.get(t)}function Je(e,t=!1){let r=this.__v_raw,n=_(r),i=_(e);return e!==i&&!t&&M(n,"has",e),!t&&M(n,"has",i),e===i?r.has(e):r.has(e)||r.has(i)}function Ye(e,t=!1){return e=e.__v_raw,!t&&M(_(e),"iterate",Q),Reflect.get(e,"size",e)}function Zr(e){e=_(e);let t=_(this);return Qe(t).has.call(t,e)||(t.add(e),U(t,"add",e,e)),this}function Qr(e,t){t=_(t);let r=_(this),{has:n,get:i}=Qe(r),o=n.call(r,e);o?un(r,n,e):(e=_(e),o=n.call(r,e));let s=i.call(r,e);return r.set(e,t),o?kt(t,s)&&U(r,"set",e,t,s):U(r,"add",e,t),this}function en(e){let t=_(this),{has:r,get:n}=Qe(t),i=r.call(t,e);i?un(t,r,e):(e=_(e),i=r.call(t,e));let o=n?n.call(t,e):void 0,s=t.delete(e);return i&&U(t,"delete",e,void 0,o),s}function tn(){let e=_(this),t=e.size!==0,r=oe(e)?new Map(e):new Set(e),n=e.clear();return t&&U(e,"clear",void 0,void 0,r),n}function Xe(e,t){return function(n,i){let o=this,s=o.__v_raw,a=_(s),c=t?Ft:e?jt:$t;return!e&&M(a,"iterate",Q),s.forEach((l,u)=>n.call(i,c(l),c(u),o))}}function Ze(e,t,r){return function(...n){let i=this.__v_raw,o=_(i),s=oe(o),a=e==="entries"||e===Symbol.iterator&&s,c=e==="keys"&&s,l=i[e](...n),u=r?Ft:t?jt:$t;return!t&&M(o,"iterate",c?Pt:Q),{next(){let{value:p,done:h}=l.next();return h?{value:p,done:h}:{value:a?[u(p[0]),u(p[1])]:u(p),done:h}},[Symbol.iterator](){return this}}}}function q(e){return function(...t){{let r=t[0]?`on key "${t[0]}" `:"";console.warn(`${Nt(e)} operation ${r}failed: target is readonly.`,_(this))}return e==="delete"?!1:this}}function ki(){let e={get(o){return Ge(this,o)},get size(){return Ye(this)},has:Je,add:Zr,set:Qr,delete:en,clear:tn,forEach:Xe(!1,!1)},t={get(o){return Ge(this,o,!1,!0)},get size(){return Ye(this)},has:Je,add:Zr,set:Qr,delete:en,clear:tn,forEach:Xe(!1,!0)},r={get(o){return Ge(this,o,!0)},get size(){return Ye(this,!0)},has(o){return Je.call(this,o,!0)},add:q("add"),set:q("set"),delete:q("delete"),clear:q("clear"),forEach:Xe(!0,!1)},n={get(o){return Ge(this,o,!0,!0)},get size(){return Ye(this,!0)},has(o){return Je.call(this,o,!0)},add:q("add"),set:q("set"),delete:q("delete"),clear:q("clear"),forEach:Xe(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{e[o]=Ze(o,!1,!1),r[o]=Ze(o,!0,!1),t[o]=Ze(o,!1,!0),n[o]=Ze(o,!0,!0)}),[e,r,t,n]}var[Di,Pi,Ii,Li]=ki();function ln(e,t){let r=t?e?Li:Ii:e?Pi:Di;return(n,i,o)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?n:Reflect.get(ye(r,i)&&i in n?r:n,i,o)}var $i={get:ln(!1,!1)};var ji={get:ln(!0,!1)};function un(e,t,r){let n=_(r);if(n!==r&&t.call(e,n)){let i=Mt(e);console.warn(`Reactive ${i} contains both the raw and reactive versions of the same object${i==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}var fn=new WeakMap,Fi=new WeakMap,dn=new WeakMap,Bi=new WeakMap;function zi(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Ki(e){return e.__v_skip||!Object.isExtensible(e)?0:zi(Mt(e))}function et(e){return e&&e.__v_isReadonly?e:mn(e,!1,Mi,$i,fn)}function pn(e){return mn(e,!0,Ni,ji,dn)}function mn(e,t,r,n,i){if(!be(e))return console.warn(`value cannot be made reactive: ${String(e)}`),e;if(e.__v_raw&&!(t&&e.__v_isReactive))return e;let o=i.get(e);if(o)return o;let s=Ki(e);if(s===0)return e;let a=new Proxy(e,s===2?n:r);return i.set(e,a),a}function _(e){return e&&_(e.__v_raw)||e}function It(e){return Boolean(e&&e.__v_isRef===!0)}y("nextTick",()=>ie);y("dispatch",e=>J.bind(J,e));y("watch",(e,{evaluateLater:t,cleanup:r})=>(n,i)=>{let o=t(n),a=ve(()=>{let c;return o(l=>c=l),c},i);r(a)});y("store",Kr);y("data",e=>Ce(e));y("root",e=>Y(e));y("refs",e=>(e._x_refs_proxy||(e._x_refs_proxy=z(Hi(e))),e._x_refs_proxy));function Hi(e){let t=[];return j(e,r=>{r._x_refs&&t.push(r._x_refs)}),t}var Bt={};function zt(e){return Bt[e]||(Bt[e]=0),++Bt[e]}function hn(e,t){return j(e,r=>{if(r._x_ids&&r._x_ids[t])return!0})}function _n(e,t){e._x_ids||(e._x_ids={}),e._x_ids[t]||(e._x_ids[t]=zt(t))}y("id",(e,{cleanup:t})=>(r,n=null)=>{let i=`${r}${n?`-${n}`:""}`;return Vi(e,i,t,()=>{let o=hn(e,r),s=o?o._x_ids[r]:zt(r);return n?`${r}-${s}-${n}`:`${r}-${s}`})});H((e,t)=>{e._x_id&&(t._x_id=e._x_id)});function Vi(e,t,r,n){if(e._x_id||(e._x_id={}),e._x_id[t])return e._x_id[t];let i=n();return e._x_id[t]=i,r(()=>{delete e._x_id[t]}),i}y("el",e=>e);gn("Focus","focus","focus");gn("Persist","persist","persist");function gn(e,t,r){y(t,n=>E(`You can't use [$${t}] without first installing the "${e}" plugin here: https://alpinejs.dev/plugins/${r}`,n))}d("modelable",(e,{expression:t},{effect:r,evaluateLater:n,cleanup:i})=>{let o=n(t),s=()=>{let u;return o(p=>u=p),u},a=n(`${t} = __placeholder`),c=u=>a(()=>{},{scope:{__placeholder:u}}),l=s();c(l),queueMicrotask(()=>{if(!e._x_model)return;e._x_removeModelListeners.default();let u=e._x_model.get,p=e._x_model.set,h=Ve({get(){return u()},set(w){p(w)}},{get(){return s()},set(w){c(w)}});i(h)})});d("teleport",(e,{modifiers:t,expression:r},{cleanup:n})=>{e.tagName.toLowerCase()!=="template"&&E("x-teleport can only be used on a <template> tag",e);let i=xn(r),o=e.content.cloneNode(!0).firstElementChild;e._x_teleport=o,o._x_teleportBack=e,e.setAttribute("data-teleport-template",!0),o.setAttribute("data-teleport-target",!0),e._x_forwardEvents&&e._x_forwardEvents.forEach(a=>{o.addEventListener(a,c=>{c.stopPropagation(),e.dispatchEvent(new c.constructor(c.type,c))})}),k(o,{},e);let s=(a,c,l)=>{l.includes("prepend")?c.parentNode.insertBefore(a,c):l.includes("append")?c.parentNode.insertBefore(a,c.nextSibling):c.appendChild(a)};m(()=>{s(o,i,t),A(()=>{S(o)})()}),e._x_teleportPutBack=()=>{let a=xn(r);m(()=>{s(e._x_teleport,a,t)})},n(()=>m(()=>{o.remove(),P(o)}))});var qi=document.createElement("div");function xn(e){let t=A(()=>document.querySelector(e),()=>qi)();return t||E(`Cannot find x-teleport element for selector: "${e}"`),t}var yn=()=>{};yn.inline=(e,{modifiers:t},{cleanup:r})=>{t.includes("self")?e._x_ignoreSelf=!0:e._x_ignore=!0,r(()=>{t.includes("self")?delete e._x_ignoreSelf:delete e._x_ignore})};d("ignore",yn);d("effect",A((e,{expression:t},{effect:r})=>{r(x(e,t))}));function ae(e,t,r,n){let i=e,o=c=>n(c),s={},a=(c,l)=>u=>l(c,u);if(r.includes("dot")&&(t=Ui(t)),r.includes("camel")&&(t=Wi(t)),r.includes("passive")&&(s.passive=!0),r.includes("capture")&&(s.capture=!0),r.includes("window")&&(i=window),r.includes("document")&&(i=document),r.includes("debounce")){let c=r[r.indexOf("debounce")+1]||"invalid-wait",l=tt(c.split("ms")[0])?Number(c.split("ms")[0]):250;o=Ke(o,l)}if(r.includes("throttle")){let c=r[r.indexOf("throttle")+1]||"invalid-wait",l=tt(c.split("ms")[0])?Number(c.split("ms")[0]):250;o=He(o,l)}return r.includes("prevent")&&(o=a(o,(c,l)=>{l.preventDefault(),c(l)})),r.includes("stop")&&(o=a(o,(c,l)=>{l.stopPropagation(),c(l)})),r.includes("once")&&(o=a(o,(c,l)=>{c(l),i.removeEventListener(t,o,s)})),(r.includes("away")||r.includes("outside"))&&(i=document,o=a(o,(c,l)=>{e.contains(l.target)||l.target.isConnected!==!1&&(e.offsetWidth<1&&e.offsetHeight<1||e._x_isShown!==!1&&c(l))})),r.includes("self")&&(o=a(o,(c,l)=>{l.target===e&&c(l)})),(Ji(t)||wn(t))&&(o=a(o,(c,l)=>{Yi(l,r)||c(l)})),i.addEventListener(t,o,s),()=>{i.removeEventListener(t,o,s)}}function Ui(e){return e.replace(/-/g,".")}function Wi(e){return e.toLowerCase().replace(/-(\w)/g,(t,r)=>r.toUpperCase())}function tt(e){return!Array.isArray(e)&&!isNaN(e)}function Gi(e){return[" ","_"].includes(e)?e:e.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[_\s]/,"-").toLowerCase()}function Ji(e){return["keydown","keyup"].includes(e)}function wn(e){return["contextmenu","click","mouse"].some(t=>e.includes(t))}function Yi(e,t){let r=t.filter(o=>!["window","document","prevent","stop","once","capture","self","away","outside","passive"].includes(o));if(r.includes("debounce")){let o=r.indexOf("debounce");r.splice(o,tt((r[o+1]||"invalid-wait").split("ms")[0])?2:1)}if(r.includes("throttle")){let o=r.indexOf("throttle");r.splice(o,tt((r[o+1]||"invalid-wait").split("ms")[0])?2:1)}if(r.length===0||r.length===1&&bn(e.key).includes(r[0]))return!1;let i=["ctrl","shift","alt","meta","cmd","super"].filter(o=>r.includes(o));return r=r.filter(o=>!i.includes(o)),!(i.length>0&&i.filter(s=>((s==="cmd"||s==="super")&&(s="meta"),e[`${s}Key`])).length===i.length&&(wn(e.type)||bn(e.key).includes(r[0])))}function bn(e){if(!e)return[];e=Gi(e);let t={ctrl:"control",slash:"/",space:" ",spacebar:" ",cmd:"meta",esc:"escape",up:"arrow-up",down:"arrow-down",left:"arrow-left",right:"arrow-right",period:".",comma:",",equal:"=",minus:"-",underscore:"_"};return t[e]=e,Object.keys(t).map(r=>{if(t[r]===e)return r}).filter(r=>r)}d("model",(e,{modifiers:t,expression:r},{effect:n,cleanup:i})=>{let o=e;t.includes("parent")&&(o=e.parentNode);let s=x(o,r),a;typeof r=="string"?a=x(o,`${r} = __placeholder`):typeof r=="function"&&typeof r()=="string"?a=x(o,`${r()} = __placeholder`):a=()=>{};let c=()=>{let h;return s(w=>h=w),En(h)?h.get():h},l=h=>{let w;s(F=>w=F),En(w)?w.set(h):a(()=>{},{scope:{__placeholder:h}})};typeof r=="string"&&e.type==="radio"&&m(()=>{e.hasAttribute("name")||e.setAttribute("name",r)});var u=e.tagName.toLowerCase()==="select"||["checkbox","radio"].includes(e.type)||t.includes("lazy")?"change":"input";let p=I?()=>{}:ae(e,u,t,h=>{l(Kt(e,t,h,c()))});if(t.includes("fill")&&([void 0,null,""].includes(c())||ze(e)&&Array.isArray(c())||e.tagName.toLowerCase()==="select"&&e.multiple)&&l(Kt(e,t,{target:e},c())),e._x_removeModelListeners||(e._x_removeModelListeners={}),e._x_removeModelListeners.default=p,i(()=>e._x_removeModelListeners.default()),e.form){let h=ae(e.form,"reset",[],w=>{ie(()=>e._x_model&&e._x_model.set(Kt(e,t,{target:e},c())))});i(()=>h())}e._x_model={get(){return c()},set(h){l(h)}},e._x_forceModelUpdate=h=>{h===void 0&&typeof r=="string"&&r.match(/\./)&&(h=""),window.fromModel=!0,m(()=>ge(e,"value",h)),delete window.fromModel},n(()=>{let h=c();t.includes("unintrusive")&&document.activeElement.isSameNode(e)||e._x_forceModelUpdate(h)})});function Kt(e,t,r,n){return m(()=>{if(r instanceof CustomEvent&&r.detail!==void 0)return r.detail!==null&&r.detail!==void 0?r.detail:r.target.value;if(ze(e))if(Array.isArray(n)){let i=null;return t.includes("number")?i=Ht(r.target.value):t.includes("boolean")?i=xe(r.target.value):i=r.target.value,r.target.checked?n.includes(i)?n:n.concat([i]):n.filter(o=>!Xi(o,i))}else return r.target.checked;else{if(e.tagName.toLowerCase()==="select"&&e.multiple)return t.includes("number")?Array.from(r.target.selectedOptions).map(i=>{let o=i.value||i.text;return Ht(o)}):t.includes("boolean")?Array.from(r.target.selectedOptions).map(i=>{let o=i.value||i.text;return xe(o)}):Array.from(r.target.selectedOptions).map(i=>i.value||i.text);{let i;return Ot(e)?r.target.checked?i=r.target.value:i=n:i=r.target.value,t.includes("number")?Ht(i):t.includes("boolean")?xe(i):t.includes("trim")?i.trim():i}}})}function Ht(e){let t=e?parseFloat(e):null;return Zi(t)?t:e}function Xi(e,t){return e==t}function Zi(e){return!Array.isArray(e)&&!isNaN(e)}function En(e){return e!==null&&typeof e=="object"&&typeof e.get=="function"&&typeof e.set=="function"}d("cloak",e=>queueMicrotask(()=>m(()=>e.removeAttribute(C("cloak")))));$e(()=>`[${C("init")}]`);d("init",A((e,{expression:t},{evaluate:r})=>typeof t=="string"?!!t.trim()&&r(t,{},!1):r(t,{},!1)));d("text",(e,{expression:t},{effect:r,evaluateLater:n})=>{let i=n(t);r(()=>{i(o=>{m(()=>{e.textContent=o})})})});d("html",(e,{expression:t},{effect:r,evaluateLater:n})=>{let i=n(t);r(()=>{i(o=>{m(()=>{e.innerHTML=o,e._x_ignoreSelf=!0,S(e),delete e._x_ignoreSelf})})})});ne(Pe(":",Ie(C("bind:"))));var vn=(e,{value:t,modifiers:r,expression:n,original:i},{effect:o,cleanup:s})=>{if(!t){let c={};qr(c),x(e,n)(u=>{Tt(e,u,i)},{scope:c});return}if(t==="key")return Qi(e,n);if(e._x_inlineBindings&&e._x_inlineBindings[t]&&e._x_inlineBindings[t].extract)return;let a=x(e,n);o(()=>a(c=>{c===void 0&&typeof n=="string"&&n.match(/\./)&&(c=""),m(()=>ge(e,t,c,r))})),s(()=>{e._x_undoAddedClasses&&e._x_undoAddedClasses(),e._x_undoAddedStyles&&e._x_undoAddedStyles()})};vn.inline=(e,{value:t,modifiers:r,expression:n})=>{t&&(e._x_inlineBindings||(e._x_inlineBindings={}),e._x_inlineBindings[t]={expression:n,extract:!1})};d("bind",vn);function Qi(e,t){e._x_keyExpression=t}Le(()=>`[${C("data")}]`);d("data",(e,{expression:t},{cleanup:r})=>{if(eo(e))return;t=t===""?"{}":t;let n={};fe(n,e);let i={};Gr(i,n);let o=R(e,t,{scope:i});(o===void 0||o===!0)&&(o={}),fe(o,e);let s=T(o);Te(s);let a=k(e,s);s.init&&R(e,s.init),r(()=>{s.destroy&&R(e,s.destroy),a()})});H((e,t)=>{e._x_dataStack&&(t._x_dataStack=e._x_dataStack,t.setAttribute("data-has-alpine-state",!0))});function eo(e){return I?Be?!0:e.hasAttribute("data-has-alpine-state"):!1}d("show",(e,{modifiers:t,expression:r},{effect:n})=>{let i=x(e,r);e._x_doHide||(e._x_doHide=()=>{m(()=>{e.style.setProperty("display","none",t.includes("important")?"important":void 0)})}),e._x_doShow||(e._x_doShow=()=>{m(()=>{e.style.length===1&&e.style.display==="none"?e.removeAttribute("style"):e.style.removeProperty("display")})});let o=()=>{e._x_doHide(),e._x_isShown=!1},s=()=>{e._x_doShow(),e._x_isShown=!0},a=()=>setTimeout(s),c=he(p=>p?s():o(),p=>{typeof e._x_toggleAndCascadeWithTransitions=="function"?e._x_toggleAndCascadeWithTransitions(e,p,s,o):p?a():o()}),l,u=!0;n(()=>i(p=>{!u&&p===l||(t.includes("immediate")&&(p?a():o()),c(p),l=p,u=!1)}))});d("for",(e,{expression:t},{effect:r,cleanup:n})=>{let i=ro(t),o=x(e,i.items),s=x(e,e._x_keyExpression||"index");e._x_prevKeys=[],e._x_lookup={},r(()=>to(e,i,o,s)),n(()=>{Object.values(e._x_lookup).forEach(a=>m(()=>{P(a),a.remove()})),delete e._x_prevKeys,delete e._x_lookup})});function to(e,t,r,n){let i=s=>typeof s=="object"&&!Array.isArray(s),o=e;r(s=>{no(s)&&s>=0&&(s=Array.from(Array(s).keys(),f=>f+1)),s===void 0&&(s=[]);let a=e._x_lookup,c=e._x_prevKeys,l=[],u=[];if(i(s))s=Object.entries(s).map(([f,g])=>{let b=Sn(t,g,f,s);n(v=>{u.includes(v)&&E("Duplicate key on x-for",e),u.push(v)},{scope:{index:f,...b}}),l.push(b)});else for(let f=0;f<s.length;f++){let g=Sn(t,s[f],f,s);n(b=>{u.includes(b)&&E("Duplicate key on x-for",e),u.push(b)},{scope:{index:f,...g}}),l.push(g)}let p=[],h=[],w=[],F=[];for(let f=0;f<c.length;f++){let g=c[f];u.indexOf(g)===-1&&w.push(g)}c=c.filter(f=>!w.includes(f));let Ee="template";for(let f=0;f<u.length;f++){let g=u[f],b=c.indexOf(g);if(b===-1)c.splice(f,0,g),p.push([Ee,f]);else if(b!==f){let v=c.splice(f,1)[0],O=c.splice(b-1,1)[0];c.splice(f,0,O),c.splice(b,0,v),h.push([v,O])}else F.push(g);Ee=g}for(let f=0;f<w.length;f++){let g=w[f];g in a&&(m(()=>{P(a[g]),a[g].remove()}),delete a[g])}for(let f=0;f<h.length;f++){let[g,b]=h[f],v=a[g],O=a[b],ee=document.createElement("div");m(()=>{O||E('x-for ":key" is undefined or invalid',o,b,a),O.after(ee),v.after(O),O._x_currentIfEl&&O.after(O._x_currentIfEl),ee.before(v),v._x_currentIfEl&&v.after(v._x_currentIfEl),ee.remove()}),O._x_refreshXForScope(l[u.indexOf(b)])}for(let f=0;f<p.length;f++){let[g,b]=p[f],v=g==="template"?o:a[g];v._x_currentIfEl&&(v=v._x_currentIfEl);let O=l[b],ee=u[b],ce=document.importNode(o.content,!0).firstElementChild,qt=T(O);k(ce,qt,o),ce._x_refreshXForScope=On=>{Object.entries(On).forEach(([Cn,Tn])=>{qt[Cn]=Tn})},m(()=>{v.after(ce),A(()=>S(ce))()}),typeof ee=="object"&&E("x-for key cannot be an object, it must be a string or an integer",o),a[ee]=ce}for(let f=0;f<F.length;f++)a[F[f]]._x_refreshXForScope(l[u.indexOf(F[f])]);o._x_prevKeys=u})}function ro(e){let t=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,r=/^\s*\(|\)\s*$/g,n=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,i=e.match(n);if(!i)return;let o={};o.items=i[2].trim();let s=i[1].replace(r,"").trim(),a=s.match(t);return a?(o.item=s.replace(t,"").trim(),o.index=a[1].trim(),a[2]&&(o.collection=a[2].trim())):o.item=s,o}function Sn(e,t,r,n){let i={};return/^\[.*\]$/.test(e.item)&&Array.isArray(t)?e.item.replace("[","").replace("]","").split(",").map(s=>s.trim()).forEach((s,a)=>{i[s]=t[a]}):/^\{.*\}$/.test(e.item)&&!Array.isArray(t)&&typeof t=="object"?e.item.replace("{","").replace("}","").split(",").map(s=>s.trim()).forEach(s=>{i[s]=t[s]}):i[e.item]=t,e.index&&(i[e.index]=r),e.collection&&(i[e.collection]=n),i}function no(e){return!Array.isArray(e)&&!isNaN(e)}function An(){}An.inline=(e,{expression:t},{cleanup:r})=>{let n=Y(e);n._x_refs||(n._x_refs={}),n._x_refs[t]=e,r(()=>delete n._x_refs[t])};d("ref",An);d("if",(e,{expression:t},{effect:r,cleanup:n})=>{e.tagName.toLowerCase()!=="template"&&E("x-if can only be used on a <template> tag",e);let i=x(e,t),o=()=>{if(e._x_currentIfEl)return e._x_currentIfEl;let a=e.content.cloneNode(!0).firstElementChild;return k(a,{},e),m(()=>{e.after(a),A(()=>S(a))()}),e._x_currentIfEl=a,e._x_undoIf=()=>{m(()=>{P(a),a.remove()}),delete e._x_currentIfEl},a},s=()=>{e._x_undoIf&&(e._x_undoIf(),delete e._x_undoIf)};r(()=>i(a=>{a?o():s()})),n(()=>e._x_undoIf&&e._x_undoIf())});d("id",(e,{expression:t},{evaluate:r})=>{r(t).forEach(i=>_n(e,i))});H((e,t)=>{e._x_ids&&(t._x_ids=e._x_ids)});ne(Pe("@",Ie(C("on:"))));d("on",A((e,{value:t,modifiers:r,expression:n},{cleanup:i})=>{let o=n?x(e,n):()=>{};e.tagName.toLowerCase()==="template"&&(e._x_forwardEvents||(e._x_forwardEvents=[]),e._x_forwardEvents.includes(t)||e._x_forwardEvents.push(t));let s=ae(e,t,r,a=>{o(()=>{},{scope:{$event:a},params:[a]})});i(()=>s())}));rt("Collapse","collapse","collapse");rt("Intersect","intersect","intersect");rt("Focus","trap","focus");rt("Mask","mask","mask");function rt(e,t,r){d(t,n=>E(`You can't use [x-${t}] without first installing the "${e}" plugin here: https://alpinejs.dev/plugins/${r}`,n))}K.setEvaluator(xt);K.setReactivityEngine({reactive:et,effect:rn,release:nn,raw:_});var Vt=K;window.Alpine=Vt;queueMicrotask(()=>{Vt.start()});})();
</file>

<file path="ui-module/src/main/resources/static/scripts/auth-flow.js">
document.addEventListener('DOMContentLoaded', () => {
    const API_BASE_URL = '/api/v1/auth';

    // --- Selectores de elementos del DOM ---
    const loginForm = document.getElementById('login-form');
    const registerForm = document.getElementById('register-form');
    const errorMessageDiv = document.getElementById('error-message');
    const successMessageDiv = document.getElementById('success-message');
    const customGoogleBtn = document.getElementById('custom-google-btn');
    const googleClientIdSpan = document.getElementById('google-client-id-span');

    // --- Funciones de utilidad ---
    const showMessage = (element, message, isError = false) => {
        if (element) {
            element.textContent = message;
            element.classList.remove('hidden');
            element.className = isError
                ? 'text-center text-red-700 text-sm p-3 bg-red-100 border border-red-400 rounded-lg my-4'
                : 'text-center text-green-700 text-sm p-3 bg-green-100 border border-green-400 rounded-lg my-4';
        }
    };

    const urlParams = new URLSearchParams(window.location.search);
    if (urlParams.has('registrationSuccess')) {
        showMessage(successMessageDiv, '¡Registro exitoso! Por favor, inicia sesión.');
    }

    const handleFormSubmit = async (url, body, isRegister = false) => {
        try {
            const response = await fetch(url, {
                method: 'POST',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify(body),
            });
            const data = await response.json();
            if (response.ok) {
                if (isRegister) {
                    window.location.href = '/marketplace/auth/login?registrationSuccess=true';
                } else {
                    localStorage.setItem('jwt_token', data.jwt);
                    window.location.href = '/marketplace/works';
                }
            } else {
                showMessage(errorMessageDiv, data.error || data.message || 'Ocurrió un error.', true);
            }
        } catch (error) {
            showMessage(errorMessageDiv, 'No se pudo conectar con el servidor.', true);
        }
    };

    // --- Listeners para formularios manuales ---
    if (loginForm) {
        loginForm.addEventListener('submit', (e) => {
            e.preventDefault();
            handleFormSubmit(`${API_BASE_URL}/login`, {
                email: document.getElementById('email').value,
                password: document.getElementById('password').value
            });
        });
    }
    if (registerForm) {
        registerForm.addEventListener('submit', (e) => {
            e.preventDefault();
            handleFormSubmit(`${API_BASE_URL}/register`, {
                email: document.getElementById('correo').value,
                password: document.getElementById('contrasena').value,
                name: document.getElementById('nombre').value,
                lastname: document.getElementById('apellido').value
            }, true);
        });
    }

    // --- Lógica de Autenticación con Google ---
    function setupGoogleAuth() {
        if (!customGoogleBtn || !googleClientIdSpan) {
            return; // No estamos en una página con el botón de Google
        }
        const googleClientId = googleClientIdSpan.dataset.clientId;
        if (!googleClientId) {
            console.error("Google Client ID no está definido en el span.");
            return;
        }

        // Esta es la función que se llamará después de que el usuario inicie sesión en Google
        const handleGoogleCredentialResponse = async (googleResponse) => {
            try {
                const response = await fetch(`${API_BASE_URL}/google-login`, {
                    method: 'POST',
                    headers: {'Content-Type': 'application/json'},
                    // El backend espera un objeto con la clave "idToken"
                    body: JSON.stringify({idToken: googleResponse.credential}),
                });
                const data = await response.json();
                if (response.ok && data.jwt) {
                    localStorage.setItem('jwt_token', data.jwt);
                    window.location.href = '/marketplace/works';
                } else {
                    showMessage(errorMessageDiv, data.error || 'Error en el inicio de sesión con Google.', true);
                }
            } catch (error) {
                showMessage(errorMessageDiv, 'No se pudo conectar con el servidor para el login de Google.', true);
            }
        };

        // CORRECCIÓN: Esperamos a que la librería de Google esté lista
        const checkGoogleReady = setInterval(() => {
            if (typeof google !== 'undefined' && google.accounts) {
                clearInterval(checkGoogleReady); // Dejamos de verificar

                // Inicializamos el cliente de Google
                google.accounts.id.initialize({
                    client_id: googleClientId,
                    callback: handleGoogleCredentialResponse,
                    ux_mode: 'popup', // Forzamos que siempre sea un popup
                });

                // Añadimos el listener a nuestro botón personalizado
                customGoogleBtn.addEventListener('click', () => {
                    // Lanzamos el popup de Google
                    google.accounts.id.prompt();
                });
                console.log("Botón de Google inicializado correctamente.");
            }
        }, 100); // Verificamos cada 100ms
    }

    setupGoogleAuth();
});
</file>

<file path="ui-module/src/main/resources/static/scripts/filters.js">
document.addEventListener('DOMContentLoaded', () => {
    const productContainer = document.getElementById('product-cards-container');
    if (!productContainer) return;

    const API_URL = '/api/v1/works';
    const applyFiltersButton = document.getElementById('apply-filters');
    const clearFiltersButton = document.getElementById('clear-filters');
    const dynamicBanner = document.getElementById('dynamic-banner');
    const bannerTitle = document.getElementById('banner-title');
    const bannerDescription = document.getElementById('banner-description');

    const categoryInfo = {
        'todos': {
            title: 'Todos los Productos',
            description: 'Explora todas nuestras soluciones digitales disponibles.',
            bannerImage: '/img/works/banner-todos.jpg'
        },
        'cursos': {
            title: 'Cursos',
            description: 'Aprende y domina nuevas habilidades con nuestros cursos especializados.',
            bannerImage: '/img/works/banner-cursos.jpg'
        },
        'ilustraciones': {
            title: 'Ilustraciones',
            description: 'Descubre arte digital único y personalizable para tus proyectos.',
            bannerImage: '/img/works/banner-ilustraciones.jpg'
        },
        'musica-y-audio': {
            title: 'Música y Audio',
            description: 'Encuentra pistas, efectos y recursos de audio para tus creaciones.',
            bannerImage: '/img/works/banner-music.jpg'
        },
        'software': {
            title: 'Software',
            description: 'Soluciones digitales que transforman tu mundo, hechas a tu medida.',
            bannerImage: '/img/works/banner-software.jpg'
        },
    };

    function createProductCard(product) {
        const starsHtml = Array(5).fill(0).map((_, i) =>
            `<i class="fa-solid fa-star ${i < Math.round(product.averageRating) ? 'text-gray-900' : 'text-gray-300'}"></i>`
        ).join('');

        const detailUrl = `/marketplace/works/${product.workId}`;

        return `
            <div class="bg-white rounded-lg shadow-md overflow-hidden transform hover:scale-105 transition duration-300 ease-in-out">
                <a href="${detailUrl}">
                    <img src="${product.workImageUrl}" alt="${product.workTitle}" class="w-full h-48 object-cover">
                </a>
                <div class="p-4">
                    <p class="text-sm text-gray-500 mb-2">${product.sellerName || 'Vendedor Anónimo'}</p>
                    <a href="${detailUrl}" class="text-lg font-semibold text-gray-800 mb-1 hover:text-[#00205b]">${product.workTitle}</a>
                    <div class="flex items-center mb-3">${starsHtml}</div>
                    <div class="flex justify-between items-center mt-4">
                        <span class="text-xl font-bold text-gray-900">S/${product.workPrice.toFixed(2)}</span>
                        <button class="add-to-cart-btn bg-gray-900 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition duration-200 text-sm" data-id="${product.workId}">Agregar</button>
                    </div>
                </div>
            </div>
        `;
    }

    function renderProductCards(products) {
        productContainer.innerHTML = products.length === 0
            ? '<p class="text-center text-gray-600 col-span-full">No se encontraron productos con los filtros seleccionados.</p>'
            : products.map(createProductCard).join('');
    }

    async function fetchAndDisplayWorks() {
        const filters = getSelectedFilters();
        const params = new URLSearchParams({
            category: filters.category,
            priceRange: filters.price,
            popularity: filters.popularity === 'all' ? 0 : filters.popularity
        });

        try {
            const response = await fetch(`${API_URL}?${params.toString()}`);
            if (!response.ok) throw new Error('Network response was not ok');
            const products = await response.json();

            renderProductCards(products);
            updateBanner(filters.category);

        } catch (error) {
            console.error("Fetch error:", error);
            productContainer.innerHTML = '<p class="text-center text-red-500 col-span-full">Error al cargar los productos.</p>';
        }
    }

    function getSelectedFilters() {
        return {
            category: document.querySelector('input[name="category"]:checked')?.value || 'todos',
            price: document.querySelector('input[name="price"]:checked')?.value || 'all',
            popularity: document.querySelector('input[name="popularity"]:checked')?.value || 'all',
        };
    }

    function updateBanner(category) {
        const info = categoryInfo[category.replace(/\s/g, '-').toLowerCase()];
        if (info && bannerTitle && bannerDescription && dynamicBanner) {
            bannerTitle.textContent = info.title;
            bannerDescription.textContent = info.description;
            dynamicBanner.style.backgroundImage = `url(${info.bannerImage})`;
        }
    }

    applyFiltersButton.addEventListener('click', () => {
        fetchAndDisplayWorks();
    });

    clearFiltersButton.addEventListener('click', () => {
        document.querySelector('input[name="category"][value="todos"]').checked = true;
        document.querySelector('input[name="price"][value="all"]').checked = true;
        document.querySelector('input[name="popularity"][value="all"]').checked = true;
        fetchAndDisplayWorks();
    });

    fetchAndDisplayWorks();
});
</file>

<file path="ui-module/src/main/resources/static/scripts/flowbite.min.js">
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("Flowbite",[],e):"object"==typeof exports?exports.Flowbite=e():t.Flowbite=e()}(self,(function(){return function(){"use strict";var t={765:function(t,e,i){i.r(e)},853:function(t,e,i){i.r(e),i.d(e,{afterMain:function(){return k},afterRead:function(){return b},afterWrite:function(){return D},applyStyles:function(){return T},arrow:function(){return Q},auto:function(){return s},basePlacements:function(){return d},beforeMain:function(){return _},beforeRead:function(){return y},beforeWrite:function(){return E},bottom:function(){return r},clippingParents:function(){return u},computeStyles:function(){return it},createPopper:function(){return Tt},createPopperBase:function(){return St},createPopperLite:function(){return Mt},detectOverflow:function(){return mt},end:function(){return l},eventListeners:function(){return rt},flip:function(){return bt},hide:function(){return kt},left:function(){return a},main:function(){return w},modifierPhases:function(){return O},offset:function(){return Et},placements:function(){return v},popper:function(){return p},popperGenerator:function(){return Ct},popperOffsets:function(){return xt},preventOverflow:function(){return Dt},read:function(){return m},reference:function(){return f},right:function(){return o},start:function(){return c},top:function(){return n},variationPlacements:function(){return g},viewport:function(){return h},write:function(){return x}});var n="top",r="bottom",o="right",a="left",s="auto",d=[n,r,o,a],c="start",l="end",u="clippingParents",h="viewport",p="popper",f="reference",g=d.reduce((function(t,e){return t.concat([e+"-"+c,e+"-"+l])}),[]),v=[].concat(d,[s]).reduce((function(t,e){return t.concat([e,e+"-"+c,e+"-"+l])}),[]),y="beforeRead",m="read",b="afterRead",_="beforeMain",w="main",k="afterMain",E="beforeWrite",x="write",D="afterWrite",O=[y,m,b,_,w,k,E,x,D];function L(t){return t?(t.nodeName||"").toLowerCase():null}function I(t){if(null==t)return window;if("[object Window]"!==t.toString()){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function A(t){return t instanceof I(t).Element||t instanceof Element}function C(t){return t instanceof I(t).HTMLElement||t instanceof HTMLElement}function S(t){return"undefined"!=typeof ShadowRoot&&(t instanceof I(t).ShadowRoot||t instanceof ShadowRoot)}var T={name:"applyStyles",enabled:!0,phase:"write",fn:function(t){var e=t.state;Object.keys(e.elements).forEach((function(t){var i=e.styles[t]||{},n=e.attributes[t]||{},r=e.elements[t];C(r)&&L(r)&&(Object.assign(r.style,i),Object.keys(n).forEach((function(t){var e=n[t];!1===e?r.removeAttribute(t):r.setAttribute(t,!0===e?"":e)})))}))},effect:function(t){var e=t.state,i={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,i.popper),e.styles=i,e.elements.arrow&&Object.assign(e.elements.arrow.style,i.arrow),function(){Object.keys(e.elements).forEach((function(t){var n=e.elements[t],r=e.attributes[t]||{},o=Object.keys(e.styles.hasOwnProperty(t)?e.styles[t]:i[t]).reduce((function(t,e){return t[e]="",t}),{});C(n)&&L(n)&&(Object.assign(n.style,o),Object.keys(r).forEach((function(t){n.removeAttribute(t)})))}))}},requires:["computeStyles"]};function M(t){return t.split("-")[0]}var H=Math.max,P=Math.min,j=Math.round;function V(){var t=navigator.userAgentData;return null!=t&&t.brands?t.brands.map((function(t){return t.brand+"/"+t.version})).join(" "):navigator.userAgent}function B(){return!/^((?!chrome|android).)*safari/i.test(V())}function z(t,e,i){void 0===e&&(e=!1),void 0===i&&(i=!1);var n=t.getBoundingClientRect(),r=1,o=1;e&&C(t)&&(r=t.offsetWidth>0&&j(n.width)/t.offsetWidth||1,o=t.offsetHeight>0&&j(n.height)/t.offsetHeight||1);var a=(A(t)?I(t):window).visualViewport,s=!B()&&i,d=(n.left+(s&&a?a.offsetLeft:0))/r,c=(n.top+(s&&a?a.offsetTop:0))/o,l=n.width/r,u=n.height/o;return{width:l,height:u,top:c,right:d+l,bottom:c+u,left:d,x:d,y:c}}function F(t){var e=z(t),i=t.offsetWidth,n=t.offsetHeight;return Math.abs(e.width-i)<=1&&(i=e.width),Math.abs(e.height-n)<=1&&(n=e.height),{x:t.offsetLeft,y:t.offsetTop,width:i,height:n}}function N(t,e){var i=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(i&&S(i)){var n=e;do{if(n&&t.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function W(t){return I(t).getComputedStyle(t)}function q(t){return["table","td","th"].indexOf(L(t))>=0}function R(t){return((A(t)?t.ownerDocument:t.document)||window.document).documentElement}function Y(t){return"html"===L(t)?t:t.assignedSlot||t.parentNode||(S(t)?t.host:null)||R(t)}function K(t){return C(t)&&"fixed"!==W(t).position?t.offsetParent:null}function U(t){for(var e=I(t),i=K(t);i&&q(i)&&"static"===W(i).position;)i=K(i);return i&&("html"===L(i)||"body"===L(i)&&"static"===W(i).position)?e:i||function(t){var e=/firefox/i.test(V());if(/Trident/i.test(V())&&C(t)&&"fixed"===W(t).position)return null;var i=Y(t);for(S(i)&&(i=i.host);C(i)&&["html","body"].indexOf(L(i))<0;){var n=W(i);if("none"!==n.transform||"none"!==n.perspective||"paint"===n.contain||-1!==["transform","perspective"].indexOf(n.willChange)||e&&"filter"===n.willChange||e&&n.filter&&"none"!==n.filter)return i;i=i.parentNode}return null}(t)||e}function J(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function X(t,e,i){return H(t,P(e,i))}function $(t){return Object.assign({},{top:0,right:0,bottom:0,left:0},t)}function G(t,e){return e.reduce((function(e,i){return e[i]=t,e}),{})}var Q={name:"arrow",enabled:!0,phase:"main",fn:function(t){var e,i=t.state,s=t.name,c=t.options,l=i.elements.arrow,u=i.modifiersData.popperOffsets,h=M(i.placement),p=J(h),f=[a,o].indexOf(h)>=0?"height":"width";if(l&&u){var g=function(t,e){return $("number"!=typeof(t="function"==typeof t?t(Object.assign({},e.rects,{placement:e.placement})):t)?t:G(t,d))}(c.padding,i),v=F(l),y="y"===p?n:a,m="y"===p?r:o,b=i.rects.reference[f]+i.rects.reference[p]-u[p]-i.rects.popper[f],_=u[p]-i.rects.reference[p],w=U(l),k=w?"y"===p?w.clientHeight||0:w.clientWidth||0:0,E=b/2-_/2,x=g[y],D=k-v[f]-g[m],O=k/2-v[f]/2+E,L=X(x,O,D),I=p;i.modifiersData[s]=((e={})[I]=L,e.centerOffset=L-O,e)}},effect:function(t){var e=t.state,i=t.options.element,n=void 0===i?"[data-popper-arrow]":i;null!=n&&("string"!=typeof n||(n=e.elements.popper.querySelector(n)))&&N(e.elements.popper,n)&&(e.elements.arrow=n)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Z(t){return t.split("-")[1]}var tt={top:"auto",right:"auto",bottom:"auto",left:"auto"};function et(t){var e,i=t.popper,s=t.popperRect,d=t.placement,c=t.variation,u=t.offsets,h=t.position,p=t.gpuAcceleration,f=t.adaptive,g=t.roundOffsets,v=t.isFixed,y=u.x,m=void 0===y?0:y,b=u.y,_=void 0===b?0:b,w="function"==typeof g?g({x:m,y:_}):{x:m,y:_};m=w.x,_=w.y;var k=u.hasOwnProperty("x"),E=u.hasOwnProperty("y"),x=a,D=n,O=window;if(f){var L=U(i),A="clientHeight",C="clientWidth";if(L===I(i)&&"static"!==W(L=R(i)).position&&"absolute"===h&&(A="scrollHeight",C="scrollWidth"),d===n||(d===a||d===o)&&c===l)D=r,_-=(v&&L===O&&O.visualViewport?O.visualViewport.height:L[A])-s.height,_*=p?1:-1;if(d===a||(d===n||d===r)&&c===l)x=o,m-=(v&&L===O&&O.visualViewport?O.visualViewport.width:L[C])-s.width,m*=p?1:-1}var S,T=Object.assign({position:h},f&&tt),M=!0===g?function(t){var e=t.x,i=t.y,n=window.devicePixelRatio||1;return{x:j(e*n)/n||0,y:j(i*n)/n||0}}({x:m,y:_}):{x:m,y:_};return m=M.x,_=M.y,p?Object.assign({},T,((S={})[D]=E?"0":"",S[x]=k?"0":"",S.transform=(O.devicePixelRatio||1)<=1?"translate("+m+"px, "+_+"px)":"translate3d("+m+"px, "+_+"px, 0)",S)):Object.assign({},T,((e={})[D]=E?_+"px":"",e[x]=k?m+"px":"",e.transform="",e))}var it={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(t){var e=t.state,i=t.options,n=i.gpuAcceleration,r=void 0===n||n,o=i.adaptive,a=void 0===o||o,s=i.roundOffsets,d=void 0===s||s,c={placement:M(e.placement),variation:Z(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:r,isFixed:"fixed"===e.options.strategy};null!=e.modifiersData.popperOffsets&&(e.styles.popper=Object.assign({},e.styles.popper,et(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a,roundOffsets:d})))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign({},e.styles.arrow,et(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:d})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})},data:{}},nt={passive:!0};var rt={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(t){var e=t.state,i=t.instance,n=t.options,r=n.scroll,o=void 0===r||r,a=n.resize,s=void 0===a||a,d=I(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&c.forEach((function(t){t.addEventListener("scroll",i.update,nt)})),s&&d.addEventListener("resize",i.update,nt),function(){o&&c.forEach((function(t){t.removeEventListener("scroll",i.update,nt)})),s&&d.removeEventListener("resize",i.update,nt)}},data:{}},ot={left:"right",right:"left",bottom:"top",top:"bottom"};function at(t){return t.replace(/left|right|bottom|top/g,(function(t){return ot[t]}))}var st={start:"end",end:"start"};function dt(t){return t.replace(/start|end/g,(function(t){return st[t]}))}function ct(t){var e=I(t);return{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function lt(t){return z(R(t)).left+ct(t).scrollLeft}function ut(t){var e=W(t),i=e.overflow,n=e.overflowX,r=e.overflowY;return/auto|scroll|overlay|hidden/.test(i+r+n)}function ht(t){return["html","body","#document"].indexOf(L(t))>=0?t.ownerDocument.body:C(t)&&ut(t)?t:ht(Y(t))}function pt(t,e){var i;void 0===e&&(e=[]);var n=ht(t),r=n===(null==(i=t.ownerDocument)?void 0:i.body),o=I(n),a=r?[o].concat(o.visualViewport||[],ut(n)?n:[]):n,s=e.concat(a);return r?s:s.concat(pt(Y(a)))}function ft(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function gt(t,e,i){return e===h?ft(function(t,e){var i=I(t),n=R(t),r=i.visualViewport,o=n.clientWidth,a=n.clientHeight,s=0,d=0;if(r){o=r.width,a=r.height;var c=B();(c||!c&&"fixed"===e)&&(s=r.offsetLeft,d=r.offsetTop)}return{width:o,height:a,x:s+lt(t),y:d}}(t,i)):A(e)?function(t,e){var i=z(t,!1,"fixed"===e);return i.top=i.top+t.clientTop,i.left=i.left+t.clientLeft,i.bottom=i.top+t.clientHeight,i.right=i.left+t.clientWidth,i.width=t.clientWidth,i.height=t.clientHeight,i.x=i.left,i.y=i.top,i}(e,i):ft(function(t){var e,i=R(t),n=ct(t),r=null==(e=t.ownerDocument)?void 0:e.body,o=H(i.scrollWidth,i.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),a=H(i.scrollHeight,i.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),s=-n.scrollLeft+lt(t),d=-n.scrollTop;return"rtl"===W(r||i).direction&&(s+=H(i.clientWidth,r?r.clientWidth:0)-o),{width:o,height:a,x:s,y:d}}(R(t)))}function vt(t,e,i,n){var r="clippingParents"===e?function(t){var e=pt(Y(t)),i=["absolute","fixed"].indexOf(W(t).position)>=0&&C(t)?U(t):t;return A(i)?e.filter((function(t){return A(t)&&N(t,i)&&"body"!==L(t)})):[]}(t):[].concat(e),o=[].concat(r,[i]),a=o[0],s=o.reduce((function(e,i){var r=gt(t,i,n);return e.top=H(r.top,e.top),e.right=P(r.right,e.right),e.bottom=P(r.bottom,e.bottom),e.left=H(r.left,e.left),e}),gt(t,a,n));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function yt(t){var e,i=t.reference,s=t.element,d=t.placement,u=d?M(d):null,h=d?Z(d):null,p=i.x+i.width/2-s.width/2,f=i.y+i.height/2-s.height/2;switch(u){case n:e={x:p,y:i.y-s.height};break;case r:e={x:p,y:i.y+i.height};break;case o:e={x:i.x+i.width,y:f};break;case a:e={x:i.x-s.width,y:f};break;default:e={x:i.x,y:i.y}}var g=u?J(u):null;if(null!=g){var v="y"===g?"height":"width";switch(h){case c:e[g]=e[g]-(i[v]/2-s[v]/2);break;case l:e[g]=e[g]+(i[v]/2-s[v]/2)}}return e}function mt(t,e){void 0===e&&(e={});var i=e,a=i.placement,s=void 0===a?t.placement:a,c=i.strategy,l=void 0===c?t.strategy:c,g=i.boundary,v=void 0===g?u:g,y=i.rootBoundary,m=void 0===y?h:y,b=i.elementContext,_=void 0===b?p:b,w=i.altBoundary,k=void 0!==w&&w,E=i.padding,x=void 0===E?0:E,D=$("number"!=typeof x?x:G(x,d)),O=_===p?f:p,L=t.rects.popper,I=t.elements[k?O:_],C=vt(A(I)?I:I.contextElement||R(t.elements.popper),v,m,l),S=z(t.elements.reference),T=yt({reference:S,element:L,strategy:"absolute",placement:s}),M=ft(Object.assign({},L,T)),H=_===p?M:S,P={top:C.top-H.top+D.top,bottom:H.bottom-C.bottom+D.bottom,left:C.left-H.left+D.left,right:H.right-C.right+D.right},j=t.modifiersData.offset;if(_===p&&j){var V=j[s];Object.keys(P).forEach((function(t){var e=[o,r].indexOf(t)>=0?1:-1,i=[n,r].indexOf(t)>=0?"y":"x";P[t]+=V[i]*e}))}return P}var bt={name:"flip",enabled:!0,phase:"main",fn:function(t){var e=t.state,i=t.options,l=t.name;if(!e.modifiersData[l]._skip){for(var u=i.mainAxis,h=void 0===u||u,p=i.altAxis,f=void 0===p||p,y=i.fallbackPlacements,m=i.padding,b=i.boundary,_=i.rootBoundary,w=i.altBoundary,k=i.flipVariations,E=void 0===k||k,x=i.allowedAutoPlacements,D=e.options.placement,O=M(D),L=y||(O===D||!E?[at(D)]:function(t){if(M(t)===s)return[];var e=at(t);return[dt(t),e,dt(e)]}(D)),I=[D].concat(L).reduce((function(t,i){return t.concat(M(i)===s?function(t,e){void 0===e&&(e={});var i=e,n=i.placement,r=i.boundary,o=i.rootBoundary,a=i.padding,s=i.flipVariations,c=i.allowedAutoPlacements,l=void 0===c?v:c,u=Z(n),h=u?s?g:g.filter((function(t){return Z(t)===u})):d,p=h.filter((function(t){return l.indexOf(t)>=0}));0===p.length&&(p=h);var f=p.reduce((function(e,i){return e[i]=mt(t,{placement:i,boundary:r,rootBoundary:o,padding:a})[M(i)],e}),{});return Object.keys(f).sort((function(t,e){return f[t]-f[e]}))}(e,{placement:i,boundary:b,rootBoundary:_,padding:m,flipVariations:E,allowedAutoPlacements:x}):i)}),[]),A=e.rects.reference,C=e.rects.popper,S=new Map,T=!0,H=I[0],P=0;P<I.length;P++){var j=I[P],V=M(j),B=Z(j)===c,z=[n,r].indexOf(V)>=0,F=z?"width":"height",N=mt(e,{placement:j,boundary:b,rootBoundary:_,altBoundary:w,padding:m}),W=z?B?o:a:B?r:n;A[F]>C[F]&&(W=at(W));var q=at(W),R=[];if(h&&R.push(N[V]<=0),f&&R.push(N[W]<=0,N[q]<=0),R.every((function(t){return t}))){H=j,T=!1;break}S.set(j,R)}if(T)for(var Y=function(t){var e=I.find((function(e){var i=S.get(e);if(i)return i.slice(0,t).every((function(t){return t}))}));if(e)return H=e,"break"},K=E?3:1;K>0;K--){if("break"===Y(K))break}e.placement!==H&&(e.modifiersData[l]._skip=!0,e.placement=H,e.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function _t(t,e,i){return void 0===i&&(i={x:0,y:0}),{top:t.top-e.height-i.y,right:t.right-e.width+i.x,bottom:t.bottom-e.height+i.y,left:t.left-e.width-i.x}}function wt(t){return[n,o,r,a].some((function(e){return t[e]>=0}))}var kt={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(t){var e=t.state,i=t.name,n=e.rects.reference,r=e.rects.popper,o=e.modifiersData.preventOverflow,a=mt(e,{elementContext:"reference"}),s=mt(e,{altBoundary:!0}),d=_t(a,n),c=_t(s,r,o),l=wt(d),u=wt(c);e.modifiersData[i]={referenceClippingOffsets:d,popperEscapeOffsets:c,isReferenceHidden:l,hasPopperEscaped:u},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":l,"data-popper-escaped":u})}};var Et={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(t){var e=t.state,i=t.options,r=t.name,s=i.offset,d=void 0===s?[0,0]:s,c=v.reduce((function(t,i){return t[i]=function(t,e,i){var r=M(t),s=[a,n].indexOf(r)>=0?-1:1,d="function"==typeof i?i(Object.assign({},e,{placement:t})):i,c=d[0],l=d[1];return c=c||0,l=(l||0)*s,[a,o].indexOf(r)>=0?{x:l,y:c}:{x:c,y:l}}(i,e.rects,d),t}),{}),l=c[e.placement],u=l.x,h=l.y;null!=e.modifiersData.popperOffsets&&(e.modifiersData.popperOffsets.x+=u,e.modifiersData.popperOffsets.y+=h),e.modifiersData[r]=c}};var xt={name:"popperOffsets",enabled:!0,phase:"read",fn:function(t){var e=t.state,i=t.name;e.modifiersData[i]=yt({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})},data:{}};var Dt={name:"preventOverflow",enabled:!0,phase:"main",fn:function(t){var e=t.state,i=t.options,s=t.name,d=i.mainAxis,l=void 0===d||d,u=i.altAxis,h=void 0!==u&&u,p=i.boundary,f=i.rootBoundary,g=i.altBoundary,v=i.padding,y=i.tether,m=void 0===y||y,b=i.tetherOffset,_=void 0===b?0:b,w=mt(e,{boundary:p,rootBoundary:f,padding:v,altBoundary:g}),k=M(e.placement),E=Z(e.placement),x=!E,D=J(k),O="x"===D?"y":"x",L=e.modifiersData.popperOffsets,I=e.rects.reference,A=e.rects.popper,C="function"==typeof _?_(Object.assign({},e.rects,{placement:e.placement})):_,S="number"==typeof C?{mainAxis:C,altAxis:C}:Object.assign({mainAxis:0,altAxis:0},C),T=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,j={x:0,y:0};if(L){if(l){var V,B="y"===D?n:a,z="y"===D?r:o,N="y"===D?"height":"width",W=L[D],q=W+w[B],R=W-w[z],Y=m?-A[N]/2:0,K=E===c?I[N]:A[N],$=E===c?-A[N]:-I[N],G=e.elements.arrow,Q=m&&G?F(G):{width:0,height:0},tt=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},et=tt[B],it=tt[z],nt=X(0,I[N],Q[N]),rt=x?I[N]/2-Y-nt-et-S.mainAxis:K-nt-et-S.mainAxis,ot=x?-I[N]/2+Y+nt+it+S.mainAxis:$+nt+it+S.mainAxis,at=e.elements.arrow&&U(e.elements.arrow),st=at?"y"===D?at.clientTop||0:at.clientLeft||0:0,dt=null!=(V=null==T?void 0:T[D])?V:0,ct=W+ot-dt,lt=X(m?P(q,W+rt-dt-st):q,W,m?H(R,ct):R);L[D]=lt,j[D]=lt-W}if(h){var ut,ht="x"===D?n:a,pt="x"===D?r:o,ft=L[O],gt="y"===O?"height":"width",vt=ft+w[ht],yt=ft-w[pt],bt=-1!==[n,a].indexOf(k),_t=null!=(ut=null==T?void 0:T[O])?ut:0,wt=bt?vt:ft-I[gt]-A[gt]-_t+S.altAxis,kt=bt?ft+I[gt]+A[gt]-_t-S.altAxis:yt,Et=m&&bt?function(t,e,i){var n=X(t,e,i);return n>i?i:n}(wt,ft,kt):X(m?wt:vt,ft,m?kt:yt);L[O]=Et,j[O]=Et-ft}e.modifiersData[s]=j}},requiresIfExists:["offset"]};function Ot(t,e,i){void 0===i&&(i=!1);var n,r,o=C(e),a=C(e)&&function(t){var e=t.getBoundingClientRect(),i=j(e.width)/t.offsetWidth||1,n=j(e.height)/t.offsetHeight||1;return 1!==i||1!==n}(e),s=R(e),d=z(t,a,i),c={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(o||!o&&!i)&&(("body"!==L(e)||ut(s))&&(c=(n=e)!==I(n)&&C(n)?{scrollLeft:(r=n).scrollLeft,scrollTop:r.scrollTop}:ct(n)),C(e)?((l=z(e,!0)).x+=e.clientLeft,l.y+=e.clientTop):s&&(l.x=lt(s))),{x:d.left+c.scrollLeft-l.x,y:d.top+c.scrollTop-l.y,width:d.width,height:d.height}}function Lt(t){var e=new Map,i=new Set,n=[];function r(t){i.add(t.name),[].concat(t.requires||[],t.requiresIfExists||[]).forEach((function(t){if(!i.has(t)){var n=e.get(t);n&&r(n)}})),n.push(t)}return t.forEach((function(t){e.set(t.name,t)})),t.forEach((function(t){i.has(t.name)||r(t)})),n}var It={placement:"bottom",modifiers:[],strategy:"absolute"};function At(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return!e.some((function(t){return!(t&&"function"==typeof t.getBoundingClientRect)}))}function Ct(t){void 0===t&&(t={});var e=t,i=e.defaultModifiers,n=void 0===i?[]:i,r=e.defaultOptions,o=void 0===r?It:r;return function(t,e,i){void 0===i&&(i=o);var r,a,s={placement:"bottom",orderedModifiers:[],options:Object.assign({},It,o),modifiersData:{},elements:{reference:t,popper:e},attributes:{},styles:{}},d=[],c=!1,l={state:s,setOptions:function(i){var r="function"==typeof i?i(s.options):i;u(),s.options=Object.assign({},o,s.options,r),s.scrollParents={reference:A(t)?pt(t):t.contextElement?pt(t.contextElement):[],popper:pt(e)};var a=function(t){var e=Lt(t);return O.reduce((function(t,i){return t.concat(e.filter((function(t){return t.phase===i})))}),[])}(function(t){var e=t.reduce((function(t,e){var i=t[e.name];return t[e.name]=i?Object.assign({},i,e,{options:Object.assign({},i.options,e.options),data:Object.assign({},i.data,e.data)}):e,t}),{});return Object.keys(e).map((function(t){return e[t]}))}([].concat(n,s.options.modifiers)));return s.orderedModifiers=a.filter((function(t){return t.enabled})),s.orderedModifiers.forEach((function(t){var e=t.name,i=t.options,n=void 0===i?{}:i,r=t.effect;if("function"==typeof r){var o=r({state:s,name:e,instance:l,options:n}),a=function(){};d.push(o||a)}})),l.update()},forceUpdate:function(){if(!c){var t=s.elements,e=t.reference,i=t.popper;if(At(e,i)){s.rects={reference:Ot(e,U(i),"fixed"===s.options.strategy),popper:F(i)},s.reset=!1,s.placement=s.options.placement,s.orderedModifiers.forEach((function(t){return s.modifiersData[t.name]=Object.assign({},t.data)}));for(var n=0;n<s.orderedModifiers.length;n++)if(!0!==s.reset){var r=s.orderedModifiers[n],o=r.fn,a=r.options,d=void 0===a?{}:a,u=r.name;"function"==typeof o&&(s=o({state:s,options:d,name:u,instance:l})||s)}else s.reset=!1,n=-1}}},update:(r=function(){return new Promise((function(t){l.forceUpdate(),t(s)}))},function(){return a||(a=new Promise((function(t){Promise.resolve().then((function(){a=void 0,t(r())}))}))),a}),destroy:function(){u(),c=!0}};if(!At(t,e))return l;function u(){d.forEach((function(t){return t()})),d=[]}return l.setOptions(i).then((function(t){!c&&i.onFirstUpdate&&i.onFirstUpdate(t)})),l}}var St=Ct(),Tt=Ct({defaultModifiers:[rt,xt,it,T,Et,bt,Dt,Q,kt]}),Mt=Ct({defaultModifiers:[rt,xt,it,T]})},554:function(t,e){function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=Array(e);i<e;i++)n[i]=t[i];return n}function n(t,e,i){return e=d(e),function(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,l()?Reflect.construct(e,i||[],d(t).constructor):e.apply(t,i))}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,g(n.key),n)}}function a(t,e,i){return e&&o(t.prototype,e),i&&o(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function s(){return s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,i){var n=p(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(arguments.length<3?t:i):r.value}},s.apply(null,arguments)}function d(t){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},d(t)}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u(t,e)}function l(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(l=function(){return!!t})()}function u(t,e){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},u(t,e)}function h(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var n,r,o,a,s=[],d=!0,c=!1;try{if(o=(i=i.call(t)).next,0===e){if(Object(i)!==i)return;d=!1}else for(;!(d=(n=o.call(i)).done)&&(s.push(n.value),s.length!==e);d=!0);}catch(t){c=!0,r=t}finally{try{if(!d&&null!=i.return&&(a=i.return(),Object(a)!==a))return}finally{if(c)throw r}}return s}}(t,e)||y(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=d(t)););return t}function f(t){return function(t){if(Array.isArray(t))return i(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||y(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,e||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:e+""}function v(t){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v(t)}function y(t,e){if(t){if("string"==typeof t)return i(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,e):void 0}}function m(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function b(t){return t[t.length-1]}function _(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];return i.forEach((function(e){t.includes(e)||t.push(e)})),t}function w(t,e){return t?t.split(e):[]}function k(t,e,i){return(void 0===e||t>=e)&&(void 0===i||t<=i)}function E(t,e,i){return t<e?e:t>i?i:t}function x(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=Object.keys(i).reduce((function(t,e){var r=i[e];return"function"==typeof r&&(r=r(n)),"".concat(t," ").concat(e,'="').concat(r,'"')}),t);r+="<".concat(o,"></").concat(t,">");var a=n+1;return a<e?x(t,e,i,a,r):r}function D(t){return t.replace(/>\s+/g,">").replace(/\s+</,"<")}function O(t){return new Date(t).setHours(0,0,0,0)}function L(){return(new Date).setHours(0,0,0,0)}function I(){switch(arguments.length){case 0:return L();case 1:return O(arguments.length<=0?void 0:arguments[0])}var t=new Date(0);return t.setFullYear.apply(t,arguments),t.setHours(0,0,0,0)}function A(t,e){var i=new Date(t);return i.setDate(i.getDate()+e)}function C(t,e){var i=new Date(t),n=i.getMonth()+e,r=n%12;r<0&&(r+=12);var o=i.setMonth(n);return i.getMonth()!==r?i.setDate(0):o}function S(t,e){var i=new Date(t),n=i.getMonth(),r=i.setFullYear(i.getFullYear()+e);return 1===n&&2===i.getMonth()?i.setDate(0):r}function T(t,e){return(t-e+7)%7}function M(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=new Date(t).getDay();return A(t,T(e,i)-T(n,i))}function H(t,e){var i=new Date(t).getFullYear();return Math.floor(i/e)*e}Object.defineProperty(e,"__esModule",{value:!0});var P=/dd?|DD?|mm?|MM?|yy?(?:yy)?/,j=/[\s!-/:-@[-`{-~年月日]+/,V={},B={y:function(t,e){return new Date(t).setFullYear(parseInt(e,10))},m:function(t,e,i){var n=new Date(t),r=parseInt(e,10)-1;if(isNaN(r)){if(!e)return NaN;var o=e.toLowerCase(),a=function(t){return t.toLowerCase().startsWith(o)};if((r=i.monthsShort.findIndex(a))<0&&(r=i.months.findIndex(a)),r<0)return NaN}return n.setMonth(r),n.getMonth()!==F(r)?n.setDate(0):n.getTime()},d:function(t,e){return new Date(t).setDate(parseInt(e,10))}},z={d:function(t){return t.getDate()},dd:function(t){return N(t.getDate(),2)},D:function(t,e){return e.daysShort[t.getDay()]},DD:function(t,e){return e.days[t.getDay()]},m:function(t){return t.getMonth()+1},mm:function(t){return N(t.getMonth()+1,2)},M:function(t,e){return e.monthsShort[t.getMonth()]},MM:function(t,e){return e.months[t.getMonth()]},y:function(t){return t.getFullYear()},yy:function(t){return N(t.getFullYear(),2).slice(-2)},yyyy:function(t){return N(t.getFullYear(),4)}};function F(t){return t>-1?t%12:F(t+12)}function N(t,e){return t.toString().padStart(e,"0")}function W(t){if("string"!=typeof t)throw new Error("Invalid date format.");if(t in V)return V[t];var e=t.split(P),i=t.match(new RegExp(P,"g"));if(0===e.length||!i)throw new Error("Invalid date format.");var n=i.map((function(t){return z[t]})),r=Object.keys(B).reduce((function(t,e){return i.find((function(t){return"D"!==t[0]&&t[0].toLowerCase()===e}))&&t.push(e),t}),[]);return V[t]={parser:function(t,e){var n=t.split(j).reduce((function(t,e,n){if(e.length>0&&i[n]){var r=i[n][0];"M"===r?t.m=e:"D"!==r&&(t[r]=e)}return t}),{});return r.reduce((function(t,i){var r=B[i](t,n[i],e);return isNaN(r)?t:r}),L())},formatter:function(t,i){return n.reduce((function(n,r,o){return n+"".concat(e[o]).concat(r(t,i))}),"")+b(e)}}}function q(t,e,i){if(t instanceof Date||"number"==typeof t){var n=O(t);return isNaN(n)?void 0:n}if(t){if("today"===t)return L();if(e&&e.toValue){var r=e.toValue(t,e,i);return isNaN(r)?void 0:O(r)}return W(e).parser(t,i)}}function R(t,e,i){if(isNaN(t)||!t&&0!==t)return"";var n="number"==typeof t?new Date(t):t;return e.toDisplay?e.toDisplay(n,e,i):W(e).formatter(n,i)}var Y=new WeakMap,K=EventTarget.prototype,U=K.addEventListener,J=K.removeEventListener;function X(t,e){var i=Y.get(t);i||(i=[],Y.set(t,i)),e.forEach((function(t){U.call.apply(U,f(t)),i.push(t)}))}function $(t){var e=Y.get(t);e&&(e.forEach((function(t){J.call.apply(J,f(t))})),Y.delete(t))}if(!Event.prototype.composedPath){var G=function t(e){var i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return n.push(e),e.parentNode?i=e.parentNode:e.host?i=e.host:e.defaultView&&(i=e.defaultView),i?t(i,n):n};Event.prototype.composedPath=function(){return G(this.target)}}function Q(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=t[n];return e(r)?r:r!==i&&r.parentElement?Q(t,e,i,n+1):void 0}function Z(t,e){var i="function"==typeof e?e:function(t){return t.matches(e)};return Q(t.composedPath(),i,t.currentTarget)}var tt={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",titleFormat:"MM y"}},et={autohide:!1,beforeShowDay:null,beforeShowDecade:null,beforeShowMonth:null,beforeShowYear:null,calendarWeeks:!1,clearBtn:!1,dateDelimiter:",",datesDisabled:[],daysOfWeekDisabled:[],daysOfWeekHighlighted:[],defaultViewDate:void 0,disableTouchKeyboard:!1,format:"mm/dd/yyyy",language:"en",maxDate:null,maxNumberOfDates:1,maxView:3,minDate:null,nextArrow:'<svg class="w-4 h-4 rtl:rotate-180 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 10"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M1 5h12m0 0L9 1m4 4L9 9"/></svg>',orientation:"auto",pickLevel:0,prevArrow:'<svg class="w-4 h-4 rtl:rotate-180 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 10"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 5H1m0 0 4 4M1 5l4-4"/></svg>',showDaysOfWeek:!0,showOnClick:!0,showOnFocus:!0,startView:0,title:"",todayBtn:!1,todayBtnMode:0,todayHighlight:!1,updateOnBlur:!0,weekStart:0},it=null;function nt(t){return null==it&&(it=document.createRange()),it.createContextualFragment(t)}function rt(t){"none"!==t.style.display&&(t.style.display&&(t.dataset.styleDisplay=t.style.display),t.style.display="none")}function ot(t){"none"===t.style.display&&(t.dataset.styleDisplay?(t.style.display=t.dataset.styleDisplay,delete t.dataset.styleDisplay):t.style.display="")}function at(t){t.firstChild&&(t.removeChild(t.firstChild),at(t))}var st=et.language,dt=et.format,ct=et.weekStart;function lt(t,e){return t.length<6&&e>=0&&e<7?_(t,e):t}function ut(t){return(t+6)%7}function ht(t,e,i,n){var r=q(t,e,i);return void 0!==r?r:n}function pt(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,n=parseInt(t,10);return n>=0&&n<=i?n:e}function ft(t,e){var i,n=Object.assign({},t),r={},o=e.constructor.locales,a=e.config||{},s=a.format,d=a.language,c=a.locale,l=a.maxDate,u=a.maxView,h=a.minDate,p=a.pickLevel,f=a.startView,g=a.weekStart;if(n.language&&(n.language!==d&&(o[n.language]?i=n.language:void 0===o[i=n.language.split("-")[0]]&&(i=!1)),delete n.language,i)){d=r.language=i;var v=c||o[st];c=Object.assign({format:dt,weekStart:ct},o[st]),d!==st&&Object.assign(c,o[d]),r.locale=c,s===v.format&&(s=r.format=c.format),g===v.weekStart&&(g=r.weekStart=c.weekStart,r.weekEnd=ut(c.weekStart))}if(n.format){var y="function"==typeof n.format.toDisplay,b="function"==typeof n.format.toValue,w=P.test(n.format);(y&&b||w)&&(s=r.format=n.format),delete n.format}var k=h,E=l;if(void 0!==n.minDate&&(k=null===n.minDate?I(0,0,1):ht(n.minDate,s,c,k),delete n.minDate),void 0!==n.maxDate&&(E=null===n.maxDate?void 0:ht(n.maxDate,s,c,E),delete n.maxDate),E<k?(h=r.minDate=E,l=r.maxDate=k):(h!==k&&(h=r.minDate=k),l!==E&&(l=r.maxDate=E)),n.datesDisabled&&(r.datesDisabled=n.datesDisabled.reduce((function(t,e){var i=q(e,s,c);return void 0!==i?_(t,i):t}),[]),delete n.datesDisabled),void 0!==n.defaultViewDate){var x=q(n.defaultViewDate,s,c);void 0!==x&&(r.defaultViewDate=x),delete n.defaultViewDate}if(void 0!==n.weekStart){var D=Number(n.weekStart)%7;isNaN(D)||(g=r.weekStart=D,r.weekEnd=ut(D)),delete n.weekStart}if(n.daysOfWeekDisabled&&(r.daysOfWeekDisabled=n.daysOfWeekDisabled.reduce(lt,[]),delete n.daysOfWeekDisabled),n.daysOfWeekHighlighted&&(r.daysOfWeekHighlighted=n.daysOfWeekHighlighted.reduce(lt,[]),delete n.daysOfWeekHighlighted),void 0!==n.maxNumberOfDates){var O=parseInt(n.maxNumberOfDates,10);O>=0&&(r.maxNumberOfDates=O,r.multidate=1!==O),delete n.maxNumberOfDates}n.dateDelimiter&&(r.dateDelimiter=String(n.dateDelimiter),delete n.dateDelimiter);var L=p;void 0!==n.pickLevel&&(L=pt(n.pickLevel,2),delete n.pickLevel),L!==p&&(p=r.pickLevel=L);var A=u;void 0!==n.maxView&&(A=pt(n.maxView,u),delete n.maxView),(A=p>A?p:A)!==u&&(u=r.maxView=A);var C=f;if(void 0!==n.startView&&(C=pt(n.startView,C),delete n.startView),C<p?C=p:C>u&&(C=u),C!==f&&(r.startView=C),n.prevArrow){var S=nt(n.prevArrow);S.childNodes.length>0&&(r.prevArrow=S.childNodes),delete n.prevArrow}if(n.nextArrow){var T=nt(n.nextArrow);T.childNodes.length>0&&(r.nextArrow=T.childNodes),delete n.nextArrow}if(void 0!==n.disableTouchKeyboard&&(r.disableTouchKeyboard="ontouchstart"in document&&!!n.disableTouchKeyboard,delete n.disableTouchKeyboard),n.orientation){var M=n.orientation.toLowerCase().split(/\s+/g);r.orientation={x:M.find((function(t){return"left"===t||"right"===t}))||"auto",y:M.find((function(t){return"top"===t||"bottom"===t}))||"auto"},delete n.orientation}if(void 0!==n.todayBtnMode){switch(n.todayBtnMode){case 0:case 1:r.todayBtnMode=n.todayBtnMode}delete n.todayBtnMode}return Object.keys(n).forEach((function(t){void 0!==n[t]&&m(et,t)&&(r[t]=n[t])})),r}var gt=D('<div class="datepicker hidden">\n  <div class="datepicker-picker inline-block rounded-lg bg-white dark:bg-gray-700 shadow-lg p-4">\n    <div class="datepicker-header">\n      <div class="datepicker-title bg-white dark:bg-gray-700 dark:text-white px-2 py-3 text-center font-semibold"></div>\n      <div class="datepicker-controls flex justify-between mb-2">\n        <button type="button" class="bg-white dark:bg-gray-700 rounded-lg text-gray-500 dark:text-white hover:bg-gray-100 dark:hover:bg-gray-600 hover:text-gray-900 dark:hover:text-white text-lg p-2.5 focus:outline-none focus:ring-2 focus:ring-gray-200 prev-btn"></button>\n        <button type="button" class="text-sm rounded-lg text-gray-900 dark:text-white bg-white dark:bg-gray-700 font-semibold py-2.5 px-5 hover:bg-gray-100 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-gray-200 view-switch"></button>\n        <button type="button" class="bg-white dark:bg-gray-700 rounded-lg text-gray-500 dark:text-white hover:bg-gray-100 dark:hover:bg-gray-600 hover:text-gray-900 dark:hover:text-white text-lg p-2.5 focus:outline-none focus:ring-2 focus:ring-gray-200 next-btn"></button>\n      </div>\n    </div>\n    <div class="datepicker-main p-1"></div>\n    <div class="datepicker-footer">\n      <div class="datepicker-controls flex space-x-2 rtl:space-x-reverse mt-2">\n        <button type="button" class="%buttonClass% today-btn text-white bg-blue-700 !bg-primary-700 dark:bg-blue-600 dark:!bg-primary-600 hover:bg-blue-800 hover:!bg-primary-800 dark:hover:bg-blue-700 dark:hover:!bg-primary-700 focus:ring-4 focus:ring-blue-300 focus:!ring-primary-300 font-medium rounded-lg text-sm px-5 py-2 text-center w-1/2"></button>\n        <button type="button" class="%buttonClass% clear-btn text-gray-900 dark:text-white bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-600 focus:ring-4 focus:ring-blue-300 focus:!ring-primary-300 font-medium rounded-lg text-sm px-5 py-2 text-center w-1/2"></button>\n      </div>\n    </div>\n  </div>\n</div>'),vt=D('<div class="days">\n  <div class="days-of-week grid grid-cols-7 mb-1">'.concat(x("span",7,{class:"dow block flex-1 leading-9 border-0 rounded-lg cursor-default text-center text-gray-900 font-semibold text-sm"}),'</div>\n  <div class="datepicker-grid w-64 grid grid-cols-7">').concat(x("span",42,{class:"block flex-1 leading-9 border-0 rounded-lg cursor-default text-center text-gray-900 font-semibold text-sm h-6 leading-6 text-sm font-medium text-gray-500 dark:text-gray-400"}),"</div>\n</div>")),yt=D('<div class="calendar-weeks">\n  <div class="days-of-week flex"><span class="dow h-6 leading-6 text-sm font-medium text-gray-500 dark:text-gray-400"></span></div>\n  <div class="weeks">'.concat(x("span",6,{class:"week block flex-1 leading-9 border-0 rounded-lg cursor-default text-center text-gray-900 font-semibold text-sm"}),"</div>\n</div>")),mt=function(){return a((function t(e,i){r(this,t),Object.assign(this,i,{picker:e,element:nt('<div class="datepicker-view flex"></div>').firstChild,selected:[]}),this.init(this.picker.datepicker.config)}),[{key:"init",value:function(t){void 0!==t.pickLevel&&(this.isMinView=this.id===t.pickLevel),this.setOptions(t),this.updateFocus(),this.updateSelection()}},{key:"performBeforeHook",value:function(t,e,i){var n=this.beforeShow(new Date(i));switch(v(n)){case"boolean":n={enabled:n};break;case"string":n={classes:n}}if(n){if(!1===n.enabled&&(t.classList.add("disabled"),_(this.disabled,e)),n.classes){var r,o=n.classes.split(/\s+/);(r=t.classList).add.apply(r,f(o)),o.includes("disabled")&&_(this.disabled,e)}n.content&&function(t,e){at(t),e instanceof DocumentFragment?t.appendChild(e):"string"==typeof e?t.appendChild(nt(e)):"function"==typeof e.forEach&&e.forEach((function(e){t.appendChild(e)}))}(t,n.content)}}}])}(),bt=function(t){function e(t){return r(this,e),n(this,e,[t,{id:0,name:"days",cellClass:"day"}])}return c(e,t),a(e,[{key:"init",value:function(t){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(i){var n=nt(vt).firstChild;this.dow=n.firstChild,this.grid=n.lastChild,this.element.appendChild(n)}s(d(e.prototype),"init",this).call(this,t)}},{key:"setOptions",value:function(t){var e,i=this;if(m(t,"minDate")&&(this.minDate=t.minDate),m(t,"maxDate")&&(this.maxDate=t.maxDate),t.datesDisabled&&(this.datesDisabled=t.datesDisabled),t.daysOfWeekDisabled&&(this.daysOfWeekDisabled=t.daysOfWeekDisabled,e=!0),t.daysOfWeekHighlighted&&(this.daysOfWeekHighlighted=t.daysOfWeekHighlighted),void 0!==t.todayHighlight&&(this.todayHighlight=t.todayHighlight),void 0!==t.weekStart&&(this.weekStart=t.weekStart,this.weekEnd=t.weekEnd,e=!0),t.locale){var n=this.locale=t.locale;this.dayNames=n.daysMin,this.switchLabelFormat=n.titleFormat,e=!0}if(void 0!==t.beforeShowDay&&(this.beforeShow="function"==typeof t.beforeShowDay?t.beforeShowDay:void 0),void 0!==t.calendarWeeks)if(t.calendarWeeks&&!this.calendarWeeks){var r=nt(yt).firstChild;this.calendarWeeks={element:r,dow:r.firstChild,weeks:r.lastChild},this.element.insertBefore(r,this.element.firstChild)}else this.calendarWeeks&&!t.calendarWeeks&&(this.element.removeChild(this.calendarWeeks.element),this.calendarWeeks=null);void 0!==t.showDaysOfWeek&&(t.showDaysOfWeek?(ot(this.dow),this.calendarWeeks&&ot(this.calendarWeeks.dow)):(rt(this.dow),this.calendarWeeks&&rt(this.calendarWeeks.dow))),e&&Array.from(this.dow.children).forEach((function(t,e){var n=(i.weekStart+e)%7;t.textContent=i.dayNames[n],t.className=i.daysOfWeekDisabled.includes(n)?"dow disabled text-center h-6 leading-6 text-sm font-medium text-gray-500 dark:text-gray-400 cursor-not-allowed":"dow text-center h-6 leading-6 text-sm font-medium text-gray-500 dark:text-gray-400"}))}},{key:"updateFocus",value:function(){var t=new Date(this.picker.viewDate),e=t.getFullYear(),i=t.getMonth(),n=I(e,i,1),r=M(n,this.weekStart,this.weekStart);this.first=n,this.last=I(e,i+1,0),this.start=r,this.focused=this.picker.viewDate}},{key:"updateSelection",value:function(){var t=this.picker.datepicker,e=t.dates,i=t.rangepicker;this.selected=e,i&&(this.range=i.dates)}},{key:"render",value:function(){var t=this;this.today=this.todayHighlight?L():void 0,this.disabled=f(this.datesDisabled);var e=R(this.focused,this.switchLabelFormat,this.locale);if(this.picker.setViewSwitchLabel(e),this.picker.setPrevBtnDisabled(this.first<=this.minDate),this.picker.setNextBtnDisabled(this.last>=this.maxDate),this.calendarWeeks){var i=M(this.first,1,1);Array.from(this.calendarWeeks.weeks.children).forEach((function(t,e){t.textContent=function(t){var e=M(t,4,1),i=M(new Date(e).setMonth(0,4),4,1);return Math.round((e-i)/6048e5)+1}(A(i,7*e))}))}Array.from(this.grid.children).forEach((function(e,i){var n=e.classList,r=A(t.start,i),o=new Date(r),a=o.getDay();if(e.className="datepicker-cell hover:bg-gray-100 dark:hover:bg-gray-600 block flex-1 leading-9 border-0 rounded-lg cursor-pointer text-center text-gray-900 dark:text-white font-semibold text-sm ".concat(t.cellClass),e.dataset.date=r,e.textContent=o.getDate(),r<t.first?n.add("prev","text-gray-500","dark:text-white"):r>t.last&&n.add("next","text-gray-500","dark:text-white"),t.today===r&&n.add("today","bg-gray-100","dark:bg-gray-600"),(r<t.minDate||r>t.maxDate||t.disabled.includes(r))&&(n.add("disabled","cursor-not-allowed","text-gray-400","dark:text-gray-500"),n.remove("hover:bg-gray-100","dark:hover:bg-gray-600","text-gray-900","dark:text-white","cursor-pointer")),t.daysOfWeekDisabled.includes(a)&&(n.add("disabled","cursor-not-allowed","text-gray-400","dark:text-gray-500"),n.remove("hover:bg-gray-100","dark:hover:bg-gray-600","text-gray-900","dark:text-white","cursor-pointer"),_(t.disabled,r)),t.daysOfWeekHighlighted.includes(a)&&n.add("highlighted"),t.range){var s=h(t.range,2),d=s[0],c=s[1];r>d&&r<c&&(n.add("range","bg-gray-200","dark:bg-gray-600"),n.remove("rounded-lg","rounded-l-lg","rounded-r-lg")),r===d&&(n.add("range-start","bg-gray-100","dark:bg-gray-600","rounded-l-lg"),n.remove("rounded-lg","rounded-r-lg")),r===c&&(n.add("range-end","bg-gray-100","dark:bg-gray-600","rounded-r-lg"),n.remove("rounded-lg","rounded-l-lg"))}t.selected.includes(r)&&(n.add("selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white"),n.remove("text-gray-900","text-gray-500","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600","dark:bg-gray-600","bg-gray-100","bg-gray-200")),r===t.focused&&n.add("focused"),t.beforeShow&&t.performBeforeHook(e,r,r)}))}},{key:"refresh",value:function(){var t=this,e=h(this.range||[],2),i=e[0],n=e[1];this.grid.querySelectorAll(".range, .range-start, .range-end, .selected, .focused").forEach((function(t){t.classList.remove("range","range-start","range-end","selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white","focused"),t.classList.add("text-gray-900","rounded-lg","dark:text-white")})),Array.from(this.grid.children).forEach((function(e){var r=Number(e.dataset.date),o=e.classList;o.remove("bg-gray-200","dark:bg-gray-600","rounded-l-lg","rounded-r-lg"),r>i&&r<n&&(o.add("range","bg-gray-200","dark:bg-gray-600"),o.remove("rounded-lg")),r===i&&(o.add("range-start","bg-gray-200","dark:bg-gray-600","rounded-l-lg"),o.remove("rounded-lg")),r===n&&(o.add("range-end","bg-gray-200","dark:bg-gray-600","rounded-r-lg"),o.remove("rounded-lg")),t.selected.includes(r)&&(o.add("selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white"),o.remove("text-gray-900","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600","bg-gray-100","bg-gray-200","dark:bg-gray-600")),r===t.focused&&o.add("focused")}))}},{key:"refreshFocus",value:function(){var t=Math.round((this.focused-this.start)/864e5);this.grid.querySelectorAll(".focused").forEach((function(t){t.classList.remove("focused")})),this.grid.children[t].classList.add("focused")}}])}(mt);function _t(t,e){if(t&&t[0]&&t[1]){var i=h(t,2),n=h(i[0],2),r=n[0],o=n[1],a=h(i[1],2),s=a[0],d=a[1];if(!(r>e||s<e))return[r===e?o:-1,s===e?d:12]}}var wt=function(t){function e(t){return r(this,e),n(this,e,[t,{id:1,name:"months",cellClass:"month"}])}return c(e,t),a(e,[{key:"init",value:function(t){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];i&&(this.grid=this.element,this.element.classList.add("months","datepicker-grid","w-64","grid","grid-cols-4"),this.grid.appendChild(nt(x("span",12,{"data-month":function(t){return t}})))),s(d(e.prototype),"init",this).call(this,t)}},{key:"setOptions",value:function(t){if(t.locale&&(this.monthNames=t.locale.monthsShort),m(t,"minDate"))if(void 0===t.minDate)this.minYear=this.minMonth=this.minDate=void 0;else{var e=new Date(t.minDate);this.minYear=e.getFullYear(),this.minMonth=e.getMonth(),this.minDate=e.setDate(1)}if(m(t,"maxDate"))if(void 0===t.maxDate)this.maxYear=this.maxMonth=this.maxDate=void 0;else{var i=new Date(t.maxDate);this.maxYear=i.getFullYear(),this.maxMonth=i.getMonth(),this.maxDate=I(this.maxYear,this.maxMonth+1,0)}void 0!==t.beforeShowMonth&&(this.beforeShow="function"==typeof t.beforeShowMonth?t.beforeShowMonth:void 0)}},{key:"updateFocus",value:function(){var t=new Date(this.picker.viewDate);this.year=t.getFullYear(),this.focused=t.getMonth()}},{key:"updateSelection",value:function(){var t=this.picker.datepicker,e=t.dates,i=t.rangepicker;this.selected=e.reduce((function(t,e){var i=new Date(e),n=i.getFullYear(),r=i.getMonth();return void 0===t[n]?t[n]=[r]:_(t[n],r),t}),{}),i&&i.dates&&(this.range=i.dates.map((function(t){var e=new Date(t);return isNaN(e)?void 0:[e.getFullYear(),e.getMonth()]})))}},{key:"render",value:function(){var t=this;this.disabled=[],this.picker.setViewSwitchLabel(this.year),this.picker.setPrevBtnDisabled(this.year<=this.minYear),this.picker.setNextBtnDisabled(this.year>=this.maxYear);var e=this.selected[this.year]||[],i=this.year<this.minYear||this.year>this.maxYear,n=this.year===this.minYear,r=this.year===this.maxYear,o=_t(this.range,this.year);Array.from(this.grid.children).forEach((function(a,s){var d=a.classList,c=I(t.year,s,1);if(a.className="datepicker-cell hover:bg-gray-100 dark:hover:bg-gray-600 block flex-1 leading-9 border-0 rounded-lg cursor-pointer text-center text-gray-900 dark:text-white font-semibold text-sm ".concat(t.cellClass),t.isMinView&&(a.dataset.date=c),a.textContent=t.monthNames[s],(i||n&&s<t.minMonth||r&&s>t.maxMonth)&&d.add("disabled"),o){var l=h(o,2),u=l[0],p=l[1];s>u&&s<p&&d.add("range"),s===u&&d.add("range-start"),s===p&&d.add("range-end")}e.includes(s)&&(d.add("selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white"),d.remove("text-gray-900","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600")),s===t.focused&&d.add("focused"),t.beforeShow&&t.performBeforeHook(a,s,c)}))}},{key:"refresh",value:function(){var t=this,e=this.selected[this.year]||[],i=h(_t(this.range,this.year)||[],2),n=i[0],r=i[1];this.grid.querySelectorAll(".range, .range-start, .range-end, .selected, .focused").forEach((function(t){t.classList.remove("range","range-start","range-end","selected","bg-blue-700","!bg-primary-700","dark:bg-blue-600","dark:!bg-primary-700","dark:text-white","text-white","focused"),t.classList.add("text-gray-900","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600")})),Array.from(this.grid.children).forEach((function(i,o){var a=i.classList;o>n&&o<r&&a.add("range"),o===n&&a.add("range-start"),o===r&&a.add("range-end"),e.includes(o)&&(a.add("selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white"),a.remove("text-gray-900","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600")),o===t.focused&&a.add("focused")}))}},{key:"refreshFocus",value:function(){this.grid.querySelectorAll(".focused").forEach((function(t){t.classList.remove("focused")})),this.grid.children[this.focused].classList.add("focused")}}])}(mt);function kt(t){return f(t).reduce((function(t,e,i){return t+(i?e:e.toUpperCase())}),"")}var Et=function(t){function e(t,i){return r(this,e),n(this,e,[t,i])}return c(e,t),a(e,[{key:"init",value:function(t){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];i&&(this.navStep=10*this.step,this.beforeShowOption="beforeShow".concat(kt(this.cellClass)),this.grid=this.element,this.element.classList.add(this.name,"datepicker-grid","w-64","grid","grid-cols-4"),this.grid.appendChild(nt(x("span",12)))),s(d(e.prototype),"init",this).call(this,t)}},{key:"setOptions",value:function(t){if(m(t,"minDate")&&(void 0===t.minDate?this.minYear=this.minDate=void 0:(this.minYear=H(t.minDate,this.step),this.minDate=I(this.minYear,0,1))),m(t,"maxDate")&&(void 0===t.maxDate?this.maxYear=this.maxDate=void 0:(this.maxYear=H(t.maxDate,this.step),this.maxDate=I(this.maxYear,11,31))),void 0!==t[this.beforeShowOption]){var e=t[this.beforeShowOption];this.beforeShow="function"==typeof e?e:void 0}}},{key:"updateFocus",value:function(){var t=new Date(this.picker.viewDate),e=H(t,this.navStep),i=e+9*this.step;this.first=e,this.last=i,this.start=e-this.step,this.focused=H(t,this.step)}},{key:"updateSelection",value:function(){var t=this,e=this.picker.datepicker,i=e.dates,n=e.rangepicker;this.selected=i.reduce((function(e,i){return _(e,H(i,t.step))}),[]),n&&n.dates&&(this.range=n.dates.map((function(e){if(void 0!==e)return H(e,t.step)})))}},{key:"render",value:function(){var t=this;this.disabled=[],this.picker.setViewSwitchLabel("".concat(this.first,"-").concat(this.last)),this.picker.setPrevBtnDisabled(this.first<=this.minYear),this.picker.setNextBtnDisabled(this.last>=this.maxYear),Array.from(this.grid.children).forEach((function(e,i){var n=e.classList,r=t.start+i*t.step,o=I(r,0,1);if(e.className="datepicker-cell hover:bg-gray-100 dark:hover:bg-gray-600 block flex-1 leading-9 border-0 rounded-lg cursor-pointer text-center text-gray-900 dark:text-white font-semibold text-sm ".concat(t.cellClass),t.isMinView&&(e.dataset.date=o),e.textContent=e.dataset.year=r,0===i?n.add("prev"):11===i&&n.add("next"),(r<t.minYear||r>t.maxYear)&&n.add("disabled"),t.range){var a=h(t.range,2),s=a[0],d=a[1];r>s&&r<d&&n.add("range"),r===s&&n.add("range-start"),r===d&&n.add("range-end")}t.selected.includes(r)&&(n.add("selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white"),n.remove("text-gray-900","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600")),r===t.focused&&n.add("focused"),t.beforeShow&&t.performBeforeHook(e,r,o)}))}},{key:"refresh",value:function(){var t=this,e=h(this.range||[],2),i=e[0],n=e[1];this.grid.querySelectorAll(".range, .range-start, .range-end, .selected, .focused").forEach((function(t){t.classList.remove("range","range-start","range-end","selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark!bg-primary-600","dark:text-white","focused")})),Array.from(this.grid.children).forEach((function(e){var r=Number(e.textContent),o=e.classList;r>i&&r<n&&o.add("range"),r===i&&o.add("range-start"),r===n&&o.add("range-end"),t.selected.includes(r)&&(o.add("selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white"),o.remove("text-gray-900","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600")),r===t.focused&&o.add("focused")}))}},{key:"refreshFocus",value:function(){var t=Math.round((this.focused-this.start)/this.step);this.grid.querySelectorAll(".focused").forEach((function(t){t.classList.remove("focused")})),this.grid.children[t].classList.add("focused")}}])}(mt);function xt(t,e){var i={date:t.getDate(),viewDate:new Date(t.picker.viewDate),viewId:t.picker.currentView.id,datepicker:t};t.element.dispatchEvent(new CustomEvent(e,{detail:i}))}function Dt(t,e){var i,n=t.config,r=n.minDate,o=n.maxDate,a=t.picker,s=a.currentView,d=a.viewDate;switch(s.id){case 0:i=C(d,e);break;case 1:i=S(d,e);break;default:i=S(d,e*s.navStep)}i=E(i,r,o),t.picker.changeFocus(i).render()}function Ot(t){var e=t.picker.currentView.id;e!==t.config.maxView&&t.picker.changeView(e+1).render()}function Lt(t){t.config.updateOnBlur?t.update({autohide:!0}):(t.refresh("input"),t.hide())}function It(t,e){var i=t.picker,n=new Date(i.viewDate),r=i.currentView.id,o=1===r?C(n,e-n.getMonth()):S(n,e-n.getFullYear());i.changeFocus(o).changeView(r-1).render()}function At(t){var e=t.picker,i=L();if(1===t.config.todayBtnMode){if(t.config.autohide)return void t.setDate(i);t.setDate(i,{render:!1}),e.update()}e.viewDate!==i&&e.changeFocus(i),e.changeView(0).render()}function Ct(t){t.setDate({clear:!0})}function St(t){Ot(t)}function Tt(t){Dt(t,-1)}function Mt(t){Dt(t,1)}function Ht(t,e){var i=Z(e,".datepicker-cell");if(i&&!i.classList.contains("disabled")){var n=t.picker.currentView,r=n.id;n.isMinView?t.setDate(Number(i.dataset.date)):It(t,Number(1===r?i.dataset.month:i.dataset.year))}}function Pt(t){t.inline||t.config.disableTouchKeyboard||t.inputField.focus()}function jt(t,e){if(void 0!==e.title&&(e.title?(t.controls.title.textContent=e.title,ot(t.controls.title)):(t.controls.title.textContent="",rt(t.controls.title))),e.prevArrow){var i=t.controls.prevBtn;at(i),e.prevArrow.forEach((function(t){i.appendChild(t.cloneNode(!0))}))}if(e.nextArrow){var n=t.controls.nextBtn;at(n),e.nextArrow.forEach((function(t){n.appendChild(t.cloneNode(!0))}))}if(e.locale&&(t.controls.todayBtn.textContent=e.locale.today,t.controls.clearBtn.textContent=e.locale.clear),void 0!==e.todayBtn&&(e.todayBtn?ot(t.controls.todayBtn):rt(t.controls.todayBtn)),m(e,"minDate")||m(e,"maxDate")){var r=t.datepicker.config,o=r.minDate,a=r.maxDate;t.controls.todayBtn.disabled=!k(L(),o,a)}void 0!==e.clearBtn&&(e.clearBtn?ot(t.controls.clearBtn):rt(t.controls.clearBtn))}function Vt(t){var e=t.dates,i=t.config;return E(e.length>0?b(e):i.defaultViewDate,i.minDate,i.maxDate)}function Bt(t,e){var i=new Date(t.viewDate),n=new Date(e),r=t.currentView,o=r.id,a=r.year,s=r.first,d=r.last,c=n.getFullYear();switch(t.viewDate=e,c!==i.getFullYear()&&xt(t.datepicker,"changeYear"),n.getMonth()!==i.getMonth()&&xt(t.datepicker,"changeMonth"),o){case 0:return e<s||e>d;case 1:return c!==a;default:return c<s||c>d}}function zt(t){return window.getComputedStyle(t).direction}var Ft=function(){return a((function t(e){r(this,t),this.datepicker=e;var i=gt.replace(/%buttonClass%/g,e.config.buttonClass),n=this.element=nt(i).firstChild,o=h(n.firstChild.children,3),a=o[0],s=o[1],d=o[2],c=a.firstElementChild,l=h(a.lastElementChild.children,3),u=l[0],p=l[1],f=l[2],g=h(d.firstChild.children,2),v={title:c,prevBtn:u,viewSwitch:p,nextBtn:f,todayBtn:g[0],clearBtn:g[1]};this.main=s,this.controls=v;var y=e.inline?"inline":"dropdown";n.classList.add("datepicker-".concat(y)),"dropdown"===y&&n.classList.add("dropdown","absolute","top-0","left-0","z-50","pt-2"),jt(this,e.config),this.viewDate=Vt(e),X(e,[[n,"click",Pt.bind(null,e),{capture:!0}],[s,"click",Ht.bind(null,e)],[v.viewSwitch,"click",St.bind(null,e)],[v.prevBtn,"click",Tt.bind(null,e)],[v.nextBtn,"click",Mt.bind(null,e)],[v.todayBtn,"click",At.bind(null,e)],[v.clearBtn,"click",Ct.bind(null,e)]]),this.views=[new bt(this),new wt(this),new Et(this,{id:2,name:"years",cellClass:"year",step:1}),new Et(this,{id:3,name:"decades",cellClass:"decade",step:10})],this.currentView=this.views[e.config.startView],this.currentView.render(),this.main.appendChild(this.currentView.element),e.config.container.appendChild(this.element)}),[{key:"setOptions",value:function(t){jt(this,t),this.views.forEach((function(e){e.init(t,!1)})),this.currentView.render()}},{key:"detach",value:function(){this.datepicker.config.container.removeChild(this.element)}},{key:"show",value:function(){if(!this.active){this.element.classList.add("active","block"),this.element.classList.remove("hidden"),this.active=!0;var t=this.datepicker;if(!t.inline){var e=zt(t.inputField);e!==zt(t.config.container)?this.element.dir=e:this.element.dir&&this.element.removeAttribute("dir"),this.place(),t.config.disableTouchKeyboard&&t.inputField.blur()}xt(t,"show")}}},{key:"hide",value:function(){this.active&&(this.datepicker.exitEditMode(),this.element.classList.remove("active","block"),this.element.classList.add("active","block","hidden"),this.active=!1,xt(this.datepicker,"hide"))}},{key:"place",value:function(){var t,e,i,n=this.element,r=n.classList,o=n.style,a=this.datepicker,s=a.config,d=a.inputField,c=s.container,l=this.element.getBoundingClientRect(),u=l.width,h=l.height,p=c.getBoundingClientRect(),f=p.left,g=p.top,v=p.width,y=d.getBoundingClientRect(),m=y.left,b=y.top,_=y.width,w=y.height,k=s.orientation,E=k.x,x=k.y;c===document.body?(t=window.scrollY,e=m+window.scrollX,i=b+t):(e=m-f,i=b-g+(t=c.scrollTop)),"auto"===E&&(e<0?(E="left",e=10):E=e+u>v||"rtl"===zt(d)?"right":"left"),"right"===E&&(e-=u-_),"auto"===x&&(x=i-h<t?"bottom":"top"),"top"===x?i-=h:i+=w,r.remove("datepicker-orient-top","datepicker-orient-bottom","datepicker-orient-right","datepicker-orient-left"),r.add("datepicker-orient-".concat(x),"datepicker-orient-".concat(E)),o.top=i?"".concat(i,"px"):i,o.left=e?"".concat(e,"px"):e}},{key:"setViewSwitchLabel",value:function(t){this.controls.viewSwitch.textContent=t}},{key:"setPrevBtnDisabled",value:function(t){this.controls.prevBtn.disabled=t}},{key:"setNextBtnDisabled",value:function(t){this.controls.nextBtn.disabled=t}},{key:"changeView",value:function(t){var e=this.currentView,i=this.views[t];return i.id!==e.id&&(this.currentView=i,this._renderMethod="render",xt(this.datepicker,"changeView"),this.main.replaceChild(i.element,e.element)),this}},{key:"changeFocus",value:function(t){return this._renderMethod=Bt(this,t)?"render":"refreshFocus",this.views.forEach((function(t){t.updateFocus()})),this}},{key:"update",value:function(){var t=Vt(this.datepicker);return this._renderMethod=Bt(this,t)?"render":"refresh",this.views.forEach((function(t){t.updateFocus(),t.updateSelection()})),this}},{key:"render",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=t&&this._renderMethod||"render";delete this._renderMethod,this.currentView[e]()}}])}();function Nt(t,e,i,n,r,o){if(k(t,r,o))return n(t)?Nt(e(t,i),e,i,n,r,o):t}function Wt(t,e,i,n){var r,o,a=t.picker,s=a.currentView,d=s.step||1,c=a.viewDate;switch(s.id){case 0:c=n?A(c,7*i):e.ctrlKey||e.metaKey?S(c,i):A(c,i),r=A,o=function(t){return s.disabled.includes(t)};break;case 1:c=C(c,n?4*i:i),r=C,o=function(t){var e=new Date(t),i=s.year,n=s.disabled;return e.getFullYear()===i&&n.includes(e.getMonth())};break;default:c=S(c,i*(n?4:1)*d),r=S,o=function(t){return s.disabled.includes(H(t,d))}}void 0!==(c=Nt(c,r,i<0?-d:d,o,s.minDate,s.maxDate))&&a.changeFocus(c).render()}function qt(t,e){if("Tab"!==e.key){var i=t.picker,n=i.currentView,r=n.id,o=n.isMinView;if(i.active)if(t.editMode)switch(e.key){case"Escape":i.hide();break;case"Enter":t.exitEditMode({update:!0,autohide:t.config.autohide});break;default:return}else switch(e.key){case"Escape":i.hide();break;case"ArrowLeft":if(e.ctrlKey||e.metaKey)Dt(t,-1);else{if(e.shiftKey)return void t.enterEditMode();Wt(t,e,-1,!1)}break;case"ArrowRight":if(e.ctrlKey||e.metaKey)Dt(t,1);else{if(e.shiftKey)return void t.enterEditMode();Wt(t,e,1,!1)}break;case"ArrowUp":if(e.ctrlKey||e.metaKey)Ot(t);else{if(e.shiftKey)return void t.enterEditMode();Wt(t,e,-1,!0)}break;case"ArrowDown":if(e.shiftKey&&!e.ctrlKey&&!e.metaKey)return void t.enterEditMode();Wt(t,e,1,!0);break;case"Enter":o?t.setDate(i.viewDate):i.changeView(r-1).render();break;case"Backspace":case"Delete":return void t.enterEditMode();default:return void(1!==e.key.length||e.ctrlKey||e.metaKey||t.enterEditMode())}else switch(e.key){case"ArrowDown":case"Escape":i.show();break;case"Enter":t.update();break;default:return}e.preventDefault(),e.stopPropagation()}else Lt(t)}function Rt(t){t.config.showOnFocus&&!t._showing&&t.show()}function Yt(t,e){var i=e.target;(t.picker.active||t.config.showOnClick)&&(i._active=i===document.activeElement,i._clicking=setTimeout((function(){delete i._active,delete i._clicking}),2e3))}function Kt(t,e){var i=e.target;i._clicking&&(clearTimeout(i._clicking),delete i._clicking,i._active&&t.enterEditMode(),delete i._active,t.config.showOnClick&&t.show())}function Ut(t,e){e.clipboardData.types.includes("text/plain")&&t.enterEditMode()}function Jt(t,e){var i=t.element;if(i===document.activeElement){var n=t.picker.element;Z(e,(function(t){return t===i||t===n}))||Lt(t)}}function Xt(t,e){return t.map((function(t){return R(t,e.format,e.locale)})).join(e.dateDelimiter)}function $t(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=t.config,r=t.dates,o=t.rangepicker;if(0===e.length)return i?[]:void 0;var a=o&&t===o.datepickers[1],s=e.reduce((function(t,e){var i=q(e,n.format,n.locale);if(void 0===i)return t;if(n.pickLevel>0){var r=new Date(i);i=1===n.pickLevel?a?r.setMonth(r.getMonth()+1,0):r.setDate(1):a?r.setFullYear(r.getFullYear()+1,0,0):r.setMonth(0,1)}return!k(i,n.minDate,n.maxDate)||t.includes(i)||n.datesDisabled.includes(i)||n.daysOfWeekDisabled.includes(new Date(i).getDay())||t.push(i),t}),[]);return 0!==s.length?(n.multidate&&!i&&(s=s.reduce((function(t,e){return r.includes(e)||t.push(e),t}),r.filter((function(t){return!s.includes(t)})))),n.maxNumberOfDates&&s.length>n.maxNumberOfDates?s.slice(-1*n.maxNumberOfDates):s):void 0}function Gt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=t.config,r=t.picker,o=t.inputField;if(2&e){var a=r.active?n.pickLevel:n.startView;r.update().changeView(a).render(i)}1&e&&o&&(o.value=Xt(t.dates,n))}function Qt(t,e,i){var n=i.clear,r=i.render,o=i.autohide;void 0===r&&(r=!0),r?void 0===o&&(o=t.config.autohide):o=!1;var a=$t(t,e,n);a&&(a.toString()!==t.dates.toString()?(t.dates=a,Gt(t,r?3:1),xt(t,"changeDate")):Gt(t,1),o&&t.hide())}var Zt=function(){return a((function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;r(this,t),e.datepicker=this,this.element=e;var o=this.config=Object.assign({buttonClass:i.buttonClass&&String(i.buttonClass)||"button",container:document.body,defaultViewDate:L(),maxDate:void 0,minDate:void 0},ft(et,this));this._options=i,Object.assign(o,ft(i,this));var a,s,d=this.inline="INPUT"!==e.tagName;if(d)o.container=e,s=w(e.dataset.date,o.dateDelimiter),delete e.dataset.date;else{var c=i.container?document.querySelector(i.container):null;c&&(o.container=c),(a=this.inputField=e).classList.add("datepicker-input"),s=w(a.value,o.dateDelimiter)}if(n){var l=n.inputs.indexOf(a),u=n.datepickers;if(l<0||l>1||!Array.isArray(u))throw Error("Invalid rangepicker object.");u[l]=this,Object.defineProperty(this,"rangepicker",{get:function(){return n}})}this.dates=[];var h=$t(this,s);h&&h.length>0&&(this.dates=h),a&&(a.value=Xt(this.dates,o));var p=this.picker=new Ft(this);if(d)this.show();else{var f=Jt.bind(null,this),g=[[a,"keydown",qt.bind(null,this)],[a,"focus",Rt.bind(null,this)],[a,"mousedown",Yt.bind(null,this)],[a,"click",Kt.bind(null,this)],[a,"paste",Ut.bind(null,this)],[document,"mousedown",f],[document,"touchstart",f],[window,"resize",p.place.bind(p)]];X(this,g)}}),[{key:"active",get:function(){return!(!this.picker||!this.picker.active)}},{key:"pickerElement",get:function(){return this.picker?this.picker.element:void 0}},{key:"setOptions",value:function(t){var e=this.picker,i=ft(t,this);Object.assign(this._options,t),Object.assign(this.config,i),e.setOptions(i),Gt(this,3)}},{key:"show",value:function(){if(this.inputField){if(this.inputField.disabled)return;this.inputField!==document.activeElement&&(this._showing=!0,this.inputField.focus(),delete this._showing)}this.picker.show()}},{key:"hide",value:function(){this.inline||(this.picker.hide(),this.picker.update().changeView(this.config.startView).render())}},{key:"destroy",value:function(){return this.hide(),$(this),this.picker.detach(),this.inline||this.inputField.classList.remove("datepicker-input"),delete this.element.datepicker,this}},{key:"getDate",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,i=e?function(i){return R(i,e,t.config.locale)}:function(t){return new Date(t)};return this.config.multidate?this.dates.map(i):this.dates.length>0?i(this.dates[0]):void 0}},{key:"setDate",value:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];var n=[].concat(e),r={},o=b(e);"object"!==v(o)||Array.isArray(o)||o instanceof Date||!o||Object.assign(r,n.pop());var a=Array.isArray(n[0])?n[0]:n;Qt(this,a,r)}},{key:"update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(!this.inline){var e={clear:!0,autohide:!(!t||!t.autohide)},i=w(this.inputField.value,this.config.dateDelimiter);Qt(this,i,e)}}},{key:"refresh",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t&&"string"!=typeof t&&(e=t,t=void 0),Gt(this,"picker"===t?2:"input"===t?1:3,!e)}},{key:"enterEditMode",value:function(){this.inline||!this.picker.active||this.editMode||(this.editMode=!0,this.inputField.classList.add("in-edit","border-blue-700","!border-primary-700"))}},{key:"exitEditMode",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(!this.inline&&this.editMode){var e=Object.assign({update:!1},t);delete this.editMode,this.inputField.classList.remove("in-edit","border-blue-700","!border-primary-700"),e.update&&this.update(e)}}}],[{key:"formatDate",value:function(t,e,i){return R(t,e,i&&tt[i]||tt.en)}},{key:"parseDate",value:function(t,e,i){return q(t,e,i&&tt[i]||tt.en)}},{key:"locales",get:function(){return tt}}])}();function te(t){var e=Object.assign({},t);return delete e.inputs,delete e.allowOneSidedRange,delete e.maxNumberOfDates,e}function ee(t,e,i,n){X(t,[[i,"changeDate",e]]),new Zt(i,n,t)}function ie(t,e){if(!t._updating){t._updating=!0;var i=e.target;if(void 0!==i.datepicker){var n=t.datepickers,r={render:!1},o=t.inputs.indexOf(i),a=0===o?1:0,s=n[o].dates[0],d=n[a].dates[0];void 0!==s&&void 0!==d?0===o&&s>d?(n[0].setDate(d,r),n[1].setDate(s,r)):1===o&&s<d&&(n[0].setDate(s,r),n[1].setDate(d,r)):t.allowOneSidedRange||void 0===s&&void 0===d||(r.clear=!0,n[a].setDate(n[o].dates,r)),n[0].picker.update().render(),n[1].picker.update().render(),delete t._updating}}}var ne=function(){return a((function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,t);var n=Array.isArray(i.inputs)?i.inputs:Array.from(e.querySelectorAll("input"));if(!(n.length<2)){e.rangepicker=this,this.element=e,this.inputs=n.slice(0,2),this.allowOneSidedRange=!!i.allowOneSidedRange;var o=ie.bind(null,this),a=te(i),s=[];Object.defineProperty(this,"datepickers",{get:function(){return s}}),ee(this,o,this.inputs[0],a),ee(this,o,this.inputs[1],a),Object.freeze(s),s[0].dates.length>0?ie(this,{target:this.inputs[0]}):s[1].dates.length>0&&ie(this,{target:this.inputs[1]})}}),[{key:"dates",get:function(){return 2===this.datepickers.length?[this.datepickers[0].dates[0],this.datepickers[1].dates[0]]:void 0}},{key:"setOptions",value:function(t){this.allowOneSidedRange=!!t.allowOneSidedRange;var e=te(t);this.datepickers[0].setOptions(e),this.datepickers[1].setOptions(e)}},{key:"destroy",value:function(){this.datepickers[0].destroy(),this.datepickers[1].destroy(),$(this),delete this.element.rangepicker}},{key:"getDates",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,i=e?function(i){return R(i,e,t.datepickers[0].config.locale)}:function(t){return new Date(t)};return this.dates.map((function(t){return void 0===t?t:i(t)}))}},{key:"setDates",value:function(t,e){var i=h(this.datepickers,2),n=i[0],r=i[1],o=this.dates;this._updating=!0,n.setDate(t),r.setDate(e),delete this._updating,r.dates[0]!==o[1]?ie(this,{target:this.inputs[1]}):n.dates[0]!==o[0]&&ie(this,{target:this.inputs[0]})}}])}();e.DateRangePicker=ne,e.Datepicker=Zt},902:function(t,e,i){var n=this&&this.__assign||function(){return n=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},n.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.initAccordions=void 0;var r=i(423),o={alwaysOpen:!1,activeClasses:"bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-white",inactiveClasses:"text-gray-500 dark:text-gray-400",onOpen:function(){},onClose:function(){},onToggle:function(){}},a={id:null,override:!0},s=function(){function t(t,e,i,s){void 0===t&&(t=null),void 0===e&&(e=[]),void 0===i&&(i=o),void 0===s&&(s=a),this._instanceId=s.id?s.id:t.id,this._accordionEl=t,this._items=e,this._options=n(n({},o),i),this._initialized=!1,this.init(),r.default.addInstance("Accordion",this,this._instanceId,s.override)}return t.prototype.init=function(){var t=this;this._items.length&&!this._initialized&&(this._items.forEach((function(e){e.active&&t.open(e.id);var i=function(){t.toggle(e.id)};e.triggerEl.addEventListener("click",i),e.clickHandler=i})),this._initialized=!0)},t.prototype.destroy=function(){this._items.length&&this._initialized&&(this._items.forEach((function(t){t.triggerEl.removeEventListener("click",t.clickHandler),delete t.clickHandler})),this._initialized=!1)},t.prototype.removeInstance=function(){r.default.removeInstance("Accordion",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype.getItem=function(t){return this._items.filter((function(e){return e.id===t}))[0]},t.prototype.open=function(t){var e,i,n=this,r=this.getItem(t);this._options.alwaysOpen||this._items.map((function(t){var e,i;t!==r&&((e=t.triggerEl.classList).remove.apply(e,n._options.activeClasses.split(" ")),(i=t.triggerEl.classList).add.apply(i,n._options.inactiveClasses.split(" ")),t.targetEl.classList.add("hidden"),t.triggerEl.setAttribute("aria-expanded","false"),t.active=!1,t.iconEl&&t.iconEl.classList.add("rotate-180"))})),(e=r.triggerEl.classList).add.apply(e,this._options.activeClasses.split(" ")),(i=r.triggerEl.classList).remove.apply(i,this._options.inactiveClasses.split(" ")),r.triggerEl.setAttribute("aria-expanded","true"),r.targetEl.classList.remove("hidden"),r.active=!0,r.iconEl&&r.iconEl.classList.remove("rotate-180"),this._options.onOpen(this,r)},t.prototype.toggle=function(t){var e=this.getItem(t);e.active?this.close(t):this.open(t),this._options.onToggle(this,e)},t.prototype.close=function(t){var e,i,n=this.getItem(t);(e=n.triggerEl.classList).remove.apply(e,this._options.activeClasses.split(" ")),(i=n.triggerEl.classList).add.apply(i,this._options.inactiveClasses.split(" ")),n.targetEl.classList.add("hidden"),n.triggerEl.setAttribute("aria-expanded","false"),n.active=!1,n.iconEl&&n.iconEl.classList.add("rotate-180"),this._options.onClose(this,n)},t.prototype.updateOnOpen=function(t){this._options.onOpen=t},t.prototype.updateOnClose=function(t){this._options.onClose=t},t.prototype.updateOnToggle=function(t){this._options.onToggle=t},t}();function d(){document.querySelectorAll("[data-accordion]").forEach((function(t){var e=t.getAttribute("data-accordion"),i=t.getAttribute("data-active-classes"),n=t.getAttribute("data-inactive-classes"),r=[];t.querySelectorAll("[data-accordion-target]").forEach((function(e){if(e.closest("[data-accordion]")===t){var i={id:e.getAttribute("data-accordion-target"),triggerEl:e,targetEl:document.querySelector(e.getAttribute("data-accordion-target")),iconEl:e.querySelector("[data-accordion-icon]"),active:"true"===e.getAttribute("aria-expanded")};r.push(i)}})),new s(t,r,{alwaysOpen:"open"===e,activeClasses:i||o.activeClasses,inactiveClasses:n||o.inactiveClasses})}))}e.initAccordions=d,"undefined"!=typeof window&&(window.Accordion=s,window.initAccordions=d),e.default=s},33:function(t,e,i){var n=this&&this.__assign||function(){return n=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},n.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.initCarousels=void 0;var r=i(423),o={defaultPosition:0,indicators:{items:[],activeClasses:"bg-white dark:bg-gray-800",inactiveClasses:"bg-white/50 dark:bg-gray-800/50 hover:bg-white dark:hover:bg-gray-800"},interval:3e3,onNext:function(){},onPrev:function(){},onChange:function(){}},a={id:null,override:!0},s=function(){function t(t,e,i,s){void 0===t&&(t=null),void 0===e&&(e=[]),void 0===i&&(i=o),void 0===s&&(s=a),this._instanceId=s.id?s.id:t.id,this._carouselEl=t,this._items=e,this._options=n(n(n({},o),i),{indicators:n(n({},o.indicators),i.indicators)}),this._activeItem=this.getItem(this._options.defaultPosition),this._indicators=this._options.indicators.items,this._intervalDuration=this._options.interval,this._intervalInstance=null,this._initialized=!1,this.init(),r.default.addInstance("Carousel",this,this._instanceId,s.override)}return t.prototype.init=function(){var t=this;this._items.length&&!this._initialized&&(this._items.map((function(t){t.el.classList.add("absolute","inset-0","transition-transform","transform")})),this.getActiveItem()?this.slideTo(this.getActiveItem().position):this.slideTo(0),this._indicators.map((function(e,i){e.el.addEventListener("click",(function(){t.slideTo(i)}))})),this._initialized=!0)},t.prototype.destroy=function(){this._initialized&&(this._initialized=!1)},t.prototype.removeInstance=function(){r.default.removeInstance("Carousel",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype.getItem=function(t){return this._items[t]},t.prototype.slideTo=function(t){var e=this._items[t],i={left:0===e.position?this._items[this._items.length-1]:this._items[e.position-1],middle:e,right:e.position===this._items.length-1?this._items[0]:this._items[e.position+1]};this._rotate(i),this._setActiveItem(e),this._intervalInstance&&(this.pause(),this.cycle()),this._options.onChange(this)},t.prototype.next=function(){var t=this.getActiveItem(),e=null;e=t.position===this._items.length-1?this._items[0]:this._items[t.position+1],this.slideTo(e.position),this._options.onNext(this)},t.prototype.prev=function(){var t=this.getActiveItem(),e=null;e=0===t.position?this._items[this._items.length-1]:this._items[t.position-1],this.slideTo(e.position),this._options.onPrev(this)},t.prototype._rotate=function(t){if(this._items.map((function(t){t.el.classList.add("hidden")})),1===this._items.length)return t.middle.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-10"),void t.middle.el.classList.add("translate-x-0","z-20");t.left.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-20"),t.left.el.classList.add("-translate-x-full","z-10"),t.middle.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-10"),t.middle.el.classList.add("translate-x-0","z-30"),t.right.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-30"),t.right.el.classList.add("translate-x-full","z-20")},t.prototype.cycle=function(){var t=this;"undefined"!=typeof window&&(this._intervalInstance=window.setInterval((function(){t.next()}),this._intervalDuration))},t.prototype.pause=function(){clearInterval(this._intervalInstance)},t.prototype.getActiveItem=function(){return this._activeItem},t.prototype._setActiveItem=function(t){var e,i,n=this;this._activeItem=t;var r=t.position;this._indicators.length&&(this._indicators.map((function(t){var e,i;t.el.setAttribute("aria-current","false"),(e=t.el.classList).remove.apply(e,n._options.indicators.activeClasses.split(" ")),(i=t.el.classList).add.apply(i,n._options.indicators.inactiveClasses.split(" "))})),(e=this._indicators[r].el.classList).add.apply(e,this._options.indicators.activeClasses.split(" ")),(i=this._indicators[r].el.classList).remove.apply(i,this._options.indicators.inactiveClasses.split(" ")),this._indicators[r].el.setAttribute("aria-current","true"))},t.prototype.updateOnNext=function(t){this._options.onNext=t},t.prototype.updateOnPrev=function(t){this._options.onPrev=t},t.prototype.updateOnChange=function(t){this._options.onChange=t},t}();function d(){document.querySelectorAll("[data-carousel]").forEach((function(t){var e=t.getAttribute("data-carousel-interval"),i="slide"===t.getAttribute("data-carousel"),n=[],r=0;t.querySelectorAll("[data-carousel-item]").length&&Array.from(t.querySelectorAll("[data-carousel-item]")).map((function(t,e){n.push({position:e,el:t}),"active"===t.getAttribute("data-carousel-item")&&(r=e)}));var a=[];t.querySelectorAll("[data-carousel-slide-to]").length&&Array.from(t.querySelectorAll("[data-carousel-slide-to]")).map((function(t){a.push({position:parseInt(t.getAttribute("data-carousel-slide-to")),el:t})}));var d=new s(t,n,{defaultPosition:r,indicators:{items:a},interval:e||o.interval});i&&d.cycle();var c=t.querySelector("[data-carousel-next]"),l=t.querySelector("[data-carousel-prev]");c&&c.addEventListener("click",(function(){d.next()})),l&&l.addEventListener("click",(function(){d.prev()}))}))}e.initCarousels=d,"undefined"!=typeof window&&(window.Carousel=s,window.initCarousels=d),e.default=s},673:function(t,e,i){var n=this&&this.__assign||function(){return n=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},n.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.initCopyClipboards=void 0;var r=i(423),o={htmlEntities:!1,contentType:"input",onCopy:function(){}},a={id:null,override:!0},s=function(){function t(t,e,i,s){void 0===t&&(t=null),void 0===e&&(e=null),void 0===i&&(i=o),void 0===s&&(s=a),this._instanceId=s.id?s.id:e.id,this._triggerEl=t,this._targetEl=e,this._options=n(n({},o),i),this._initialized=!1,this.init(),r.default.addInstance("CopyClipboard",this,this._instanceId,s.override)}return t.prototype.init=function(){var t=this;this._targetEl&&this._triggerEl&&!this._initialized&&(this._triggerElClickHandler=function(){t.copy()},this._triggerEl&&this._triggerEl.addEventListener("click",this._triggerElClickHandler),this._initialized=!0)},t.prototype.destroy=function(){this._triggerEl&&this._targetEl&&this._initialized&&(this._triggerEl&&this._triggerEl.removeEventListener("click",this._triggerElClickHandler),this._initialized=!1)},t.prototype.removeInstance=function(){r.default.removeInstance("CopyClipboard",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype.getTargetValue=function(){return"input"===this._options.contentType?this._targetEl.value:"innerHTML"===this._options.contentType?this._targetEl.innerHTML:"textContent"===this._options.contentType?this._targetEl.textContent.replace(/\s+/g," ").trim():void 0},t.prototype.copy=function(){var t=this.getTargetValue();this._options.htmlEntities&&(t=this.decodeHTML(t));var e=document.createElement("textarea");return e.value=t,document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e),this._options.onCopy(this),t},t.prototype.decodeHTML=function(t){var e=document.createElement("textarea");return e.innerHTML=t,e.textContent},t.prototype.updateOnCopyCallback=function(t){this._options.onCopy=t},t}();function d(){document.querySelectorAll("[data-copy-to-clipboard-target]").forEach((function(t){var e=t.getAttribute("data-copy-to-clipboard-target"),i=document.getElementById(e),n=t.getAttribute("data-copy-to-clipboard-content-type"),a=t.getAttribute("data-copy-to-clipboard-html-entities");i?r.default.instanceExists("CopyClipboard",i.getAttribute("id"))||new s(t,i,{htmlEntities:!(!a||"true"!==a)||o.htmlEntities,contentType:n||o.contentType}):console.error('The target element with id "'.concat(e,'" does not exist. Please check the data-copy-to-clipboard-target attribute.'))}))}e.initCopyClipboards=d,"undefined"!=typeof window&&(window.CopyClipboard=s,window.initClipboards=d),e.default=s},922:function(t,e,i){var n=this&&this.__assign||function(){return n=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},n.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.initCollapses=void 0;var r=i(423),o={onCollapse:function(){},onExpand:function(){},onToggle:function(){}},a={id:null,override:!0},s=function(){function t(t,e,i,s){void 0===t&&(t=null),void 0===e&&(e=null),void 0===i&&(i=o),void 0===s&&(s=a),this._instanceId=s.id?s.id:t.id,this._targetEl=t,this._triggerEl=e,this._options=n(n({},o),i),this._visible=!1,this._initialized=!1,this.init(),r.default.addInstance("Collapse",this,this._instanceId,s.override)}return t.prototype.init=function(){var t=this;this._triggerEl&&this._targetEl&&!this._initialized&&(this._triggerEl.hasAttribute("aria-expanded")?this._visible="true"===this._triggerEl.getAttribute("aria-expanded"):this._visible=!this._targetEl.classList.contains("hidden"),this._clickHandler=function(){t.toggle()},this._triggerEl.addEventListener("click",this._clickHandler),this._initialized=!0)},t.prototype.destroy=function(){this._triggerEl&&this._initialized&&(this._triggerEl.removeEventListener("click",this._clickHandler),this._initialized=!1)},t.prototype.removeInstance=function(){r.default.removeInstance("Collapse",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype.collapse=function(){this._targetEl.classList.add("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","false"),this._visible=!1,this._options.onCollapse(this)},t.prototype.expand=function(){this._targetEl.classList.remove("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","true"),this._visible=!0,this._options.onExpand(this)},t.prototype.toggle=function(){this._visible?this.collapse():this.expand(),this._options.onToggle(this)},t.prototype.updateOnCollapse=function(t){this._options.onCollapse=t},t.prototype.updateOnExpand=function(t){this._options.onExpand=t},t.prototype.updateOnToggle=function(t){this._options.onToggle=t},t}();function d(){document.querySelectorAll("[data-collapse-toggle]").forEach((function(t){var e=t.getAttribute("data-collapse-toggle"),i=document.getElementById(e);i?r.default.instanceExists("Collapse",i.getAttribute("id"))?new s(i,t,{},{id:i.getAttribute("id")+"_"+r.default._generateRandomId()}):new s(i,t):console.error('The target element with id "'.concat(e,'" does not exist. Please check the data-collapse-toggle attribute.'))}))}e.initCollapses=d,"undefined"!=typeof window&&(window.Collapse=s,window.initCollapses=d),e.default=s},132:function(t,e,i){var n=this&&this.__assign||function(){return n=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},n.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.initDatepickers=void 0;var r=i(423),o=i(554),a={defaultDatepickerId:null,autohide:!1,format:"mm/dd/yyyy",maxDate:null,minDate:null,orientation:"bottom",buttons:!1,autoSelectToday:0,title:null,language:"en",rangePicker:!1,onShow:function(){},onHide:function(){}},s={id:null,override:!0},d=function(){function t(t,e,i){void 0===t&&(t=null),void 0===e&&(e=a),void 0===i&&(i=s),this._instanceId=i.id?i.id:t.id,this._datepickerEl=t,this._datepickerInstance=null,this._options=n(n({},a),e),this._initialized=!1,this.init(),r.default.addInstance("Datepicker",this,this._instanceId,i.override)}return t.prototype.init=function(){this._datepickerEl&&!this._initialized&&(this._options.rangePicker?this._datepickerInstance=new o.DateRangePicker(this._datepickerEl,this._getDatepickerOptions(this._options)):this._datepickerInstance=new o.Datepicker(this._datepickerEl,this._getDatepickerOptions(this._options)),this._initialized=!0)},t.prototype.destroy=function(){this._initialized&&(this._initialized=!1,this._datepickerInstance.destroy())},t.prototype.removeInstance=function(){this.destroy(),r.default.removeInstance("Datepicker",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype.getDatepickerInstance=function(){return this._datepickerInstance},t.prototype.getDate=function(){return this._options.rangePicker&&this._datepickerInstance instanceof o.DateRangePicker?this._datepickerInstance.getDates():!this._options.rangePicker&&this._datepickerInstance instanceof o.Datepicker?this._datepickerInstance.getDate():void 0},t.prototype.setDate=function(t){return this._options.rangePicker&&this._datepickerInstance instanceof o.DateRangePicker?this._datepickerInstance.setDates(t):!this._options.rangePicker&&this._datepickerInstance instanceof o.Datepicker?this._datepickerInstance.setDate(t):void 0},t.prototype.show=function(){this._datepickerInstance.show(),this._options.onShow(this)},t.prototype.hide=function(){this._datepickerInstance.hide(),this._options.onHide(this)},t.prototype._getDatepickerOptions=function(t){var e={};return t.buttons&&(e.todayBtn=!0,e.clearBtn=!0,t.autoSelectToday&&(e.todayBtnMode=1)),t.autohide&&(e.autohide=!0),t.format&&(e.format=t.format),t.maxDate&&(e.maxDate=t.maxDate),t.minDate&&(e.minDate=t.minDate),t.orientation&&(e.orientation=t.orientation),t.title&&(e.title=t.title),t.language&&(e.language=t.language),e},t.prototype.updateOnShow=function(t){this._options.onShow=t},t.prototype.updateOnHide=function(t){this._options.onHide=t},t}();function c(){document.querySelectorAll("[datepicker], [inline-datepicker], [date-rangepicker]").forEach((function(t){if(t){var e=t.hasAttribute("datepicker-buttons"),i=t.hasAttribute("datepicker-autoselect-today"),n=t.hasAttribute("datepicker-autohide"),r=t.getAttribute("datepicker-format"),o=t.getAttribute("datepicker-max-date"),s=t.getAttribute("datepicker-min-date"),c=t.getAttribute("datepicker-orientation"),l=t.getAttribute("datepicker-title"),u=t.getAttribute("datepicker-language"),h=t.hasAttribute("date-rangepicker");new d(t,{buttons:e||a.buttons,autoSelectToday:i||a.autoSelectToday,autohide:n||a.autohide,format:r||a.format,maxDate:o||a.maxDate,minDate:s||a.minDate,orientation:c||a.orientation,title:l||a.title,language:u||a.language,rangePicker:h||a.rangePicker})}else console.error("The datepicker element does not exist. Please check the datepicker attribute.")}))}e.initDatepickers=c,"undefined"!=typeof window&&(window.Datepicker=d,window.initDatepickers=c),e.default=d},556:function(t,e,i){var n=this&&this.__assign||function(){return n=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},n.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.initDials=void 0;var r=i(423),o={triggerType:"hover",onShow:function(){},onHide:function(){},onToggle:function(){}},a={id:null,override:!0},s=function(){function t(t,e,i,s,d){void 0===t&&(t=null),void 0===e&&(e=null),void 0===i&&(i=null),void 0===s&&(s=o),void 0===d&&(d=a),this._instanceId=d.id?d.id:i.id,this._parentEl=t,this._triggerEl=e,this._targetEl=i,this._options=n(n({},o),s),this._visible=!1,this._initialized=!1,this.init(),r.default.addInstance("Dial",this,this._instanceId,d.override)}return t.prototype.init=function(){var t=this;if(this._triggerEl&&this._targetEl&&!this._initialized){var e=this._getTriggerEventTypes(this._options.triggerType);this._showEventHandler=function(){t.show()},e.showEvents.forEach((function(e){t._triggerEl.addEventListener(e,t._showEventHandler),t._targetEl.addEventListener(e,t._showEventHandler)})),this._hideEventHandler=function(){t._parentEl.matches(":hover")||t.hide()},e.hideEvents.forEach((function(e){t._parentEl.addEventListener(e,t._hideEventHandler)})),this._initialized=!0}},t.prototype.destroy=function(){var t=this;if(this._initialized){var e=this._getTriggerEventTypes(this._options.triggerType);e.showEvents.forEach((function(e){t._triggerEl.removeEventListener(e,t._showEventHandler),t._targetEl.removeEventListener(e,t._showEventHandler)})),e.hideEvents.forEach((function(e){t._parentEl.removeEventListener(e,t._hideEventHandler)})),this._initialized=!1}},t.prototype.removeInstance=function(){r.default.removeInstance("Dial",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype.hide=function(){this._targetEl.classList.add("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","false"),this._visible=!1,this._options.onHide(this)},t.prototype.show=function(){this._targetEl.classList.remove("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","true"),this._visible=!0,this._options.onShow(this)},t.prototype.toggle=function(){this._visible?this.hide():this.show()},t.prototype.isHidden=function(){return!this._visible},t.prototype.isVisible=function(){return this._visible},t.prototype._getTriggerEventTypes=function(t){switch(t){case"hover":default:return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]};case"click":return{showEvents:["click","focus"],hideEvents:["focusout","blur"]};case"none":return{showEvents:[],hideEvents:[]}}},t.prototype.updateOnShow=function(t){this._options.onShow=t},t.prototype.updateOnHide=function(t){this._options.onHide=t},t.prototype.updateOnToggle=function(t){this._options.onToggle=t},t}();function d(){document.querySelectorAll("[data-dial-init]").forEach((function(t){var e=t.querySelector("[data-dial-toggle]");if(e){var i=e.getAttribute("data-dial-toggle"),n=document.getElementById(i);if(n){var r=e.getAttribute("data-dial-trigger");new s(t,e,n,{triggerType:r||o.triggerType})}else console.error("Dial with id ".concat(i," does not exist. Are you sure that the data-dial-toggle attribute points to the correct modal id?"))}else console.error("Dial with id ".concat(t.id," does not have a trigger element. Are you sure that the data-dial-toggle attribute exists?"))}))}e.initDials=d,"undefined"!=typeof window&&(window.Dial=s,window.initDials=d),e.default=s},791:function(t,e,i){var n=this&&this.__assign||function(){return n=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},n.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.initDismisses=void 0;var r=i(423),o={transition:"transition-opacity",duration:300,timing:"ease-out",onHide:function(){}},a={id:null,override:!0},s=function(){function t(t,e,i,s){void 0===t&&(t=null),void 0===e&&(e=null),void 0===i&&(i=o),void 0===s&&(s=a),this._instanceId=s.id?s.id:t.id,this._targetEl=t,this._triggerEl=e,this._options=n(n({},o),i),this._initialized=!1,this.init(),r.default.addInstance("Dismiss",this,this._instanceId,s.override)}return t.prototype.init=function(){var t=this;this._triggerEl&&this._targetEl&&!this._initialized&&(this._clickHandler=function(){t.hide()},this._triggerEl.addEventListener("click",this._clickHandler),this._initialized=!0)},t.prototype.destroy=function(){this._triggerEl&&this._initialized&&(this._triggerEl.removeEventListener("click",this._clickHandler),this._initialized=!1)},t.prototype.removeInstance=function(){r.default.removeInstance("Dismiss",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype.hide=function(){var t=this;this._targetEl.classList.add(this._options.transition,"duration-".concat(this._options.duration),this._options.timing,"opacity-0"),setTimeout((function(){t._targetEl.classList.add("hidden")}),this._options.duration),this._options.onHide(this,this._targetEl)},t.prototype.updateOnHide=function(t){this._options.onHide=t},t}();function d(){document.querySelectorAll("[data-dismiss-target]").forEach((function(t){var e=t.getAttribute("data-dismiss-target"),i=document.querySelector(e);i?new s(i,t):console.error('The dismiss element with id "'.concat(e,'" does not exist. Please check the data-dismiss-target attribute.'))}))}e.initDismisses=d,"undefined"!=typeof window&&(window.Dismiss=s,window.initDismisses=d),e.default=s},340:function(t,e,i){var n=this&&this.__assign||function(){return n=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},n.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.initDrawers=void 0;var r=i(423),o={placement:"left",bodyScrolling:!1,backdrop:!0,edge:!1,edgeOffset:"bottom-[60px]",backdropClasses:"bg-gray-900/50 dark:bg-gray-900/80 fixed inset-0 z-30",onShow:function(){},onHide:function(){},onToggle:function(){}},a={id:null,override:!0},s=function(){function t(t,e,i){void 0===t&&(t=null),void 0===e&&(e=o),void 0===i&&(i=a),this._eventListenerInstances=[],this._instanceId=i.id?i.id:t.id,this._targetEl=t,this._options=n(n({},o),e),this._visible=!1,this._initialized=!1,this.init(),r.default.addInstance("Drawer",this,this._instanceId,i.override)}return t.prototype.init=function(){var t=this;this._targetEl&&!this._initialized&&(this._targetEl.setAttribute("aria-hidden","true"),this._targetEl.classList.add("transition-transform"),this._getPlacementClasses(this._options.placement).base.map((function(e){t._targetEl.classList.add(e)})),this._handleEscapeKey=function(e){"Escape"===e.key&&t.isVisible()&&t.hide()},document.addEventListener("keydown",this._handleEscapeKey),this._initialized=!0)},t.prototype.destroy=function(){this._initialized&&(this.removeAllEventListenerInstances(),this._destroyBackdropEl(),document.removeEventListener("keydown",this._handleEscapeKey),this._initialized=!1)},t.prototype.removeInstance=function(){r.default.removeInstance("Drawer",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype.hide=function(){var t=this;this._options.edge?(this._getPlacementClasses(this._options.placement+"-edge").active.map((function(e){t._targetEl.classList.remove(e)})),this._getPlacementClasses(this._options.placement+"-edge").inactive.map((function(e){t._targetEl.classList.add(e)}))):(this._getPlacementClasses(this._options.placement).active.map((function(e){t._targetEl.classList.remove(e)})),this._getPlacementClasses(this._options.placement).inactive.map((function(e){t._targetEl.classList.add(e)}))),this._targetEl.setAttribute("aria-hidden","true"),this._targetEl.removeAttribute("aria-modal"),this._targetEl.removeAttribute("role"),this._options.bodyScrolling||document.body.classList.remove("overflow-hidden"),this._options.backdrop&&this._destroyBackdropEl(),this._visible=!1,this._options.onHide(this)},t.prototype.show=function(){var t=this;this._options.edge?(this._getPlacementClasses(this._options.placement+"-edge").active.map((function(e){t._targetEl.classList.add(e)})),this._getPlacementClasses(this._options.placement+"-edge").inactive.map((function(e){t._targetEl.classList.remove(e)}))):(this._getPlacementClasses(this._options.placement).active.map((function(e){t._targetEl.classList.add(e)})),this._getPlacementClasses(this._options.placement).inactive.map((function(e){t._targetEl.classList.remove(e)}))),this._targetEl.setAttribute("aria-modal","true"),this._targetEl.setAttribute("role","dialog"),this._targetEl.removeAttribute("aria-hidden"),this._options.bodyScrolling||document.body.classList.add("overflow-hidden"),this._options.backdrop&&this._createBackdrop(),this._visible=!0,this._options.onShow(this)},t.prototype.toggle=function(){this.isVisible()?this.hide():this.show()},t.prototype._createBackdrop=function(){var t,e=this;if(!this._visible){var i=document.createElement("div");i.setAttribute("drawer-backdrop",""),(t=i.classList).add.apply(t,this._options.backdropClasses.split(" ")),document.querySelector("body").append(i),i.addEventListener("click",(function(){e.hide()}))}},t.prototype._destroyBackdropEl=function(){this._visible&&null!==document.querySelector("[drawer-backdrop]")&&document.querySelector("[drawer-backdrop]").remove()},t.prototype._getPlacementClasses=function(t){switch(t){case"top":return{base:["top-0","left-0","right-0"],active:["transform-none"],inactive:["-translate-y-full"]};case"right":return{base:["right-0","top-0"],active:["transform-none"],inactive:["translate-x-full"]};case"bottom":return{base:["bottom-0","left-0","right-0"],active:["transform-none"],inactive:["translate-y-full"]};case"left":default:return{base:["left-0","top-0"],active:["transform-none"],inactive:["-translate-x-full"]};case"bottom-edge":return{base:["left-0","top-0"],active:["transform-none"],inactive:["translate-y-full",this._options.edgeOffset]}}},t.prototype.isHidden=function(){return!this._visible},t.prototype.isVisible=function(){return this._visible},t.prototype.addEventListenerInstance=function(t,e,i){this._eventListenerInstances.push({element:t,type:e,handler:i})},t.prototype.removeAllEventListenerInstances=function(){this._eventListenerInstances.map((function(t){t.element.removeEventListener(t.type,t.handler)})),this._eventListenerInstances=[]},t.prototype.getAllEventListenerInstances=function(){return this._eventListenerInstances},t.prototype.updateOnShow=function(t){this._options.onShow=t},t.prototype.updateOnHide=function(t){this._options.onHide=t},t.prototype.updateOnToggle=function(t){this._options.onToggle=t},t}();function d(){document.querySelectorAll("[data-drawer-target]").forEach((function(t){var e=t.getAttribute("data-drawer-target"),i=document.getElementById(e);if(i){var n=t.getAttribute("data-drawer-placement"),r=t.getAttribute("data-drawer-body-scrolling"),a=t.getAttribute("data-drawer-backdrop"),d=t.getAttribute("data-drawer-edge"),c=t.getAttribute("data-drawer-edge-offset");new s(i,{placement:n||o.placement,bodyScrolling:r?"true"===r:o.bodyScrolling,backdrop:a?"true"===a:o.backdrop,edge:d?"true"===d:o.edge,edgeOffset:c||o.edgeOffset})}else console.error("Drawer with id ".concat(e," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id?"))})),document.querySelectorAll("[data-drawer-toggle]").forEach((function(t){var e=t.getAttribute("data-drawer-toggle");if(document.getElementById(e)){var i=r.default.getInstance("Drawer",e);if(i){var n=function(){i.toggle()};t.addEventListener("click",n),i.addEventListenerInstance(t,"click",n)}else console.error("Drawer with id ".concat(e," has not been initialized. Please initialize it using the data-drawer-target attribute."))}else console.error("Drawer with id ".concat(e," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id?"))})),document.querySelectorAll("[data-drawer-dismiss], [data-drawer-hide]").forEach((function(t){var e=t.getAttribute("data-drawer-dismiss")?t.getAttribute("data-drawer-dismiss"):t.getAttribute("data-drawer-hide");if(document.getElementById(e)){var i=r.default.getInstance("Drawer",e);if(i){var n=function(){i.hide()};t.addEventListener("click",n),i.addEventListenerInstance(t,"click",n)}else console.error("Drawer with id ".concat(e," has not been initialized. Please initialize it using the data-drawer-target attribute."))}else console.error("Drawer with id ".concat(e," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id"))})),document.querySelectorAll("[data-drawer-show]").forEach((function(t){var e=t.getAttribute("data-drawer-show");if(document.getElementById(e)){var i=r.default.getInstance("Drawer",e);if(i){var n=function(){i.show()};t.addEventListener("click",n),i.addEventListenerInstance(t,"click",n)}else console.error("Drawer with id ".concat(e," has not been initialized. Please initialize it using the data-drawer-target attribute."))}else console.error("Drawer with id ".concat(e," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id?"))}))}e.initDrawers=d,"undefined"!=typeof window&&(window.Drawer=s,window.initDrawers=d),e.default=s},316:function(t,e,i){var n=this&&this.__assign||function(){return n=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},n.apply(this,arguments)},r=this&&this.__spreadArray||function(t,e,i){if(i||2===arguments.length)for(var n,r=0,o=e.length;r<o;r++)!n&&r in e||(n||(n=Array.prototype.slice.call(e,0,r)),n[r]=e[r]);return t.concat(n||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.initDropdowns=void 0;var o=i(853),a=i(423),s={placement:"bottom",triggerType:"click",offsetSkidding:0,offsetDistance:10,delay:300,ignoreClickOutsideClass:!1,onShow:function(){},onHide:function(){},onToggle:function(){}},d={id:null,override:!0},c=function(){function t(t,e,i,r){void 0===t&&(t=null),void 0===e&&(e=null),void 0===i&&(i=s),void 0===r&&(r=d),this._instanceId=r.id?r.id:t.id,this._targetEl=t,this._triggerEl=e,this._options=n(n({},s),i),this._popperInstance=null,this._visible=!1,this._initialized=!1,this.init(),a.default.addInstance("Dropdown",this,this._instanceId,r.override)}return t.prototype.init=function(){this._triggerEl&&this._targetEl&&!this._initialized&&(this._popperInstance=this._createPopperInstance(),this._setupEventListeners(),this._initialized=!0)},t.prototype.destroy=function(){var t=this,e=this._getTriggerEvents();"click"===this._options.triggerType&&e.showEvents.forEach((function(e){t._triggerEl.removeEventListener(e,t._clickHandler)})),"hover"===this._options.triggerType&&(e.showEvents.forEach((function(e){t._triggerEl.removeEventListener(e,t._hoverShowTriggerElHandler),t._targetEl.removeEventListener(e,t._hoverShowTargetElHandler)})),e.hideEvents.forEach((function(e){t._triggerEl.removeEventListener(e,t._hoverHideHandler),t._targetEl.removeEventListener(e,t._hoverHideHandler)}))),this._popperInstance.destroy(),this._initialized=!1},t.prototype.removeInstance=function(){a.default.removeInstance("Dropdown",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype._setupEventListeners=function(){var t=this,e=this._getTriggerEvents();this._clickHandler=function(){t.toggle()},"click"===this._options.triggerType&&e.showEvents.forEach((function(e){t._triggerEl.addEventListener(e,t._clickHandler)})),this._hoverShowTriggerElHandler=function(e){"click"===e.type?t.toggle():setTimeout((function(){t.show()}),t._options.delay)},this._hoverShowTargetElHandler=function(){t.show()},this._hoverHideHandler=function(){setTimeout((function(){t._targetEl.matches(":hover")||t.hide()}),t._options.delay)},"hover"===this._options.triggerType&&(e.showEvents.forEach((function(e){t._triggerEl.addEventListener(e,t._hoverShowTriggerElHandler),t._targetEl.addEventListener(e,t._hoverShowTargetElHandler)})),e.hideEvents.forEach((function(e){t._triggerEl.addEventListener(e,t._hoverHideHandler),t._targetEl.addEventListener(e,t._hoverHideHandler)})))},t.prototype._createPopperInstance=function(){return(0,o.createPopper)(this._triggerEl,this._targetEl,{placement:this._options.placement,modifiers:[{name:"offset",options:{offset:[this._options.offsetSkidding,this._options.offsetDistance]}}]})},t.prototype._setupClickOutsideListener=function(){var t=this;this._clickOutsideEventListener=function(e){t._handleClickOutside(e,t._targetEl)},document.body.addEventListener("click",this._clickOutsideEventListener,!0)},t.prototype._removeClickOutsideListener=function(){document.body.removeEventListener("click",this._clickOutsideEventListener,!0)},t.prototype._handleClickOutside=function(t,e){var i=t.target,n=this._options.ignoreClickOutsideClass,r=!1;n&&document.querySelectorAll(".".concat(n)).forEach((function(t){t.contains(i)&&(r=!0)}));i===e||e.contains(i)||this._triggerEl.contains(i)||r||!this.isVisible()||this.hide()},t.prototype._getTriggerEvents=function(){switch(this._options.triggerType){case"hover":return{showEvents:["mouseenter","click"],hideEvents:["mouseleave"]};case"click":default:return{showEvents:["click"],hideEvents:[]};case"none":return{showEvents:[],hideEvents:[]}}},t.prototype.toggle=function(){this.isVisible()?this.hide():this.show(),this._options.onToggle(this)},t.prototype.isVisible=function(){return this._visible},t.prototype.show=function(){this._targetEl.classList.remove("hidden"),this._targetEl.classList.add("block"),this._targetEl.removeAttribute("aria-hidden"),this._popperInstance.setOptions((function(t){return n(n({},t),{modifiers:r(r([],t.modifiers,!0),[{name:"eventListeners",enabled:!0}],!1)})})),this._setupClickOutsideListener(),this._popperInstance.update(),this._visible=!0,this._options.onShow(this)},t.prototype.hide=function(){this._targetEl.classList.remove("block"),this._targetEl.classList.add("hidden"),this._targetEl.setAttribute("aria-hidden","true"),this._popperInstance.setOptions((function(t){return n(n({},t),{modifiers:r(r([],t.modifiers,!0),[{name:"eventListeners",enabled:!1}],!1)})})),this._visible=!1,this._removeClickOutsideListener(),this._options.onHide(this)},t.prototype.updateOnShow=function(t){this._options.onShow=t},t.prototype.updateOnHide=function(t){this._options.onHide=t},t.prototype.updateOnToggle=function(t){this._options.onToggle=t},t}();function l(){document.querySelectorAll("[data-dropdown-toggle]").forEach((function(t){var e=t.getAttribute("data-dropdown-toggle"),i=document.getElementById(e);if(i){var n=t.getAttribute("data-dropdown-placement"),r=t.getAttribute("data-dropdown-offset-skidding"),o=t.getAttribute("data-dropdown-offset-distance"),a=t.getAttribute("data-dropdown-trigger"),d=t.getAttribute("data-dropdown-delay"),l=t.getAttribute("data-dropdown-ignore-click-outside-class");new c(i,t,{placement:n||s.placement,triggerType:a||s.triggerType,offsetSkidding:r?parseInt(r):s.offsetSkidding,offsetDistance:o?parseInt(o):s.offsetDistance,delay:d?parseInt(d):s.delay,ignoreClickOutsideClass:l||s.ignoreClickOutsideClass})}else console.error('The dropdown element with id "'.concat(e,'" does not exist. Please check the data-dropdown-toggle attribute.'))}))}e.initDropdowns=l,"undefined"!=typeof window&&(window.Dropdown=c,window.initDropdowns=l),e.default=c},311:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.initFlowbite=void 0;var n=i(902),r=i(33),o=i(673),a=i(922),s=i(556),d=i(791),c=i(340),l=i(316),u=i(656),h=i(16),p=i(903),f=i(247),g=i(671),v=i(132);function y(){(0,n.initAccordions)(),(0,a.initCollapses)(),(0,r.initCarousels)(),(0,d.initDismisses)(),(0,l.initDropdowns)(),(0,h.initModals)(),(0,c.initDrawers)(),(0,f.initTabs)(),(0,g.initTooltips)(),(0,p.initPopovers)(),(0,s.initDials)(),(0,u.initInputCounters)(),(0,o.initCopyClipboards)(),(0,v.initDatepickers)()}e.initFlowbite=y,"undefined"!=typeof window&&(window.initFlowbite=y)},656:function(t,e,i){var n=this&&this.__assign||function(){return n=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},n.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.initInputCounters=void 0;var r=i(423),o={minValue:null,maxValue:null,onIncrement:function(){},onDecrement:function(){}},a={id:null,override:!0},s=function(){function t(t,e,i,s,d){void 0===t&&(t=null),void 0===e&&(e=null),void 0===i&&(i=null),void 0===s&&(s=o),void 0===d&&(d=a),this._instanceId=d.id?d.id:t.id,this._targetEl=t,this._incrementEl=e,this._decrementEl=i,this._options=n(n({},o),s),this._initialized=!1,this.init(),r.default.addInstance("InputCounter",this,this._instanceId,d.override)}return t.prototype.init=function(){var t=this;this._targetEl&&!this._initialized&&(this._inputHandler=function(e){var i=e.target;/^\d*$/.test(i.value)||(i.value=i.value.replace(/[^\d]/g,"")),null!==t._options.maxValue&&parseInt(i.value)>t._options.maxValue&&(i.value=t._options.maxValue.toString()),null!==t._options.minValue&&parseInt(i.value)<t._options.minValue&&(i.value=t._options.minValue.toString())},this._incrementClickHandler=function(){t.increment()},this._decrementClickHandler=function(){t.decrement()},this._targetEl.addEventListener("input",this._inputHandler),this._incrementEl&&this._incrementEl.addEventListener("click",this._incrementClickHandler),this._decrementEl&&this._decrementEl.addEventListener("click",this._decrementClickHandler),this._initialized=!0)},t.prototype.destroy=function(){this._targetEl&&this._initialized&&(this._targetEl.removeEventListener("input",this._inputHandler),this._incrementEl&&this._incrementEl.removeEventListener("click",this._incrementClickHandler),this._decrementEl&&this._decrementEl.removeEventListener("click",this._decrementClickHandler),this._initialized=!1)},t.prototype.removeInstance=function(){r.default.removeInstance("InputCounter",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype.getCurrentValue=function(){return parseInt(this._targetEl.value)||0},t.prototype.increment=function(){null!==this._options.maxValue&&this.getCurrentValue()>=this._options.maxValue||(this._targetEl.value=(this.getCurrentValue()+1).toString(),this._options.onIncrement(this))},t.prototype.decrement=function(){null!==this._options.minValue&&this.getCurrentValue()<=this._options.minValue||(this._targetEl.value=(this.getCurrentValue()-1).toString(),this._options.onDecrement(this))},t.prototype.updateOnIncrement=function(t){this._options.onIncrement=t},t.prototype.updateOnDecrement=function(t){this._options.onDecrement=t},t}();function d(){document.querySelectorAll("[data-input-counter]").forEach((function(t){var e=t.id,i=document.querySelector('[data-input-counter-increment="'+e+'"]'),n=document.querySelector('[data-input-counter-decrement="'+e+'"]'),o=t.getAttribute("data-input-counter-min"),a=t.getAttribute("data-input-counter-max");t?r.default.instanceExists("InputCounter",t.getAttribute("id"))||new s(t,i||null,n||null,{minValue:o?parseInt(o):null,maxValue:a?parseInt(a):null}):console.error('The target element with id "'.concat(e,'" does not exist. Please check the data-input-counter attribute.'))}))}e.initInputCounters=d,"undefined"!=typeof window&&(window.InputCounter=s,window.initInputCounters=d),e.default=s},16:function(t,e,i){var n=this&&this.__assign||function(){return n=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},n.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.initModals=void 0;var r=i(423),o={placement:"center",backdropClasses:"bg-gray-900/50 dark:bg-gray-900/80 fixed inset-0 z-40",backdrop:"dynamic",closable:!0,onHide:function(){},onShow:function(){},onToggle:function(){}},a={id:null,override:!0},s=function(){function t(t,e,i){void 0===t&&(t=null),void 0===e&&(e=o),void 0===i&&(i=a),this._eventListenerInstances=[],this._instanceId=i.id?i.id:t.id,this._targetEl=t,this._options=n(n({},o),e),this._isHidden=!0,this._backdropEl=null,this._initialized=!1,this.init(),r.default.addInstance("Modal",this,this._instanceId,i.override)}return t.prototype.init=function(){var t=this;this._targetEl&&!this._initialized&&(this._getPlacementClasses().map((function(e){t._targetEl.classList.add(e)})),this._initialized=!0)},t.prototype.destroy=function(){this._initialized&&(this.removeAllEventListenerInstances(),this._destroyBackdropEl(),this._initialized=!1)},t.prototype.removeInstance=function(){r.default.removeInstance("Modal",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype._createBackdrop=function(){var t;if(this._isHidden){var e=document.createElement("div");(t=e.classList).add.apply(t,this._options.backdropClasses.split(" ")),document.querySelector("body").append(e),this._backdropEl=e}},t.prototype._destroyBackdropEl=function(){!this._isHidden&&this._backdropEl&&(this._backdropEl.remove(),this._backdropEl=null)},t.prototype._setupModalCloseEventListeners=function(){var t=this;"dynamic"===this._options.backdrop&&(this._clickOutsideEventListener=function(e){t._handleOutsideClick(e.target)},this._targetEl.addEventListener("click",this._clickOutsideEventListener,!0)),this._keydownEventListener=function(e){"Escape"===e.key&&t.hide()},document.body.addEventListener("keydown",this._keydownEventListener,!0)},t.prototype._removeModalCloseEventListeners=function(){"dynamic"===this._options.backdrop&&this._targetEl.removeEventListener("click",this._clickOutsideEventListener,!0),document.body.removeEventListener("keydown",this._keydownEventListener,!0)},t.prototype._handleOutsideClick=function(t){(t===this._targetEl||t===this._backdropEl&&this.isVisible())&&this.hide()},t.prototype._getPlacementClasses=function(){switch(this._options.placement){case"top-left":return["justify-start","items-start"];case"top-center":return["justify-center","items-start"];case"top-right":return["justify-end","items-start"];case"center-left":return["justify-start","items-center"];case"center":default:return["justify-center","items-center"];case"center-right":return["justify-end","items-center"];case"bottom-left":return["justify-start","items-end"];case"bottom-center":return["justify-center","items-end"];case"bottom-right":return["justify-end","items-end"]}},t.prototype.toggle=function(){this._isHidden?this.show():this.hide(),this._options.onToggle(this)},t.prototype.show=function(){this.isHidden&&(this._targetEl.classList.add("flex"),this._targetEl.classList.remove("hidden"),this._targetEl.setAttribute("aria-modal","true"),this._targetEl.setAttribute("role","dialog"),this._targetEl.removeAttribute("aria-hidden"),this._createBackdrop(),this._isHidden=!1,this._options.closable&&this._setupModalCloseEventListeners(),document.body.classList.add("overflow-hidden"),this._options.onShow(this))},t.prototype.hide=function(){this.isVisible&&(this._targetEl.classList.add("hidden"),this._targetEl.classList.remove("flex"),this._targetEl.setAttribute("aria-hidden","true"),this._targetEl.removeAttribute("aria-modal"),this._targetEl.removeAttribute("role"),this._destroyBackdropEl(),this._isHidden=!0,document.body.classList.remove("overflow-hidden"),this._options.closable&&this._removeModalCloseEventListeners(),this._options.onHide(this))},t.prototype.isVisible=function(){return!this._isHidden},t.prototype.isHidden=function(){return this._isHidden},t.prototype.addEventListenerInstance=function(t,e,i){this._eventListenerInstances.push({element:t,type:e,handler:i})},t.prototype.removeAllEventListenerInstances=function(){this._eventListenerInstances.map((function(t){t.element.removeEventListener(t.type,t.handler)})),this._eventListenerInstances=[]},t.prototype.getAllEventListenerInstances=function(){return this._eventListenerInstances},t.prototype.updateOnShow=function(t){this._options.onShow=t},t.prototype.updateOnHide=function(t){this._options.onHide=t},t.prototype.updateOnToggle=function(t){this._options.onToggle=t},t}();function d(){document.querySelectorAll("[data-modal-target]").forEach((function(t){var e=t.getAttribute("data-modal-target"),i=document.getElementById(e);if(i){var n=i.getAttribute("data-modal-placement"),r=i.getAttribute("data-modal-backdrop");new s(i,{placement:n||o.placement,backdrop:r||o.backdrop})}else console.error("Modal with id ".concat(e," does not exist. Are you sure that the data-modal-target attribute points to the correct modal id?."))})),document.querySelectorAll("[data-modal-toggle]").forEach((function(t){var e=t.getAttribute("data-modal-toggle");if(document.getElementById(e)){var i=r.default.getInstance("Modal",e);if(i){var n=function(){i.toggle()};t.addEventListener("click",n),i.addEventListenerInstance(t,"click",n)}else console.error("Modal with id ".concat(e," has not been initialized. Please initialize it using the data-modal-target attribute."))}else console.error("Modal with id ".concat(e," does not exist. Are you sure that the data-modal-toggle attribute points to the correct modal id?"))})),document.querySelectorAll("[data-modal-show]").forEach((function(t){var e=t.getAttribute("data-modal-show");if(document.getElementById(e)){var i=r.default.getInstance("Modal",e);if(i){var n=function(){i.show()};t.addEventListener("click",n),i.addEventListenerInstance(t,"click",n)}else console.error("Modal with id ".concat(e," has not been initialized. Please initialize it using the data-modal-target attribute."))}else console.error("Modal with id ".concat(e," does not exist. Are you sure that the data-modal-show attribute points to the correct modal id?"))})),document.querySelectorAll("[data-modal-hide]").forEach((function(t){var e=t.getAttribute("data-modal-hide");if(document.getElementById(e)){var i=r.default.getInstance("Modal",e);if(i){var n=function(){i.hide()};t.addEventListener("click",n),i.addEventListenerInstance(t,"click",n)}else console.error("Modal with id ".concat(e," has not been initialized. Please initialize it using the data-modal-target attribute."))}else console.error("Modal with id ".concat(e," does not exist. Are you sure that the data-modal-hide attribute points to the correct modal id?"))}))}e.initModals=d,"undefined"!=typeof window&&(window.Modal=s,window.initModals=d),e.default=s},903:function(t,e,i){var n=this&&this.__assign||function(){return n=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},n.apply(this,arguments)},r=this&&this.__spreadArray||function(t,e,i){if(i||2===arguments.length)for(var n,r=0,o=e.length;r<o;r++)!n&&r in e||(n||(n=Array.prototype.slice.call(e,0,r)),n[r]=e[r]);return t.concat(n||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.initPopovers=void 0;var o=i(853),a=i(423),s={placement:"top",offset:10,triggerType:"hover",onShow:function(){},onHide:function(){},onToggle:function(){}},d={id:null,override:!0},c=function(){function t(t,e,i,r){void 0===t&&(t=null),void 0===e&&(e=null),void 0===i&&(i=s),void 0===r&&(r=d),this._instanceId=r.id?r.id:t.id,this._targetEl=t,this._triggerEl=e,this._options=n(n({},s),i),this._popperInstance=null,this._visible=!1,this._initialized=!1,this.init(),a.default.addInstance("Popover",this,r.id?r.id:this._targetEl.id,r.override)}return t.prototype.init=function(){this._triggerEl&&this._targetEl&&!this._initialized&&(this._setupEventListeners(),this._popperInstance=this._createPopperInstance(),this._initialized=!0)},t.prototype.destroy=function(){var t=this;if(this._initialized){var e=this._getTriggerEvents();e.showEvents.forEach((function(e){t._triggerEl.removeEventListener(e,t._showHandler),t._targetEl.removeEventListener(e,t._showHandler)})),e.hideEvents.forEach((function(e){t._triggerEl.removeEventListener(e,t._hideHandler),t._targetEl.removeEventListener(e,t._hideHandler)})),this._removeKeydownListener(),this._removeClickOutsideListener(),this._popperInstance&&this._popperInstance.destroy(),this._initialized=!1}},t.prototype.removeInstance=function(){a.default.removeInstance("Popover",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype._setupEventListeners=function(){var t=this,e=this._getTriggerEvents();this._showHandler=function(){t.show()},this._hideHandler=function(){setTimeout((function(){t._targetEl.matches(":hover")||t.hide()}),100)},e.showEvents.forEach((function(e){t._triggerEl.addEventListener(e,t._showHandler),t._targetEl.addEventListener(e,t._showHandler)})),e.hideEvents.forEach((function(e){t._triggerEl.addEventListener(e,t._hideHandler),t._targetEl.addEventListener(e,t._hideHandler)}))},t.prototype._createPopperInstance=function(){return(0,o.createPopper)(this._triggerEl,this._targetEl,{placement:this._options.placement,modifiers:[{name:"offset",options:{offset:[0,this._options.offset]}}]})},t.prototype._getTriggerEvents=function(){switch(this._options.triggerType){case"hover":default:return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]};case"click":return{showEvents:["click","focus"],hideEvents:["focusout","blur"]};case"none":return{showEvents:[],hideEvents:[]}}},t.prototype._setupKeydownListener=function(){var t=this;this._keydownEventListener=function(e){"Escape"===e.key&&t.hide()},document.body.addEventListener("keydown",this._keydownEventListener,!0)},t.prototype._removeKeydownListener=function(){document.body.removeEventListener("keydown",this._keydownEventListener,!0)},t.prototype._setupClickOutsideListener=function(){var t=this;this._clickOutsideEventListener=function(e){t._handleClickOutside(e,t._targetEl)},document.body.addEventListener("click",this._clickOutsideEventListener,!0)},t.prototype._removeClickOutsideListener=function(){document.body.removeEventListener("click",this._clickOutsideEventListener,!0)},t.prototype._handleClickOutside=function(t,e){var i=t.target;i===e||e.contains(i)||this._triggerEl.contains(i)||!this.isVisible()||this.hide()},t.prototype.isVisible=function(){return this._visible},t.prototype.toggle=function(){this.isVisible()?this.hide():this.show(),this._options.onToggle(this)},t.prototype.show=function(){this._targetEl.classList.remove("opacity-0","invisible"),this._targetEl.classList.add("opacity-100","visible"),this._popperInstance.setOptions((function(t){return n(n({},t),{modifiers:r(r([],t.modifiers,!0),[{name:"eventListeners",enabled:!0}],!1)})})),this._setupClickOutsideListener(),this._setupKeydownListener(),this._popperInstance.update(),this._visible=!0,this._options.onShow(this)},t.prototype.hide=function(){this._targetEl.classList.remove("opacity-100","visible"),this._targetEl.classList.add("opacity-0","invisible"),this._popperInstance.setOptions((function(t){return n(n({},t),{modifiers:r(r([],t.modifiers,!0),[{name:"eventListeners",enabled:!1}],!1)})})),this._removeClickOutsideListener(),this._removeKeydownListener(),this._visible=!1,this._options.onHide(this)},t.prototype.updateOnShow=function(t){this._options.onShow=t},t.prototype.updateOnHide=function(t){this._options.onHide=t},t.prototype.updateOnToggle=function(t){this._options.onToggle=t},t}();function l(){document.querySelectorAll("[data-popover-target]").forEach((function(t){var e=t.getAttribute("data-popover-target"),i=document.getElementById(e);if(i){var n=t.getAttribute("data-popover-trigger"),r=t.getAttribute("data-popover-placement"),o=t.getAttribute("data-popover-offset");new c(i,t,{placement:r||s.placement,offset:o?parseInt(o):s.offset,triggerType:n||s.triggerType})}else console.error('The popover element with id "'.concat(e,'" does not exist. Please check the data-popover-target attribute.'))}))}e.initPopovers=l,"undefined"!=typeof window&&(window.Popover=c,window.initPopovers=l),e.default=c},247:function(t,e,i){var n=this&&this.__assign||function(){return n=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},n.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.initTabs=void 0;var r=i(423),o={defaultTabId:null,activeClasses:"text-blue-600 hover:text-blue-600 dark:text-blue-500 dark:hover:text-blue-500 border-blue-600 dark:border-blue-500",inactiveClasses:"dark:border-transparent text-gray-500 hover:text-gray-600 dark:text-gray-400 border-gray-100 hover:border-gray-300 dark:border-gray-700 dark:hover:text-gray-300",onShow:function(){}},a={id:null,override:!0},s=function(){function t(t,e,i,s){void 0===t&&(t=null),void 0===e&&(e=[]),void 0===i&&(i=o),void 0===s&&(s=a),this._instanceId=s.id?s.id:t.id,this._tabsEl=t,this._items=e,this._activeTab=i?this.getTab(i.defaultTabId):null,this._options=n(n({},o),i),this._initialized=!1,this.init(),r.default.addInstance("Tabs",this,this._instanceId,s.override)}return t.prototype.init=function(){var t=this;this._items.length&&!this._initialized&&(this._activeTab||this.setActiveTab(this._items[0]),this.show(this._activeTab.id,!0),this._items.map((function(e){e.triggerEl.addEventListener("click",(function(i){i.preventDefault(),t.show(e.id)}))})))},t.prototype.destroy=function(){this._initialized&&(this._initialized=!1)},t.prototype.removeInstance=function(){this.destroy(),r.default.removeInstance("Tabs",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype.getActiveTab=function(){return this._activeTab},t.prototype.setActiveTab=function(t){this._activeTab=t},t.prototype.getTab=function(t){return this._items.filter((function(e){return e.id===t}))[0]},t.prototype.show=function(t,e){var i,n,r=this;void 0===e&&(e=!1);var o=this.getTab(t);(o!==this._activeTab||e)&&(this._items.map((function(t){var e,i;t!==o&&((e=t.triggerEl.classList).remove.apply(e,r._options.activeClasses.split(" ")),(i=t.triggerEl.classList).add.apply(i,r._options.inactiveClasses.split(" ")),t.targetEl.classList.add("hidden"),t.triggerEl.setAttribute("aria-selected","false"))})),(i=o.triggerEl.classList).add.apply(i,this._options.activeClasses.split(" ")),(n=o.triggerEl.classList).remove.apply(n,this._options.inactiveClasses.split(" ")),o.triggerEl.setAttribute("aria-selected","true"),o.targetEl.classList.remove("hidden"),this.setActiveTab(o),this._options.onShow(this,o))},t.prototype.updateOnShow=function(t){this._options.onShow=t},t}();function d(){document.querySelectorAll("[data-tabs-toggle]").forEach((function(t){var e=[],i=t.getAttribute("data-tabs-active-classes"),n=t.getAttribute("data-tabs-inactive-classes"),r=null;t.querySelectorAll('[role="tab"]').forEach((function(t){var i="true"===t.getAttribute("aria-selected"),n={id:t.getAttribute("data-tabs-target"),triggerEl:t,targetEl:document.querySelector(t.getAttribute("data-tabs-target"))};e.push(n),i&&(r=n.id)})),new s(t,e,{defaultTabId:r,activeClasses:i||o.activeClasses,inactiveClasses:n||o.inactiveClasses})}))}e.initTabs=d,"undefined"!=typeof window&&(window.Tabs=s,window.initTabs=d),e.default=s},671:function(t,e,i){var n=this&&this.__assign||function(){return n=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},n.apply(this,arguments)},r=this&&this.__spreadArray||function(t,e,i){if(i||2===arguments.length)for(var n,r=0,o=e.length;r<o;r++)!n&&r in e||(n||(n=Array.prototype.slice.call(e,0,r)),n[r]=e[r]);return t.concat(n||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.initTooltips=void 0;var o=i(853),a=i(423),s={placement:"top",triggerType:"hover",onShow:function(){},onHide:function(){},onToggle:function(){}},d={id:null,override:!0},c=function(){function t(t,e,i,r){void 0===t&&(t=null),void 0===e&&(e=null),void 0===i&&(i=s),void 0===r&&(r=d),this._instanceId=r.id?r.id:t.id,this._targetEl=t,this._triggerEl=e,this._options=n(n({},s),i),this._popperInstance=null,this._visible=!1,this._initialized=!1,this.init(),a.default.addInstance("Tooltip",this,this._instanceId,r.override)}return t.prototype.init=function(){this._triggerEl&&this._targetEl&&!this._initialized&&(this._setupEventListeners(),this._popperInstance=this._createPopperInstance(),this._initialized=!0)},t.prototype.destroy=function(){var t=this;if(this._initialized){var e=this._getTriggerEvents();e.showEvents.forEach((function(e){t._triggerEl.removeEventListener(e,t._showHandler)})),e.hideEvents.forEach((function(e){t._triggerEl.removeEventListener(e,t._hideHandler)})),this._removeKeydownListener(),this._removeClickOutsideListener(),this._popperInstance&&this._popperInstance.destroy(),this._initialized=!1}},t.prototype.removeInstance=function(){a.default.removeInstance("Tooltip",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype._setupEventListeners=function(){var t=this,e=this._getTriggerEvents();this._showHandler=function(){t.show()},this._hideHandler=function(){t.hide()},e.showEvents.forEach((function(e){t._triggerEl.addEventListener(e,t._showHandler)})),e.hideEvents.forEach((function(e){t._triggerEl.addEventListener(e,t._hideHandler)}))},t.prototype._createPopperInstance=function(){return(0,o.createPopper)(this._triggerEl,this._targetEl,{placement:this._options.placement,modifiers:[{name:"offset",options:{offset:[0,8]}}]})},t.prototype._getTriggerEvents=function(){switch(this._options.triggerType){case"hover":default:return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]};case"click":return{showEvents:["click","focus"],hideEvents:["focusout","blur"]};case"none":return{showEvents:[],hideEvents:[]}}},t.prototype._setupKeydownListener=function(){var t=this;this._keydownEventListener=function(e){"Escape"===e.key&&t.hide()},document.body.addEventListener("keydown",this._keydownEventListener,!0)},t.prototype._removeKeydownListener=function(){document.body.removeEventListener("keydown",this._keydownEventListener,!0)},t.prototype._setupClickOutsideListener=function(){var t=this;this._clickOutsideEventListener=function(e){t._handleClickOutside(e,t._targetEl)},document.body.addEventListener("click",this._clickOutsideEventListener,!0)},t.prototype._removeClickOutsideListener=function(){document.body.removeEventListener("click",this._clickOutsideEventListener,!0)},t.prototype._handleClickOutside=function(t,e){var i=t.target;i===e||e.contains(i)||this._triggerEl.contains(i)||!this.isVisible()||this.hide()},t.prototype.isVisible=function(){return this._visible},t.prototype.toggle=function(){this.isVisible()?this.hide():this.show()},t.prototype.show=function(){this._targetEl.classList.remove("opacity-0","invisible"),this._targetEl.classList.add("opacity-100","visible"),this._popperInstance.setOptions((function(t){return n(n({},t),{modifiers:r(r([],t.modifiers,!0),[{name:"eventListeners",enabled:!0}],!1)})})),this._setupClickOutsideListener(),this._setupKeydownListener(),this._popperInstance.update(),this._visible=!0,this._options.onShow(this)},t.prototype.hide=function(){this._targetEl.classList.remove("opacity-100","visible"),this._targetEl.classList.add("opacity-0","invisible"),this._popperInstance.setOptions((function(t){return n(n({},t),{modifiers:r(r([],t.modifiers,!0),[{name:"eventListeners",enabled:!1}],!1)})})),this._removeClickOutsideListener(),this._removeKeydownListener(),this._visible=!1,this._options.onHide(this)},t.prototype.updateOnShow=function(t){this._options.onShow=t},t.prototype.updateOnHide=function(t){this._options.onHide=t},t.prototype.updateOnToggle=function(t){this._options.onToggle=t},t}();function l(){document.querySelectorAll("[data-tooltip-target]").forEach((function(t){var e=t.getAttribute("data-tooltip-target"),i=document.getElementById(e);if(i){var n=t.getAttribute("data-tooltip-trigger"),r=t.getAttribute("data-tooltip-placement");new c(i,t,{placement:r||s.placement,triggerType:n||s.triggerType})}else console.error('The tooltip element with id "'.concat(e,'" does not exist. Please check the data-tooltip-target attribute.'))}))}e.initTooltips=l,"undefined"!=typeof window&&(window.Tooltip=c,window.initTooltips=l),e.default=c},947:function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){void 0===e&&(e=[]),this._eventType=t,this._eventFunctions=e}return t.prototype.init=function(){var t=this;this._eventFunctions.forEach((function(e){"undefined"!=typeof window&&window.addEventListener(t._eventType,e)}))},t}();e.default=i},423:function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var i=new(function(){function t(){this._instances={Accordion:{},Carousel:{},Collapse:{},Dial:{},Dismiss:{},Drawer:{},Dropdown:{},Modal:{},Popover:{},Tabs:{},Tooltip:{},InputCounter:{},CopyClipboard:{},Datepicker:{}}}return t.prototype.addInstance=function(t,e,i,n){if(void 0===n&&(n=!1),!this._instances[t])return console.warn("Flowbite: Component ".concat(t," does not exist.")),!1;!this._instances[t][i]||n?(n&&this._instances[t][i]&&this._instances[t][i].destroyAndRemoveInstance(),this._instances[t][i||this._generateRandomId()]=e):console.warn("Flowbite: Instance with ID ".concat(i," already exists."))},t.prototype.getAllInstances=function(){return this._instances},t.prototype.getInstances=function(t){return this._instances[t]?this._instances[t]:(console.warn("Flowbite: Component ".concat(t," does not exist.")),!1)},t.prototype.getInstance=function(t,e){if(this._componentAndInstanceCheck(t,e)){if(this._instances[t][e])return this._instances[t][e];console.warn("Flowbite: Instance with ID ".concat(e," does not exist."))}},t.prototype.destroyAndRemoveInstance=function(t,e){this._componentAndInstanceCheck(t,e)&&(this.destroyInstanceObject(t,e),this.removeInstance(t,e))},t.prototype.removeInstance=function(t,e){this._componentAndInstanceCheck(t,e)&&delete this._instances[t][e]},t.prototype.destroyInstanceObject=function(t,e){this._componentAndInstanceCheck(t,e)&&this._instances[t][e].destroy()},t.prototype.instanceExists=function(t,e){return!!this._instances[t]&&!!this._instances[t][e]},t.prototype._generateRandomId=function(){return Math.random().toString(36).substr(2,9)},t.prototype._componentAndInstanceCheck=function(t,e){return this._instances[t]?!!this._instances[t][e]||(console.warn("Flowbite: Instance with ID ".concat(e," does not exist.")),!1):(console.warn("Flowbite: Component ".concat(t," does not exist.")),!1)},t}());e.default=i,"undefined"!=typeof window&&(window.FlowbiteInstances=i)}},e={};function i(n){var r=e[n];if(void 0!==r)return r.exports;var o=e[n]={exports:{}};return t[n].call(o.exports,o,o.exports,i),o.exports}i.d=function(t,e){for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var n={};return function(){var t=n;Object.defineProperty(t,"__esModule",{value:!0}),i(765);var e=i(902),r=i(33),o=i(922),a=i(556),s=i(791),d=i(340),c=i(316),l=i(16),u=i(903),h=i(247),p=i(671),f=i(656),g=i(673),v=i(132);i(311);var y=i(947);new y.default("load",[e.initAccordions,o.initCollapses,r.initCarousels,s.initDismisses,c.initDropdowns,l.initModals,d.initDrawers,h.initTabs,p.initTooltips,u.initPopovers,a.initDials,g.initCopyClipboards,f.initInputCounters,v.initDatepickers]).init(),t.default={Accordion:e.default,Carousel:r.default,Collapse:o.default,Dial:a.default,Drawer:d.default,Dismiss:s.default,Dropdown:c.default,Modal:l.default,Popover:u.default,Tabs:h.default,Tooltip:p.default,InputCounter:f.default,CopyClipboard:g.default,Datepicker:v.default,Events:y.default}}(),n}()}));
//# sourceMappingURL=flowbite.min.js.map
</file>

<file path="ui-module/src/main/resources/static/scripts/request-seller.js">
document.addEventListener('DOMContentLoaded', () => {
    const requestForm = document.getElementById('request-seller-form');
    if (!requestForm) return;

    const messageDiv = document.getElementById('request-message');
    const passwordFieldsContainer = document.getElementById('password-fields-container');
    const token = localStorage.getItem('jwt_token');

    if (!token) {
        passwordFieldsContainer.classList.remove('hidden');
        document.getElementById('password').required = true;
        document.getElementById('confirmPassword').required = true;
    }

    const showMessage = (message, isError = false) => {
        if (!messageDiv) return;
        messageDiv.textContent = message;
        messageDiv.classList.remove('hidden');
        messageDiv.className = isError
            ? 'text-center text-sm p-3 border rounded-lg text-red-700 bg-red-100 border-red-400'
            : 'text-center text-sm p-3 border rounded-lg text-green-700 bg-green-100 border-green-400';
    };

    requestForm.addEventListener('submit', async (e) => {
        e.preventDefault();

        const formData = new FormData(requestForm);
        const institutionalEmail = formData.get('email');

        if (!institutionalEmail || !institutionalEmail.toLowerCase().trim().endsWith('@certus.edu.pe')) {
            showMessage('El correo proporcionado no es un correo institucional de Certus válido.', true);
            return;
        }

        if (!token) {
            const password = formData.get('password');
            const confirmPassword = formData.get('confirmPassword');
            if (password !== confirmPassword) {
                showMessage('Las contraseñas no coinciden.', true);
                return;
            }
        }

        const requestData = {
            password: formData.get('password'),
            name: formData.get('name'),
            lastname: formData.get('lastname'),
            email: institutionalEmail,
            dni: formData.get('dni'),
            mobilePhone: formData.get('number'),
            gender: formData.get('gender'),
            instituteCampus: formData.get('campus'),
            institutionalCareer: formData.get('career'),
            institutionalCycle: parseInt(formData.get('cycle'))
        };

        const endpoint = '/api/v1/users/request-seller-role';
        const method = token ? 'PUT' : 'POST';
        const headers = {'Content-Type': 'application/json'};
        if (token) {
            headers['Authorization'] = `Bearer ${token}`;
        }

        try {
            const response = await fetch(endpoint, {
                method: method,
                headers: headers,
                body: JSON.stringify(requestData)
            });

            const result = await response.json();

            if (!response.ok) {
                throw new Error(result.error || 'Ocurrió un error al procesar la solicitud.');
            }

            showMessage(result.message, false);

            if (token) {
                localStorage.removeItem('jwt_token');
            }

            setTimeout(() => window.location.href = '/marketplace/auth/login', 3000);

        } catch (error) {
            showMessage(error.message, true);
        }
    });
});
</file>

<file path="ui-module/src/main/resources/static/scripts/scroll.js">
document.addEventListener("DOMContentLoaded", function () {
    // Animaciones que se repiten
    const animatables = document.querySelectorAll('[data-animate]');
    // Animaciones que solo ocurren una vez
    const animatablesOnce = document.querySelectorAll('[data-animate-once]');

    function handleAnimation(element, animationClass) {
        const rect = element.getBoundingClientRect();
        if (rect.top < window.innerHeight && rect.bottom > 0) {
            if (!element.classList.contains(animationClass)) {
                element.classList.add(animationClass);
            }
        } else {
            element.classList.remove(animationClass);
        }
    }

    function handleAnimationOnce(element, animationClass) {
        if (element.classList.contains('animated-once')) return;
        const rect = element.getBoundingClientRect();
        if (rect.top < window.innerHeight && rect.bottom > 0) {
            element.classList.add(animationClass, 'animated-once');
        }
    }

    function onScroll() {
        animatables.forEach(el => {
            const animation = el.getAttribute('data-animate');
            handleAnimation(el, animation);
        });
        animatablesOnce.forEach(el => {
            const animation = el.getAttribute('data-animate-once');
            handleAnimationOnce(el, animation);
        });
    }

    window.addEventListener('scroll', onScroll);
    onScroll();
});
</file>

<file path="ui-module/src/main/resources/static/scripts/session.js">
document.addEventListener('DOMContentLoaded', function () {
    const token = localStorage.getItem('jwt_token');

    const userMenuDesktop = document.getElementById('user-menu-desktop');
    const guestMenuDesktop = document.getElementById('guest-menu-desktop');
    const userMenuMobile = document.getElementById('user-menu-mobile');
    const guestMenuMobile = document.getElementById('guest-menu-mobile');
    const logoutButton = document.getElementById('logout-button');

    if (token) {
        if (userMenuDesktop) userMenuDesktop.classList.remove('hidden');
        if (guestMenuDesktop) guestMenuDesktop.classList.add('hidden');
        if (userMenuMobile) userMenuMobile.classList.remove('hidden');
        if (guestMenuMobile) guestMenuMobile.classList.add('hidden');
    } else {
        if (userMenuDesktop) userMenuDesktop.classList.add('hidden');
        if (guestMenuDesktop) guestMenuDesktop.classList.remove('hidden');
        if (userMenuMobile) userMenuMobile.classList.add('hidden');
        if (guestMenuMobile) guestMenuMobile.classList.remove('hidden');
    }

    if (logoutButton) {
        logoutButton.addEventListener('click', (e) => {
            e.preventDefault();
            localStorage.removeItem('jwt_token');
            window.location.href = '/auth/login';
        });
    }
});
</file>

<file path="ui-module/src/main/resources/templates/dashboard/seller/fragments/seller-sales.html">
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<section th:fragment="content">
    <div class="font-poppins text-center mx-4 sm:mx-0 flex flex-col items-center justify-center min-h-[80vh]">
        <h1 class="text-2xl lg:text-4xl">Aún no has tenido ventas 😓</h1>
        <p class="text-base lg:text-lg text-gray-500">Cuando alguien compre uno de tus trabajos, aparecerá aquí el registro de la venta.</p>
    </div>
</section>
</html>
</file>

<file path="ui-module/src/main/resources/templates/dashboard/seller/fragments/seller-works-under-review.html">
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<section th:fragment="content">
    <div class="font-poppins px-4 min-h-[80vh]">
        <div class="mt-6 mb-4">
            <h1 class="text-2xl font-bold">Trabajos bajo revisión</h1>
        </div>
        <div id="review-container" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
        </div>
    </div>
    <section th:replace="~{/dashboard/seller/fragments/seller-works-under-review/modal-look-review-work :: modal-look-review-work}"></section>
</section>
</html>
</file>

<file path="ui-module/src/main/resources/templates/dashboard/seller/fragments/seller-works-under-review/modal-look-review-work.html">
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<section th:fragment="modal-look-review-work">
    <dialog id="modalLookReviewWork"
            class="h-3/4 w-3/5 backdrop:bg-black/60 left-[15rem] rounded-xl">
        <div class="px-8 font-poppins text-sm">
            <div class="relative text-right mt-2">
                <button onclick="document.getElementById('modalLookReviewWork').close()">
                    <div class="flex justify-center items-center bg-redCertus rounded-full h-10 w-10">
                        <i class="fa-solid fa-xmark text-lg text-white"></i>
                    </div>
                </button>
            </div>
            <div class="mb-4">
                <h1 class="text-xl text-center font-extrabold">Proceso de Revisión</h1>
            </div>
            <div class="flex flex-col space-y-5 px-52">
                <div class="bg-blueCertus text-white py-4 px-6 rounded-lg">
                    <h1 class="text-base font-extralight">Trabajo: <span class="font-bold">Arctic Monkeys Ilustración</span>
                    </h1>
                    <p class="text-base font-extralight">Categoría: <span class="font-bold">Ilustración Digital</span>
                    </p>
                </div>
                <div class="py-2 space-y-5">
                    <div class="flex justify-between px-4 items-center">
                        <div class="bg-blueCertus rounded-full flex items-center justify-center h-10 w-10">
                            <i class="fa-solid fa-clock-rotate-left text-white text-lg"></i>
                        </div>
                        <div class="bg-blueCertus rounded-full flex items-center justify-center h-10 w-10">
                            <i class="fa-solid fa-magnifying-glass text-white text-lg"></i>
                        </div>
                        <div class="bg-blueCertus rounded-full flex items-center justify-center h-10 w-10">
                            <i class="fa-solid fa-check text-white text-lg"></i>
                        </div>
                    </div>
                    <div class="flex">
                        <div class="h-2 w-full bg-blueCertus"></div>
                        <div class="h-2 w-full bg-gray-300"></div>
                    </div>
                    <div class="w-full flex justify-between items-center">
                        <p class="text-blueCertus">Pendiente</p>
                        <p class="text-blueCertus">En Revisión</p>
                        <p class="text-gray-500">Aprobado</p>
                    </div>
                </div>
                <div class="bg-linear-to-r from-[#F5F3FF] to bg-[#EFF6FF] p-6 rounded-lg space-y-4">
                    <h1 class="text-base"><i
                            class="fa-solid fa-lightbulb text-yellow-400 text-lg mr-2 "></i>Toma
                        nota de esto</h1>
                    <p>Cuando termine el proceso de revisión, se te notificará si tu trabajo
                        fue aprobado o no, si la administración lo aprueba
                        el trabajo estará publicado en Certus Marketplace. Para visualizar tus
                        trabajos subidos ir a “Publicaciones” en tu Dashboard</p>
                </div>
                <div>
                    <img class="max-h-48 w-full bg-cover object-cover rounded-lg"
                         th:src="@{/img/dashboard/seller/banner-publicity-certus.jpg}"
                         alt="Banner Certus">
                </div>
            </div>
        </div>
    </dialog>
</section>
</html>
</file>

<file path="ui-module/src/main/resources/templates/dashboard/seller/fragments/seller-works/modal-delete-work.html">
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<section th:fragment="modal-delete-work">
    <dialog id="modalDeleteWork" class="h-40 w-96 backdrop:bg-black/30 left-[10rem]">
        <div class="flex flex-col items-center justify-center text-center font-poppins px-3 mt-9 space-y-4">
            <div class="text-sm">
                ¿Estás seguro que deseas eliminar el trabajo?
            </div>
            <div class="text-sm flex space-x-2">
                <button class="h-9 text-center text-white bg-redCertus px-10 rounded-full">
                    Eliminar
                </button>
                <button onclick="document.getElementById('modalDeleteWork').close()"
                        class="h-9 text-center text-black border-2 px-10 rounded-full">Cancelar
                </button>
            </div>
        </div>
    </dialog>
</section>
</html>
</file>

<file path="ui-module/src/main/resources/templates/dashboard/seller/fragments/seller-works/modal-edit-work.html">
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">

<section th:fragment="modal-edit-work">

    <!-- Edit Work -->

    <dialog id="modalEditWork"
            class="rounded-xl w-1/2 h-1/2 backdrop:bg-black/60 left-[10rem]">
        <div class="flex flex-col px-8 font-poppins text-sm">
            <div class="w-full space-y-6">
                <h1 class="text-xl text-center font-extrabold my-4">Edición del trabajo</h1>
                <div class="grid grid-cols-2 w-full gap-x-4 text-sm">
                    <div class="space-y-2">
                        <label for="titleWork" class="font-bold">Título del Trabajo</label>
                        <input type="text" placeholder="Arctic Monkeys" id="titleWork"
                               name="titleWork"
                               class="w-full h-10 border-gray-400 rounded-lg text-sm">
                    </div>
                    <div class="space-y-2">
                        <label for="price" class="font-bold">Precio</label>
                        <input type="text" placeholder="S/700.00" id="priceWork"
                               name="priceWork"
                               class="w-full h-10 border-gray-400 rounded-lg text-sm">
                    </div>
                </div>
                <div class="grid grid-cols-2 w-full gap-x-4">
                    <div class="space-y-2">
                        <label for="titleWork" class="font-bold">Descripción</label>
                        <textarea type="text" id="titleWork" name="titleWork"
                                  class="text-sm w-full py-1.5 h-44 max-h-44 border-gray-400 rounded-lg">Mi Creatividad destaca la elegancia de un tipo de flor originada en Perú, una ilustración pura y única para aquellos que aman la Ilustración 💗</textarea>
                    </div>
                    <div class="space-y-2">
                        <label for="price" class="font-bold">Categoría</label>
                        <input type="text" id="priceWork" name="priceWork"
                               class="text-sm w-full py-1.5 border-gray-400 rounded-lg">
                        <div class="space-y-2">
                            <div class="font-light">
                                <i class="fa-solid fa-circle-exclamation text-blueCertus"></i>
                                <span class="text-gray-600">Recuerda: Solo podrás editar el título, descripción, precio y categoría del trabajo activo. Las otras opciones como
                                        imagenes y archivos adjuntos no están permitidos para ser editados ya que así evitamos el fraude y malas prácticas de imagenes y archivos no deseados
                                    </span>
                            </div>
                            <div class="font-light">
                                <i class="fa-solid fa-circle-exclamation text-blueCertus"></i>
                                <span class="text-gray-600">El trabajo podrá ser editado solo 1 sola vez.</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="grid grid-cols-2 w-full gap-x-4 text-sm">
                    <div class="space-y-2">
                        <button onclick="document.getElementById('modalSaveWork').showModal()"
                                class="h-10 text-center text-white bg-greenCertus w-full rounded-full">
                            Guardar
                        </button>
                    </div>
                    <div class="space-y-2">
                        <button onclick="document.getElementById('modalEditWork').close()"
                                class="h-10 text-center text-white bg-redCertus w-full rounded-full">
                            Cancelar
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </dialog>

    <!-- Modal Save Work -->

    <dialog id="modalSaveWork" class="h-40 w-96 backdrop:bg-black/30 left-[10rem]">
        <div class="flex flex-col items-center justify-center text-center font-poppins px-3 py-7 space-y-4">
            <div class="text-sm">
                ¿Estás seguro de que deseas guardar los cambios?
            </div>
            <div class="text-sm flex space-x-2">
                <button class="h-9 text-center text-white bg-greenCertus px-10 rounded-full">
                    Guardar
                </button>
                <button onclick="document.getElementById('modalSaveWork').close()"
                        class="h-9 text-center text-white bg-redCertus px-10 rounded-full">
                    Cancelar
                </button>
            </div>
        </div>
    </dialog>

</section>
</html>
</file>

<file path="ui-module/src/main/resources/templates/dashboard/seller/fragments/seller-works/modal-user-request-work.html">
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<section th:fragment="modal-user-request-work">
    <dialog id="modalUserRequestWork"
            class="rounded-xl w-1/2 h-1/2 backdrop:bg-black/60 left-[10rem]">
        <div class="relative text-right mt-2 mr-2">
            <button onclick="document.getElementById('modalUserRequestWork').close()">
                <div class="flex justify-center items-center bg-redCertus rounded-full h-10 w-10">
                    <i class="fa-solid fa-xmark text-lg text-white"></i>
                </div>
            </button>
        </div>
        <div class="w-full max-w-lg px-4 bg-white rounded-lg font-poppinsshadow-sm sm:px-8 text-black flex flex-col mx-auto justify-center">
            <div class="flex justify-center items-center mb-4">
                <h5 class="text-xl font-bold leading-none text-center">Solicitudes por tu
                    trabajo</h5>
            </div>
            <div class="flow-root">
                <ul role="list" class="divide-y divide-gray-200 dark:divide-gray-700">
                    <li class="py-3 sm:py-4">
                        <div class="flex items-center">
                            <div class="shrink-0">
                                <img class="w-8 h-8 rounded-full"
                                     th:src="@{/img/dashboard/seller/profile-picture-1.jpg}"
                                     alt="Neil image">
                            </div>
                            <div class="flex-1 min-w-0 ms-4">
                                <p class="text-sm font-medium">
                                    Neil Sims
                                </p>
                                <p class="text-sm text-gray-500">
                                    email@windster.com
                                </p>
                            </div>
                            <div class="inline-flex items-center font-semibold">
                                <a href="#"><i class="fa-brands fa-whatsapp text-3xl"></i></a>
                            </div>
                        </div>
                    </li>
                    <li class="py-3 sm:py-4">
                        <div class="flex items-center ">
                            <div class="shrink-0">
                                <img class="w-8 h-8 rounded-full"
                                     th:src="@{/img/dashboard/seller/profile-picture-2.jpg}"
                                     alt="Bonnie image">
                            </div>
                            <div class="flex-1 min-w-0 ms-4">
                                <p class="text-sm font-medium">
                                    Bonnie Green
                                </p>
                                <p class="text-sm text-gray-500">
                                    email@windster.com
                                </p>
                            </div>
                            <div class="inline-flex items-center text-base font-semibold">
                                <a href="#"><i class="fa-brands fa-whatsapp text-3xl"></i></a>
                            </div>
                        </div>
                    </li>
                    <li class="py-3 sm:py-4">
                        <div class="flex items-center">
                            <div class="shrink-0">
                                <img class="w-8 h-8 rounded-full"
                                     th:src="@{/img/dashboard/seller/profile-picture-3.jpg}"
                                     alt="Michael image">
                            </div>
                            <div class="flex-1 min-w-0 ms-4">
                                <p class="text-sm font-medium">
                                    Michael Gough
                                </p>
                                <p class="text-sm text-gray-500">
                                    email@windster.com
                                </p>
                            </div>
                            <div class="inline-flex items-center text-base font-semibolde">
                                <a href="#"><i class="fa-brands fa-whatsapp text-3xl"></i></a>
                            </div>
                        </div>
                    </li>
                    <li class="py-3 sm:py-4">
                        <div class="flex items-center ">
                            <div class="shrink-0">
                                <img class="w-8 h-8 rounded-full"
                                     th:src="@{/img/dashboard/seller/profile-picture-4.jpg}"
                                     alt="Lana image">
                            </div>
                            <div class="flex-1 min-w-0 ms-4">
                                <p class="text-sm font-medium">
                                    Lana Byrd
                                </p>
                                <p class="text-sm text-gray-500">
                                    email@windster.com
                                </p>
                            </div>
                            <div class="inline-flex items-center">
                                <a href="#"><i class="fa-brands fa-whatsapp text-3xl"></i></a>
                            </div>
                        </div>
                    </li>
                    <li class="pt-3 pb-0 sm:pt-4">
                        <div class="flex items-center ">
                            <div class="shrink-0">
                                <img class="w-8 h-8 rounded-full"
                                     th:src="@{/img/dashboard/seller/profile-picture-5.jpg}"
                                     alt="Thomas image">
                            </div>
                            <div class="flex-1 min-w-0 ms-4">
                                <p class="text-sm font-medium">
                                    Thomes Lean
                                </p>
                                <p class="text-sm text-gray-500">
                                    email@windster.com
                                </p>
                            </div>
                            <div class="inline-flex items-center text-base">
                                <a href="#"><i class="fa-brands fa-whatsapp text-3xl"></i></a>
                            </div>
                        </div>
                    </li>
                </ul>
            </div>
        </div>
    </dialog>
</section>
</html>
</file>

<file path="ui-module/src/main/resources/templates/dashboard/seller/fragments/sidebar.html">
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<section th:fragment="sidebar">

    <aside id="default-sidebar"
           class="font-poppins fixed top-0 left-0 z-40 w-72 h-screen transition-transform -translate-x-full sm:translate-x-0"
           aria-label="Sidebar">
        <div class="h-full py-4 overflow-y-auto bg-blueCertus">
            <div class="flex items-center justify-center space-x-2 mb-10">
                <a th:href="@{/marketplace/home}">
                    <img th:src="@{/img/home/logo_certus.png}" class="h-14" alt="Logo"/>
                </a>
                <div>
                    <h5 class="font-righteous text-2xl cssanimation danceTop text-white">
                        Marketplace</h5>
                    <h6 class="font-poppins text-sm text-gray-200">Explora la creatividad</h6>
                </div>
            </div>

            <div class="font-semibold pt-10 pb-4 px-8">
                <h3 class="text-base text-white">
                    Gestión
                </h3>
            </div>
            <ul class="font-medium">
                <li>
                    <a id="stateLinkWork" href="#" data-view="seller-works"
                       class="flex items-center px-8 py-2 text-white hover:bg-blue-900 group">
                        <i class="fa-solid fa-note-sticky text-white text-xl"></i>
                        <span class="flex-1 ms-3 whitespace-nowrap">Publicaciones</span>
                    </a>
                </li>
                <li>
                    <a id="stateLinkReview" href="#" data-view="seller-works-under-review"
                       class="flex items-center px-8 py-2 text-white hover:bg-blue-900 group">
                        <i class="fa-solid fa-spinner text-white text-xl"></i>
                        <span class="flex-1 ms-3 whitespace-nowrap">Pendientes</span>
                    </a>
                </li>
                <li>
                    <a id="stateLinkSales" href="#" data-view="seller-sales"
                       class="flex items-center px-8 py-2 text-white hover:bg-blue-900 group">
                        <i class="fa-solid fa-sack-dollar text-white text-xl"></i>
                        <span class="flex-1 ms-3 whitespace-nowrap">Ventas</span>
                    </a>
                </li>

                <div class="font-semibold pt-10 pb-4 px-6">
                    <h3 class="text-base text-white">
                        Mi Cuenta
                    </h3>
                </div>
                <li>
                    <a id="stateLinkSettings" href="#"
                       class="flex items-center px-8 py-2 text-white hover:bg-blue-900 group">
                        <i class="fa-solid fa-gear text-white text-xl"></i>
                        <span class="flex-1 ms-3 whitespace-nowrap text-white">Ajustes</span>
                    </a>
                </li>
                <li>
                    <a id="stateLinkAccount" href="#"
                       class="flex items-center px-8 py-2 text-white hover:bg-blue-900 group">
                        <i class="fa-solid fa-user text-white text-xl"></i>
                        <span class="flex-1 ms-3 whitespace-nowrap text-white">Mi Cuenta</span>
                    </a>
                </li>
                <li>
                    <a id="stateLinkLogout" href="#"
                       class="flex items-center px-8 py-2 text-white hover:bg-blue-900 group">
                        <i class="fa-solid fa-right-from-bracket rotate-180 text-white text-xl"></i>
                        <span class="flex-1 ms-3 whitespace-nowrap text-white">Cerrar Sesión</span>
                    </a>
                </li>
            </ul>
        </div>
    </aside>
</section>
</html>
</file>

<file path="ui-module/src/main/resources/templates/dashboard/seller/seller-dashboard.html">
<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head th:replace="~{/fragments/head :: head}"></head>
<body class="bg-[#F5F5F5] sm:ml-72">

<header th:replace="~{/dashboard/seller/fragments/header-seller :: header-seller}"></header>
<section th:replace="~{/dashboard/seller/fragments/sidebar :: sidebar}"></section>

<main id="all-content" class="p-4">
</main>

<script th:src="@{/scripts/seller-dashboard.js}"></script>
</body>
</html>
</file>

<file path="ui-module/src/main/resources/templates/fragments/cart-content.html">
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<body>

<div th:fragment="content" class="flex flex-col h-full font-poppins">
    <!-- Header del carrito -->
    <div class="flex justify-between items-center p-4 border-b border-gray-200 dark:border-gray-600 flex-shrink-0">
        <h5 class="inline-flex items-center text-base font-semibold text-gray-800 dark:text-white">
            <i class="fas fa-shopping-cart mr-2"></i>Mi Carrito
        </h5>
        <button type="button" data-drawer-hide="cart-drawer" aria-controls="cart-drawer"
                class="text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 inline-flex items-center justify-center dark:hover:bg-gray-600 dark:hover:text-white">
            <i class="fas fa-times"></i>
            <span class="sr-only">Cerrar menú</span>
        </button>
    </div>

    <!-- Contenedor de items del carrito -->
    <div id="cart-items-container" class="flex-grow divide-y divide-gray-200 dark:divide-gray-700 overflow-y-auto">
        <div th:if="${#lists.isEmpty(cartItems)}" class="text-center py-10 px-4 text-gray-500 dark:text-gray-400">
            Tu carrito está vacío.
        </div>
        <!-- Items del carrito se renderizan aquí -->
        <div th:each="item : ${cartItems}" class="flex items-start p-4 gap-4">
            <img th:src="${item.workImageUrl}" th:alt="${item.workTitle}"
                 class="w-16 h-16 object-cover rounded-md flex-shrink-0 border">
            <div class="flex-1 min-w-0">
                <p class="font-semibold text-sm truncate text-gray-800 dark:text-white" th:text="${item.workTitle}"></p>
                <p class="text-gray-600 dark:text-gray-400 text-sm"
                   th:text="'S/ ' + ${#numbers.formatDecimal(item.workPrice, 1, 'COMMA', 2, 'POINT')}"></p>
            </div>
            <button class="remove-from-cart-btn text-red-500 hover:text-red-700 p-2 -mr-2"
                    th:data-id="${item.workId}">
                <i class="fas fa-trash-alt"></i>
            </button>
        </div>
    </div>

    <!-- Footer del carrito -->
    <div id="cart-footer" th:if="${not #lists.isEmpty(cartItems)}"
         class="p-4 bg-gray-50 dark:bg-gray-800 border-t border-gray-200 dark:border-gray-600 flex-shrink-0">
        <div class="flex justify-between items-center mb-4 text-lg font-semibold text-gray-800 dark:text-white">
            <span>Total:</span>
            <span id="cart-total"
                  th:text="'S/ ' + ${#numbers.formatDecimal(total, 1, 'COMMA', 2, 'POINT')}">S/ 0.00</span>
        </div>

        <button id="checkout-button" type="button"
                class="w-full bg-[#00205b] text-white px-4 py-2.5 rounded-lg hover:bg-[#001a4d] transition duration-200 font-semibold">
            Comprar Ahora
        </button>
        <span id="work-ids-json" class="hidden" th:text="${workIdsJson}"></span>
    </div>
</div>

</body>
</html>
</file>

<file path="ui-module/src/main/resources/templates/fragments/head.html">
<file path="ui-module/src/main/resources/templates/fragments/head.html">
    <!DOCTYPE html>
    <html xmlns:th="http://www.thymeleaf.org">
    <head th:fragment="head">
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <link rel="shortcut icon" th:href="@{/img/home/logo_certus.png}" type="image/x-icon">
        <title>Certus Marketplace</title>
        <base th:href="@{/}">

        <link rel="stylesheet"
              href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
              integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
              crossorigin="anonymous" referrerpolicy="no-referrer"/>
        <link rel="stylesheet"
              href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"
              crossorigin="anonymous"/>
        <link th:href="@{/css/cssanimation.css}" rel="stylesheet">
        <link th:href="@{/css/general.css}" rel="stylesheet">
        <link th:href="@{/css/main.css}" rel="stylesheet">

        <script src="https://accounts.google.com/gsi/client" async defer></script>

        <script defer th:src="@{/scripts/flowbite.min.js}"></script>
        <script defer th:src="@{/scripts/alpine.js}"></script>

        <!-- Scripts de la aplicación -->
        <script defer th:src="@{/scripts/scroll.js}"></script>
        <script defer th:src="@{/scripts/general.js}"></script>
        <script defer th:src="@{/scripts/auth.js}"></script>
        <script defer th:src="@{/scripts/auth-flow.js}"></script>
        <script defer th:src="@{/scripts/request-seller.js}"></script>
        <script defer th:src="@{/scripts/filters.js}"></script>
        <script defer th:src="@{/scripts/cart.js}"></script>
        <script defer th:src="@{/scripts/checkout.js}"></script>
        <script defer th:src="@{/scripts/work-details.js}"></script>
    </head>
    </html>
</file>
</file>

<file path="ui-module/src/main/resources/templates/home/templates/fragments/footer.html">
<!DOCTYPE html>
<html xmlns:th="http://www.thymleaf.org" lang="es">
<footer th:fragment="footer">
    <div class="bg-blueCertus w-full min-[410px]:mt-6 min-[760px]:mt-14 md:mt-20 xl:mt-32 2xl:mt-40 h-auto py-8 md:pt-0 md:pb-4 px-8 xl:px-36 2xl:px-60 min-[1670px]:pt-6 md:space-y-8 animate__animated">
        <div class="grid grid-cols-2 grid-rows-2 md:grid-cols-3 xl:grid-cols-4 xl:grid-rows-1 text-white gap-y-6 gap-x-4 animate__animated"
             data-animate-once="animate__fadeInLeft">
            <div class="m-auto xl:m-0 space-y-10 col-span-2 md:col-span-3 xl:col-span-1">
                <div class="flex justify-center space-x-2">
                    <a href="#">
                        <img th:src="@{/img/home/logo_certus.png}" class="h-14"
                             alt="Logo Certus Marketplace">
                    </a>
                    <div>
                        <h5 class="font-righteous text-white text-3xl cssanimation danceTop">
                            Marketplace</h5>
                        <h6 class="font-poppins text-base text-gray-300">Explora la
                            creatividad</h6>
                    </div>
                </div>
                <p class="font-poppins text-center text-gray-300">El primer Marketplace para
                    estudiantes creativos</p>
            </div>
            <div class="font-poppins mx-auto">
                <ul class="flex flex-col space-y-3">
                    <h6 class="text-lg font-bold mb-3">Enlaces</h6>
                    <a href="#"
                       class="text-gray-300 hover:text-skyBlueCertus duration-200 transition hover:translate-x-4">Inicio</a>
                    <a href="#"
                       class="text-gray-300 hover:text-skyBlueCertus duration-200 transition hover:translate-x-4">Nosotros</a>
                    <a href="#"
                       class="text-gray-300 hover:text-skyBlueCertus duration-200 transition hover:translate-x-4">Soporte</a>
                    <a href="#"
                       class="text-gray-300 hover:text-skyBlueCertus duration-200 transition hover:translate-x-4">Instituto
                        Certus</a>
                </ul>
            </div>
            <div class="font-poppins mx-auto">
                <ul class="flex flex-col space-y-3">
                    <h6 class="text-lg font-bold mb-3">Categorías</h6>
                    <a href="#"
                       class="text-gray-300 hover:text-skyBlueCertus duration-200 transition hover:translate-x-4">Pinturas</a>
                    <a href="#"
                       class="text-gray-300 hover:text-skyBlueCertus duration-200 transition hover:translate-x-4">Ilustraciones</a>
                    <a href="#"
                       class="text-gray-300 hover:text-skyBlueCertus duration-200 transition hover:translate-x-4">Música
                        & Audio</a>
                    <a href="#"
                       class="text-gray-300 hover:text-skyBlueCertus duration-200 transition hover:translate-x-4">Software</a>
                </ul>
            </div>
            <div class="font-poppins space-y-4 mx-auto text-center my-5 md:my-0 col-span-2 md:col-span-1">
                <h6 class="text-lg font-bold">Contáctanos a través de:</h6>
                <div class="space-x-4">
                    <a href="#"><i
                            class="fa-brands fa-facebook text-[24px] lg:text-[27px] hover:text-skyBlueCertus duration-200 hover:-translate-y-2"></i></a>
                    <a href="#"><i
                            class="fa-brands fa-x-twitter text-[24px] lg:text-[27px] hover:text-skyBlueCertus duration-200 hover:-translate-y-2"></i></a>
                    <a href="#"><i
                            class="fa-brands fa-instagram text-[24px] lg:text-[27px] hover:text-skyBlueCertus duration-200 hover:-translate-y-2"></i></a>
                    <a href="#"><i
                            class="fa-brands fa-linkedin text-[24px] lg:text-[27px] hover:text-skyBlueCertus duration-200 hover:-translate-y-2"></i></a>
                </div>
            </div>
        </div>
        <div class="w-full relative bg-gray-300 h-0.5 m-auto mb-5 animate__animated"
             data-animate-once="animate__fadeInLeft"></div>
        <div class="flex justify-center animate__animated"
             data-animate-once="animate__fadeInLeft">
      <span class="text-gray-300 text-center font-poppins">
        © 2025 Certus Marketplace. Todos los derechos reservados
      </span>
        </div>
    </div>

</footer>
</html>
</file>

<file path="ui-module/src/main/resources/templates/home/templates/fragments/header.html">
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="es">
<header th:fragment="header">
    <div class="flex items-center justify-between mx-6 my-3 sm:mx-16 xl:mx-36 2xl:mx-60 relative">
        <!-- Logo y Nombre (sin cambios) -->
        <div class="flex items-center space-x-2">
            <a th:href="@{/marketplace/home}">
                <img th:src="@{/img/home/logo_certus.png}" class="h-14" alt="Logo"/>
            </a>
            <div>
                <h5 class="font-righteous text-3xl cssanimation danceTop">Marketplace</h5>
                <h6 class="font-poppins text-base text-gray-500">Explora la creatividad</h6>
            </div>
        </div>

        <!-- Links de navegación (MODIFICADOS PARA SER DINÁMICOS) -->
        <ul class="font-poppins hidden min-[1100px]:flex items-center space-x-4">
            <!-- Menú para INVITADOS (no logueados) -->
            <div id="guest-menu-desktop" class="hidden items-center space-x-4">
                <a th:href="@{/marketplace/auth/login}"
                   class="text-base py-2 px-6 border border-gray-500 rounded-full hover:text-skyBlueCertus hover:border-b-2 hover:border-skyBlueCertus duration-100">Iniciar</a>
                <a th:href="@{/marketplace/auth/register}"
                   class="text-base py-2 px-6 border border-gray-500 rounded-full hover:text-skyBlueCertus hover:border-b-2 hover:border-skyBlueCertus duration-100">Regístrate</a>
            </div>
            <!-- Menú para USUARIOS (logueados) -->
            <div id="user-menu-desktop" class="hidden items-center space-x-4">
                <a th:href="@{/marketplace/dashboard/seller}" class="text-base py-2 px-6">Mi
                    Panel</a>
                <a href="#" id="logout-button"
                   class="text-base py-2 px-6 border border-red-500 text-red-500 rounded-full hover:bg-red-500 hover:text-white duration-100">Cerrar
                    Sesión</a>
            </div>
            <!-- Botones comunes -->
            <a th:href="@{/marketplace/request-seller-role}"
               class=" text-white bg-blueCertus hover:bg-skyBlueCertus duration-100 rounded-full py-2 px-6 animate__animated border-b-2 border-blueCertus hover:border-skyBlueCertus"
               data-animate="animate__headShake">Vender</a>
            <a th:href="@{/marketplace/works}" class="text-base"><i
                    class="fa-solid fa-store text-3xl text-blueCertus hover:text-skyBlueCertus duration-100"></i></a>
        </ul>

        <!-- Menú hamburguesa (sin cambios) -->
        <span id="burguer" class="min-[1100px]:hidden cursor-pointer">
            <i class="fa-solid fa-bars-staggered text-3xl text-blueCertus hover:text-skyBlueCertus duration-200"></i>
        </span>
    </div>

    <!-- Sidebar oculto (MODIFICADO PARA SER DINÁMICO) -->
    <div id="sidebar"
         class="fixed top-0 right-0 h-full w-64 bg-darkBlueCertus transform translate-x-full transition-transform duration-300 z-50 min-[1100px]:hidden">
        <div class="flex justify-end p-4">
            <button id="closeSidebar"
                    class="text-primaryColor text-4xl top-2 right-2.5 relative min-[530px]:right-12">
                <i class="fa-solid fa-times text-white hover:text-skyBlueCertus duration-200"></i>
            </button>
        </div>
        <nav class="flex flex-col px-5 space-y-6 mt-8">
            <ul class="space-y-2 font-medium">
                <li>
                    <a th:href="@{/marketplace/home}"
                       class="flex items-center p-2 text-white hover:text-white hover:bg-skyBlueCertus duration-150 rounded-full group">
                        <i class="fa-solid fa-house-chimney"></i>
                        <span class="flex-1 ms-3 whitespace-nowrap">Inicio</span>
                    </a>
                </li>
                <!-- Menú móvil para INVITADOS -->
                <div id="guest-menu-mobile" class="hidden space-y-2">
                    <li>
                        <a th:href="@{/marketplace/auth/login}"
                           class="flex items-center p-2 text-white hover:text-white hover:bg-skyBlueCertus duration-150 rounded-full group">
                            <i class="fa-solid fa-right-to-bracket"></i>
                            <span class="flex-1 ms-3 whitespace-nowrap">Iniciar</span>
                        </a>
                    </li>
                    <li>
                        <a th:href="@{/marketplace/auth/register}"
                           class="flex items-center p-2 text-white hover:text-white hover:bg-skyBlueCertus duration-150 rounded-full group">
                            <i class="fa-solid fa-user-plus"></i>
                            <span class="flex-1 ms-3 whitespace-nowrap">Regístrate</span>
                        </a>
                    </li>
                </div>
                <!-- Menú móvil para USUARIOS -->
                <div id="user-menu-mobile" class="hidden space-y-2">
                    <li>
                        <a th:href="@{/marketplace/dashboard/seller}"
                           class="flex items-center p-2 text-white hover:text-white hover:bg-skyBlueCertus duration-150 rounded-full group">
                            <i class="fa-solid fa-table-columns"></i>
                            <span class="flex-1 ms-3 whitespace-nowrap">Mi Panel</span>
                        </a>
                    </li>
                    <li>
                        <a href="#" id="logout-button-mobile"
                           class="flex items-center p-2 text-white hover:text-white hover:bg-skyBlueCertus duration-150 rounded-full group">
                            <i class="fa-solid fa-right-from-bracket rotate-180"></i>
                            <span class="flex-1 ms-3 whitespace-nowrap">Cerrar Sesión</span>
                        </a>
                    </li>
                </div>
                <!-- Links comunes móviles -->
                <li>
                    <a th:href="@{/marketplace/request-seller-role}"
                       class="flex items-center p-2 text-white hover:text-white hover:bg-skyBlueCertus duration-150 rounded-full group">
                        <i class="fa-solid fa-hand-holding-dollar"></i>
                        <span class="flex-1 ms-3 whitespace-nowrap">Vender</span>
                    </a>
                </li>
                <li>
                    <a th:href="@{/marketplace/works}"
                       class="flex items-center p-2 text-white hover:text-white hover:bg-skyBlueCertus duration-150 rounded-full group">
                        <i class="fa-solid fa-store"></i>
                        <span class="flex-1 ms-3 whitespace-nowrap">Marketplace</span>
                    </a>
                </li>
            </ul>
        </nav>
    </div>
</header>
</html>
</file>

<file path="ui-module/src/main/resources/templates/home/templates/home.html">
<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<th:block th:replace="~{fragments/head :: head}"></th:block>
<body>

<!-- Header Extraído -->

<header th:replace="~{fragments/main-header :: header}"></header>
<!-- Banner Inicial -->

<section class="relative overflow-hidden">

    <video autoplay muted loop playsinline
           class="absolute bg-top top-0 left-0 w-full h-full object-cover z-20 brightness-[0.4]">
        <source th:src="@{video/video_banner.mp4}" type="video/mp4"/>
        Tu navegador no soporta videos HTML5.
    </video>

    <div class="relative z-30 flex flex-col items-center justify-center py-6 px-6 md:py-14 space-y-4 md:space-y-8 text-center font-poppins">
        <div>
            <h1 class="text-3xl text-white lg:text-4xl font-bold animate__animated"
                data-animate="animate__fadeInDown">
                Marketplace estudiantil para mentes creativas
            </h1>
        </div>
        <div>
            <p class="text-base lg:text-lg text-white animate__animated"
               data-animate="animate__fadeInDown">
                Compra y vende obras creativas directamente de estudiantes talentosos.
            </p>
        </div>
        <div class="space-x-2">
            <a th:href="@{/marketplace/auth/login}">
                <button th:src="@{/home}"
                        class="rounded-full text-black xl:text-lg min-w-36 lg:min-w-40 py-2 bg-white hover:bg-skyBlueCertus hover:text-white duration-200 animate__animated"
                        data-animate="animate__fadeInLeft">
                    Iniciar
                </button>
            </a>
            <a th:href="@{/marketplace/works}">
                <button class="rounded-full text-white xl:text-lg min-w-36 py-2 bg-blueCertus hover:bg-skyBlueCertus duration-200 animate__animated"
                        data-animate="animate__fadeInRight">
                    Marketplace
                </button>
            </a>
        </div>
    </div>
</section>


<!-- Productos Banner -->

<section>
    <div class="grid grid-rows-1 md:grid-rows-none md:grid-cols-none justify-center font-poppins md:relative md:justify-normal mx-12 my-4 min-[450px]:my-10 xl:my-14 xl:mx-36 2xl:mx-60">
        <div class="max-w-72 md:max-w-none md:grid md:grid-cols-2">
            <div class="relative">
                <img class="h-full w-full object-cover rounded-tl-lg rounded-tr-lg md:rounded-tr-none"
                     th:src="@{/img/home/product-banner-1.png}" alt="Producto">
                <div class="absolute top-0 right-0">
                    <a href="#"
                       class="text-white bg-blueCertus px-6 rounded-tr-lg md:rounded-tr-none hover:bg-skyBlueCertus duration-200 animate__animated"
                       data-animate="animate__flash">Ver</a>
                </div>
            </div>
            <div class="relative">
                <img class="h-full w-full object-cover rounded-tr-lg"
                     th:src="@{/img/home/product-banner-2.png}" alt="Producto 2">
                <div class="absolute top-0 right-0">
                    <a href="#"
                       class="text-white bg-blueCertus px-6 hover:bg-skyBlueCertus duration-200 md:rounded-tr-lg animate__animated"
                       data-animate="animate__flash">Ver</a>
                </div>
            </div>
        </div>
        <div class="relative w-full md:absolute md:bottom-0 md:left-0 animate__animated"
             data-animate-once="animate__fadeInDown">
            <div class="absolute inset-0 bg-gradient-to-r from-[#000000] to-[#828282] opacity-70"></div>
            <div class="relative py-4 md:py-4 md:px-6 space-y-4 md:space-y-5 text-center md:text-left flex flex-col max-w-72 md:max-w-full inset-0">
                <h2 class="text-xl text-white font-bold cssanimation fadeInTop"
                    data-animate-once="animate__flash">
                    Envuelvete en un mundo creativo
                </h2>
                <p class="text-gray-200 text-sm md:text-base leading-2 cssanimation fadeInTop">
                    Descubre artes, ilustraciones, música, software increíbles de <br>
                    estudiantes talentosos
                </p>
            </div>
        </div>
    </div>
</section>

<!-- Sección Categorias -->

<section>
    <div class="flex flex-col items-center justify-center space-y-6 my-6 lg:my-10 lg:space-y-12 bg-gray-100 py-8">
        <div class="text-black font-poppins">
            <h2 class="text-center text-2xl font-extrabold lg:text-3xl animate__animated"
                data-animate-once="animate__fadeInLeft">Explora diversas categorías</h2>
        </div>
        <div class="font-poppins grid grid-cols-3 grid-rows-2 items-center justify-center text-center mx-6 md:mx-12 xl:mx-60 gap-x-4 gap-y-5 lg:gap-x-12 xl:gap-x-16 md:gap-y-0 md:grid-cols-5 md:grid-rows-1 animate__animated"
             data-animate-once="animate__fadeInLeft">
            <div class="flex flex-col items-center justify-center space-y-2">
                <div class="flex justify-center items-center bg-purpleCertus h-24 w-24 sm:h-28 sm:w-28 lg:h-36 lg:w-36 xl:h-40 xl:w-40 relative">
                    <img class="h-16 sm:h-20 lg:h-24 xl:h-32 absolute bottom-0"
                         th:src="@{/img/home/categorie-1.svg}" alt="Imagen Categoria 1">
                </div>
                <span class="text-base">Software</span>
            </div>
            <div class="flex flex-col items-center justify-center space-y-2">
                <div class="flex justify-center items-center bg-[#C4BF87] h-24 w-24 sm:h-28 sm:w-28 lg:h-36 lg:w-36 xl:h-40 xl:w-40 relative">
                    <img class="h-16 sm:h-20 lg:h-24 xl:h-32 absolute bottom-0"
                         th:src="@{/img/home/categorie-2.svg}" alt="Imagen Categoria 2">
                </div>
                <span class="text-base">Pinturas</span>
            </div>
            <div class="flex flex-col items-center justify-center space-y-2">
                <div class="flex justify-center items-center bg-[#87C4B3] h-24 w-24 sm:h-28 sm:w-28 lg:h-36 lg:w-36 xl:h-40 xl:w-40 relative">
                    <img class="h-16 sm:h-20 lg:h-24 xl:h-32 absolute bottom-0"
                         th:src="@{/img/home/categorie-3.svg}" alt="Imagen Categoria 3">
                </div>
                <span class="text-base">Ilustraciones</span>
            </div>
            <div class="flex flex-col items-center justify-center space-y-2">
                <div class="flex justify-center items-center bg-redCertus h-24 w-24 sm:h-28 sm:w-28 lg:h-36 lg:w-36 xl:h-40 xl:w-40 relative">
                    <img class="h-16 sm:h-20 lg:h-24 xl:h-32 absolute bottom-0"
                         th:src="@{/img/home/categorie-4.svg}" alt="Imagen Categoria 4">
                </div>
                <span class="text-base">Cursos</span>
            </div>
            <div class="flex flex-col items-center justify-center space-y-2">
                <div class="flex justify-center items-center bg-skyBlueCertus h-24 w-24 sm:h-28 sm:w-28 lg:h-36 lg:w-36 xl:h-40 xl:w-40 relative">
                    <img class="h-16 sm:h-20 lg:h-24 xl:h-32 absolute bottom-0"
                         th:src="@{/img/home/categorie-5.svg}" alt="Imagen Categoria 5">
                </div>
                <span class="whitespace-nowrap">Música y Audio</span>
            </div>
        </div>
    </div>
</section>

<!-- Sección Ventajas -->

<section>
    <div class="grid grid-cols-1 lg:grid-cols-2 items-center justify-center my-8 md:my-16 xl:my-20 mx-6 lg:mx-12 xl:mx-36 2xl:mx-52 font-poppins gap-y-8 lg:gap-6 xl:gap-0">
        <div class="space-y-8 xl:space-y-12 m-auto animate__animated"
             data-animate-once="animate__fadeInLeft">
            <h2 class="text-center text-2xl lg:text-3xl font-extrabold leading-6 animte__animated">
                ¿Porqué comprar en Certus Marketplace?</h2>
            <div class="space-y-8">
                <div class="flex items-start">
                    <i class="fa-solid fa-shield-halved text-blueCertus text-[24px] lg:text-[27px] ml-1 mt-1 animate__animated"></i>
                    <div class="space-y-2 ml-4">
                        <h3 class="font-extrabold animate__animated">Compra Segura</h3>
                        <p class="animate__animated">Pagos seguros y protegidos para
                            compradores y vendedores</p>
                    </div>
                </div>
                <div class="flex items-start">
                    <i class="fa-solid fa-users text-blueCertus text-[24px] lg:text-[27px] mt-1 animate__animated"></i>
                    <div class="space-y-2 ml-3">
                        <h3 class="font-extrabold animate__animated">Comunidad de
                            Estudiantes</h3>
                        <p class="animate__animated">Oportunidad de conectar con estudiantes de
                            Certus</p>
                    </div>
                </div>
                <div class="flex items-start">
                    <i class="fa-solid fa-percent text-blueCertus text-[24px] lg:text-[27px] ml-2 animate__animated"></i>
                    <div class="space-y-2 ml-4">
                        <h3 class="font-extrabold animate__animated">Monetiza tu
                            Creatividad</h3>
                        <p class="animate__animated">Genera ingresos dejando marca con tu
                            creatividad</p>
                    </div>
                </div>
            </div>
        </div>
        <div class="m-auto">
            <img th:src="@{/img/home/img-working.png}" alt="Imagen Working">
        </div>
    </div>
</section>

<!-- Sección Solicitud rol Vendedor -->

<section>
    <div class="grid grid-cols-1 lg:grid-cols-2 mt-12 font-poppins gap-y-10 mx-6 lg:mx-12 xl:mx-36">
        <div class="flex flex-col text-center space-y-6 lg:order-2">
            <h2 class="text-xl lg:text-2xl font-extrabold leading-6 animate__animated"
                data-animate-once="animate__fadeInDown">¿Estás listo para ser Vendedor?</h2>
            <p class="animate__animated" data-animate-once="animate__fadeInDown">¿Eres
                estudiante de Certus?, Vente tus trabajos y monetiza rápidamente</p>
            <a th:href="@{/marketplace/request-seller-role}"
               class="bg-blueCertus m-auto text-white xl:text-lg py-2 min-w-36 rounded-full hover:bg-skyBlueCertus duration-200 z-20 animate__animated"
               data-animate="animate__fadeInRight">Ser Vendedor</a>
        </div>
        <div class="m-auto relative lg:order-1 lg:ml-36">
            <img th:src="@{/img/home/caricatura_sales.svg}" class="h-52"
                 alt="Caricatura Undraw">
        </div>
    </div>
</section>

<!-- Olas -->

<div class="relative">
    <svg class="absolute -mt-14 min-[596px]:-mt-20 lg:-mt-28 min-[1180px]:-mt-36 w-max"
         xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320">
        <path fill="#0056A0" fill-opacity="1"
              d="M0,160L26.7,154.7C53.3,149,107,139,160,117.3C213.3,96,267,64,320,85.3C373.3,107,427,181,480,197.3C533.3,213,587,171,640,133.3C693.3,96,747,64,800,69.3C853.3,75,907,117,960,144C1013.3,171,1067,181,1120,160C1173.3,139,1227,85,1280,64C1333.3,43,1387,53,1413,58.7L1440,64L1440,320L1413.3,320C1386.7,320,1333,320,1280,320C1226.7,320,1173,320,1120,320C1066.7,320,1013,320,960,320C906.7,320,853,320,800,320C746.7,320,693,320,640,320C586.7,320,533,320,480,320C426.7,320,373,320,320,320C266.7,320,213,320,160,320C106.7,320,53,320,27,320L0,320Z">
        </path>
    </svg>
</div>

<!-- Footer -->

<footer th:replace="~{home/templates/fragments/footer :: footer}"></footer>
</body>
</html>
</file>

<file path="ui-module/src/main/resources/templates/profile/templates/profile.html">
<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{fragments/head :: head}"></head>

<body class="bg-gray-100 text-gray-900">
<header th:replace="~{fragments/main-header :: header}"></header>

<div class="max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8">
    <div class="bg-white rounded-lg shadow-lg overflow-hidden">
        <div class="h-48 bg-gradient-to-r from-[#00205b] to-[#003A9E]"></div>
        <div class="p-8 sm:flex sm:items-center sm:justify-between">
            <div class="sm:flex sm:space-x-6 items-center">
                <div class="flex-shrink-0 mx-auto sm:mx-0">
                    <img id="profile-image" class="block h-28 w-28 rounded-full object-cover border-4 border-white -mt-20 shadow-md"
                         th:src="@{/img/works/perfil-generico.png}" alt="Foto de perfil del usuario"
                         referrerpolicy="no-referrer">
                </div>
                <div class="mt-4 text-center sm:mt-0 sm:text-left">
                    <h1 id="profile-name" class="text-3xl font-bold text-gray-900">Cargando...</h1>
                    <p id="profile-career" class="text-md font-medium text-gray-500"></p>
                    <div id="average-rating-container" class="flex justify-center sm:justify-start items-center mt-2 space-x-1">
                    </div>
                </div>
            </div>
            <div id="contact-button-container" class="mt-6 sm:mt-0">
            </div>
        </div>
    </div>

    <div class="mt-8 grid grid-cols-1 lg:grid-cols-3 gap-8">
        <div class="lg:col-span-1 space-y-8">
            <div class="bg-white p-6 rounded-lg shadow-lg">
                <h2 class="text-xl font-bold text-gray-800 mb-4">Sobre Mí</h2>
                <p id="about-me-description" class="text-gray-600 leading-relaxed">
                    Este usuario aún no ha agregado una descripción.
                </p>
            </div>
            <div class="bg-white p-6 rounded-lg shadow-lg">
                <h2 class="text-xl font-bold text-gray-800 mb-4">Visita mis perfiles</h2>
                <div id="social-links-container" class="space-y-3">
                    <p class="text-gray-500 text-sm">No hay perfiles sociales disponibles.</p>
                </div>
            </div>
        </div>

        <div class="lg:col-span-2">
            <h2 class="text-2xl font-bold text-gray-800 mb-6">Trabajos Publicados</h2>
            <div id="works-container" class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <!-- Los trabajos se cargarán aquí dinámicamente -->
                <p class="text-gray-500 col-span-full">Cargando trabajos...</p>
            </div>
        </div>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        const profileNameEl = document.getElementById('profile-name');
        const profileCareerEl = document.getElementById('profile-career');
        const profileImageEl = document.getElementById('profile-image');
        const contactContainerEl = document.getElementById('contact-button-container');
        const aboutMeDescriptionEl = document.getElementById('about-me-description');
        const worksContainerEl = document.getElementById('works-container');
        const averageRatingContainerEl = document.getElementById('average-rating-container');

        const path = window.location.pathname;
        let personApiUrl;
        let userId;

        if (path.startsWith('/marketplace/profiles/')) {
            userId = path.split('/')[3];
            personApiUrl = `/api/v1/people/${userId}`;
        } else if (path === '/marketplace/profile') {
            personApiUrl = '/api/v1/people/me';
        } else {
            return;
        }

        const token = localStorage.getItem('jwt_token');

        const fetchProfileData = async () => {
            try {
                const personRes = await fetch(personApiUrl, {
                    headers: token ? { 'Authorization': `Bearer ${token}` } : {}
                });

                if (!personRes.ok) {
                    document.body.innerHTML = `<div class="text-center p-20"><h1>Error</h1><p>No se pudo encontrar el perfil del usuario.</p><a href="/marketplace/works" class="text-blue-600">Volver al marketplace</a></div>`;
                    throw new Error('No se pudo cargar el perfil del usuario.');
                }

                const personData = await personRes.json();
                userId = personData.idUser;

                const worksRes = await fetch(`/api/v1/works/seller/${userId}`);
                const worksData = worksRes.ok ? await worksRes.json() : [];

                populateProfile(personData, worksData);

            } catch (error) {
                console.error('Error fetching profile data:', error);
                if(worksContainerEl) worksContainerEl.innerHTML = `<p class="text-red-500 col-span-full">${error.message}</p>`;
            }
        };

        const populateProfile = (person, works) => {
            if (profileNameEl) profileNameEl.textContent = `${person.personName} ${person.personLastname}`;
            if (profileCareerEl) profileCareerEl.textContent = person.personInstitutionalCareer || 'Estudiante de Certus';
            if (profileImageEl) profileImageEl.src = person.personProfileImageUrl || '/img/works/perfil-generico.png';

            if (contactContainerEl && person.personMobilePhone) {
                contactContainerEl.innerHTML = `
                <a href="https://wa.me/51${person.personMobilePhone}?text=Hola, ví tu perfil en Certus Marketplace y estoy interesado en tus trabajos."
                   target="_blank" rel="noopener noreferrer"
                   class="block w-full text-center sm:w-auto bg-[#00205b] text-white px-6 py-2.5 rounded-lg font-semibold hover:bg-[#001a4d] transition duration-200 shadow">
                    <i class="fab fa-whatsapp mr-2"></i>Contactar
                </a>
            `;
            }

            if (aboutMeDescriptionEl) aboutMeDescriptionEl.textContent = 'Este usuario aún no ha agregado una descripción pública.';

            // --- INICIO DE LA LÓGICA PARA RENDERIZAR TRABAJOS ---
            if (worksContainerEl) {
                const publishedWorks = works.filter(w => w.workStatus === 'PUBLICADO');
                if (publishedWorks.length > 0) {
                    worksContainerEl.innerHTML = publishedWorks.map(work => `
                    <div class="bg-white rounded-lg shadow-lg overflow-hidden transform hover:-translate-y-1 transition duration-300">
                        <a href="/marketplace/works/${work.workId}">
                            <img src="${work.workImageUrl || '/img/works/placeholder.png'}" alt="${work.workTitle}" class="w-full h-48 object-cover">
                        </a>
                        <div class="p-4">
                            <a href="/marketplace/works/${work.workId}" class="text-lg font-semibold text-gray-800 hover:text-[#00205b] truncate block">${work.workTitle}</a>
                            <p class="text-gray-600 mt-2 font-bold">S/${work.workPrice.toFixed(2)}</p>
                        </div>
                    </div>
                    `).join('');
                } else {
                    worksContainerEl.innerHTML = '<p class="text-gray-500 md:col-span-2">Este usuario aún no tiene trabajos publicados.</p>';
                }
            }
            // --- FIN DE LA LÓGICA PARA RENDERIZAR TRABAJOS ---
        };

        if (personApiUrl) {
            fetchProfileData();
        }
    });
</script>
</body>
</html>
</file>

<file path="ui-module/src/main/resources/templates/request/templates/fragments/header-request-seller.html">
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<header th:fragment="header-request-seller">
    <div class="flex items-center justify-between mx-6 my-3 sm:mx-16 xl:mx-36 2xl:mx-60 relative">
        <!-- Logo y Nombre -->
        <div class="flex items-center space-x-2">
            <a th:href="@{/home}">
                <img th:src="@{img/home/logo_certus.png}" class="h-14" alt="Logo"/>
            </a>
            <div>
                <h5 class="font-righteous text-3xl cssanimation danceTop">Marketplace</h5>
                <h6 class="font-poppins text-base text-gray-500">Explora la creatividad</h6>
            </div>
        </div>

        <!-- Links de navegación -->
        <ul class="font-poppins hidden min-[1100px]:flex items-center space-x-4">
            <a th:href="@{/auth/login}"
               class="text-base py-2 px-6 border border-gray-500 rounded-full hover:text-skyBlueCertus hover:border-b-2 hover:border-skyBlueCertus duration-100">Iniciar</a>
            <a th:href="@{/auth/register}"
               class="text-base py-2 px-6 border border-gray-500 rounded-full hover:text-skyBlueCertus hover:border-b-2 hover:border-skyBlueCertus duration-100">Regístrate</a>
            <a th:href="@{/}" class="text-base"><i
                    class="fa-solid fa-store text-3xl text-blueCertus hover:text-skyBlueCertus duration-200"></i></a>
        </ul>

        <!-- Menú hamburguesa -->
        <span id="burguer" class="min-[1100px]:hidden cursor-pointer">
                <i class="fa-solid fa-bars-staggered text-3xl text-blueCertus hover:text-skyBlueCertus duration-200"></i>
            </span>
    </div>

    <!-- Sidebar oculto -->
    <div id="sidebar"
         class="fixed top-0 right-0 h-full w-64 bg-darkBlueCertus transform translate-x-full transition-transform duration-300 z-50">
        <div class="flex justify-end p-4">
            <button id="closeSidebar"
                    class="text-primaryColor text-4xl top-2 right-2.5 relative min-[530px]:right-12">
                <i class="fa-solid fa-times text-white hover:text-skyBlueCertus duration-200"></i>
            </button>
        </div>
        <nav class="flex flex-col px-5 space-y-6 mt-8">
            <ul class="space-y-2 font-medium">
                <li>
                    <a th:href="@{/home}"
                       class="flex items-center p-2 text-white hover:text-white hover:bg-skyBlueCertus duration-150 rounded-full group">
                        <i class="fa-solid fa-house-chimney"></i>
                        <span class="flex-1 ms-3 whitespace-nowrap">Inicio</span>
                    </a>
                </li>
                <li>
                    <a th:href="@{/auth/login}"
                       class="flex items-center p-2 text-white hover:text-white hover:bg-skyBlueCertus duration-150 rounded-full group">
                        <i class="fa-solid fa-right-to-bracket"></i>
                        <span class="flex-1 ms-3 whitespace-nowrap">Iniciar</span>
                    </a>
                </li>
                <li>
                    <a th:href="@{/auth/register}"
                       class="flex items-center p-2 text-white hover:text-white hover:bg-skyBlueCertus duration-150 rounded-full group">
                        <i class="fa-solid fa-user-plus"></i>
                        <span class="flex-1 ms-3 whitespace-nowrap">Registrate</span>
                    </a>
                </li>
                <li>
                    <a href="#"
                       class="flex items-center p-2 text-white hover:text-white hover:bg-skyBlueCertus duration-150 rounded-full group">
                        <i class="fa-solid fa-store"></i>
                        <span class="flex-1 ms-3 whitespace-nowrap">Marketplace</span>
                    </a>
                </li>
            </ul>
        </nav>
    </div>
</header>
</html>
</file>

<file path="ui-module/src/main/resources/templates/request/templates/request-seller-role.html">
<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head th:replace="~{fragments/head :: head}"></head>
<body>

<header th:replace="~{fragments/main-header :: header}"></header>

<section class="pt-6 sm:pt-8 pb-20 sm:pb-48">
    <form id="request-seller-form"
          class="font-poppins sm:border sm:shadow-xl sm:rounded-md mx-auto max-w-sm lg:max-w-md py-6">
        <div class="flex flex-col mx-6 space-y-6 text-sm">
            <div class="space-y-3">
                <h1 class="text-start text-2xl font-extrabold">Conviértete en Vendedor</h1>
                <p class="text-sm">Completa tus datos para empezar a vender tus trabajos en
                    Certus Marketplace.</p>
            </div>

            <div id="request-message"
                 class="hidden text-center text-sm p-3 border rounded-lg"></div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div class="flex flex-col space-y-2">
                    <label for="name">Nombres</label>
                    <input type="text" id="name" name="name" required
                           class="border pl-2 border-gray-300 py-2 rounded-md">
                </div>
                <div class="flex flex-col space-y-2">
                    <label for="lastname">Apellidos</label>
                    <input type="text" id="lastname" name="lastname" required
                           class="border pl-2 border-gray-300 py-2 rounded-md">
                </div>
            </div>
            <div class="flex flex-col space-y-2">
                <label for="dni">DNI</label>
                <input type="text" id="dni" name="dni" maxlength="8" pattern="[0-9]{8}"
                       required class="border pl-2 border-gray-300 py-2 rounded-md">
            </div>
            <div class="flex flex-col space-y-2">
                <label for="email">Correo Institucional</label>
                <input type="email" id="email" name="email" placeholder="ejemplo@certus.edu.pe"
                       required class="border pl-2 border-gray-300 py-2 rounded-md">
            </div>

            <div id="password-fields-container"
                 class="hidden grid grid-cols-1 md:grid-cols-2 gap-4">
                <div class="flex flex-col space-y-2">
                    <label for="password">Contraseña</label>
                    <input type="password" id="password" name="password"
                           class="border pl-2 border-gray-300 py-2 rounded-md">
                </div>
                <div class="flex flex-col space-y-2">
                    <label for="confirmPassword">Confirmar Contraseña</label>
                    <input type="password" id="confirmPassword" name="confirmPassword"
                           class="border pl-2 border-gray-300 py-2 rounded-md">
                </div>
            </div>

            <div class="flex flex-col space-y-2">
                <label for="number">Número de Teléfono</label>
                <input type="tel" id="number" name="number" required
                       class="border pl-2 border-gray-300 py-2 rounded-md">
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div class="flex flex-col space-y-2">
                    <label for="gender">Género</label>
                    <select name="gender" id="gender" required
                            class="border pl-2 border-gray-300 py-2 rounded-md">
                        <option value="" disabled selected>Selecciona una opción</option>
                        <option value="M">Masculino</option>
                        <option value="F">Femenino</option>
                        <option value="O">Otro</option>
                    </select>
                </div>
                <div class="flex flex-col space-y-2">
                    <label for="campus">Sede Institucional</label>
                    <input type="text" id="campus" name="campus" required
                           class="border pl-2 border-gray-300 py-2 rounded-md">
                </div>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div class="flex flex-col space-y-2">
                    <label for="career">Carrera</label>
                    <input type="text" id="career" name="career" required
                           class="border pl-2 border-gray-300 py-2 rounded-md">
                </div>
                <div class="flex flex-col space-y-2">
                    <label for="cycle">Ciclo Actual</label>
                    <input type="number" id="cycle" name="cycle" min="1" max="6" required
                           class="border pl-2 border-gray-300 py-2 rounded-md">
                </div>
            </div>
            <div class="flex space-x-2 items-center">
                <input type="checkbox" required
                       class="h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500">
                <span>Acepto los <a href="#" class="text-blue-600 hover:underline">Términos y Condiciones</a></span>
            </div>
            <div class="flex flex-col space-y-4">
                <button type="submit"
                        class="bg-blueCertus text-white text-center xl:text-lg py-2 rounded-full hover:bg-skyBlueCertus duration-200 z-20">
                    Enviar Solicitud
                </button>
                <span class="text-gray-400 text-sm">Tu solicitud será procesada. Si tu correo es válido, tu rol se actualizará automáticamente.</span>
            </div>
        </div>
    </form>
</section>

<footer th:replace="~{home/templates/fragments/footer :: footer}"></footer>

</body>
</html>
</file>

<file path="ui-module/src/main/resources/templates/works/static/js/script.js">
const allProducts = [
    {
        id: 1,
        category: 'software',
        title: 'LANDING PAGE CAFETERÍA',
        author: 'Regina Perez',
        price: 220,
        popularity: 5,
        image: '/img/works/works/landing-cafe.jpg',
        description: 'Diseño y desarrollo de landing page optimizada para cafeterías.',
    },
    {
        id: 2,
        category: 'software',
        title: 'APP MÓVIL PARA TIENDA',
        author: 'Lucia Ramos',
        price: 480,
        popularity: 4,
        image: '/img/works/works/app-tienda.jpg',
        description: 'Aplicación móvil personalizada para la gestión y venta de productos en tiendas.',
    },
    {
        id: 3,
        category: 'software',
        title: 'PORTAL WEB PARA COLEGIO',
        author: 'José Ramirez',
        price: 520,
        popularity: 5,
        image: '/img/works/works/web-colegio.jpg',
        description: 'Desarrollo de portal web completo para la administración y comunicación de colegios.',
    },
    {
        id: 4,
        category: 'software',
        title: 'UI PARA APP DE DELIVERY',
        author: 'Javier Peña',
        price: 400,
        popularity: 4,
        image: '/img/works/works/app-delivery.jpg',
        description: 'Diseño de interfaz de usuario moderna y funcional para aplicaciones de delivery.',
    },
    {
        id: 5,
        category: 'software',
        title: 'SITIO WEB PARA CONSULTORA DE TI',
        author: 'Hugo Medina',
        price: 590,
        popularity: 5,
        image: '/img/works/web-consultoria.jpg',
        description: 'Creación de sitio web profesional para consultoras de tecnología con enfoque en servicios.',
    },
    {
        id: 6,
        category: 'software',
        title: 'PORTAL WEB PARA SERVICIOS LEGALES',
        author: 'César Acuña',
        price: 480,
        popularity: 4,
        image: '/img/works/web-legal.jpg',
        description: 'Desarrollo de portal web especializado para estudios de abogados y servicios legales.',
    },
    {
        id: 7,
        category: 'software',
        title: 'APP WEB SEGUIMIENTO DE PROYECTOS',
        author: 'José Ramirez',
        price: 580,
        popularity: 5,
        image: '/img/works/app-seguimiento.jpg',
        description: 'Aplicación web intuitiva para el seguimiento y gestión de proyectos empresariales.',
    },
    {
        id: 8,
        category: 'software',
        title: 'DISEÑO APP RECETAS SALUDABLES',
        author: 'Javier Peña',
        price: 400,
        popularity: 4,
        image: '/img/works/app-recetas.jpg',
        description: 'Diseño creativo de una aplicación móvil con recetas saludables y funciones interactivas.',
    },

    {
        id: 9,
        category: 'cursos',
        title: 'DISEÑO UX PARA PRINCIPIANTES',
        author: 'Elena Rivas',
        price: 150,
        popularity: 5,
        image: '/img/works/diseño-principiantes.jpg',
        description: 'Curso de diseño para principiantes',
    },
    {
        id: 10,
        category: 'musica',
        title: 'COMPOSICIÓN INSTRUMENTAL JAZZ',
        author: 'Regina Perez',
        price: 75,
        popularity: 4,
        image: '/img/works/jazz.jpg',
        description: 'Composición de jazz',
    },
    {
        id: 11,
        category: 'cursos',
        title: 'INTRODUCCIÓN ANIMACIÓN 2D',
        author: 'Lucía Ramos ',
        price: 280,
        popularity: 5,
        image: '/img/works/animacion-2d.jpg',
        description: 'Aprende los fundamentos de animación 2D.',
    },
    {
        id: 12,
        category: 'ilustraciones',
        title: 'RETRARO DIGITAL INFANTIL',
        author: 'Regina Perez',
        price: 60,
        popularity: 3,
        image: '/img/works/retrato-infantil.jpg',
        description: 'Retrato infantil personalizado',
    },
    {
        id: 13,
        category: 'musica',
        title: 'EFECTO DE SONIDO VIDEOJUEGO',
        author: 'Lucía Ramos ',
        price: 300,
        popularity: 5,
        image: '/img/works/juego.jpg',
        description: 'Colección de melodías personalizadas para videojuegos.',
    },
    {
        id: 14,
        category: 'musica',
        title: 'MÚSICA AMBIENTAL PARA CAFETERÍA',
        author: 'Enrique Peñanieto',
        price: 120,
        popularity: 4,
        image: '/img/works/musica-cafe.jpg',
        description: 'Música ambientada para cafetería relajante.',
    },
    {
        id: 15,
        category: 'musica',
        title: 'CANCIÓN PARA REGALAR',
        author: 'Javier Peña',
        price: 350,
        popularity: 5,
        image: '/img/works/music-regalo.jpg',
        description: 'Música personalizada para regalar.',
    },
    {
        id: 16,
        category: 'ilustraciones',
        title: 'ILUSTRACIÓN PORTADA ESTILO YAKUZA',
        author: 'Lucía Ramos ',
        price: 170,
        popularity: 4,
        image: '/img/works/ilustracion-portada.jpg',
        description: 'Ilustración de portada inspirada en yakuzas.',
    },
    {
        id: 17,
        category: 'ilustraciones',
        title: 'LOGO FRUTAL',
        author: 'Enrique Peñanieto',
        price: 180,
        popularity: 4,
        image: '/img/works/logo-frutal.jpg',
        description: 'Plantilla moderna y responsive para mostrar tus proyectos.',
    },
    {
        id: 18,
        category: 'cursos',
        title: 'MARKETING DIGITAL DESDE CERO',
        author: 'Enrique Peñanieto',
        price: 250,
        popularity: 5,
        image: '/img/works/works/mrkt-digital.jpg',
        description: 'Curso con especialista en marketing digital para potenciar tu negocio.',
    },
    {
        id: 19,
        category: 'cursos',
        title: 'INTRODUCCIÓN A PHOTOSHOP',
        author: 'Javier Peña',
        price: 80,
        popularity: 3,
        image: '/img/works/works/introduccion-photo.jpg',
        description: 'Curso introductorio de Photoshop.',
    },
    {
        id: 20,
        category: 'ilustraciones',
        title: 'MUNDO ANIMAL',
        author: 'José Ramirez',
        price: 110,
        popularity: 4,
        image: '/img/works/works/mundo-animal.jpg',
        description: 'Ilustración inspirada en el encarcelamiento de conejos y liebres.',
    },
];

const categoryInfo = {
    'todos': {
        title: 'Todos los Productos',
        description: 'Explora todas nuestras soluciones digitales disponibles.',
        bannerImage: '/img/works/banner-todos.jpg',
    },
    'cursos': {
        title: 'Cursos',
        description: 'Aprende y domina nuevas habilidades con nuestros cursos especializados.',
        bannerImage: '/img/works/works/banner-cursos.jpg',
    },
    'ilustraciones': {
        title: 'Ilustraciones Digitales',
        description: 'Descubre arte digital único y personalizable para tus proyectos.',
        bannerImage: '/img/works/works/banner-ilustraciones.jpg',
    },
    'musica': {
        title: 'Música y Audio',
        description: 'Encuentra pistas, efectos y recursos de audio para tus creaciones.',
        bannerImage: '/img/works/works/banner-music.jpg',
    },
    'software': {
        title: 'Software',
        description: 'Soluciones digitales que transforman tu mundo, hechas a tu medida.',
        bannerImage: '/img/works/works/banner-software.jpg',
    },
};

let currentFilters = {
    category: 'todos',
    price: 'all',
    popularity: 'all',
};
let currentPage = 1;
const itemsPerPage = 8;

const productCardsContainer = document.getElementById('product-cards-container');
const paginationContainer = document.getElementById('pagination-container');
const categoryFilters = document.getElementById('category-filters');
const priceFilters = document.getElementById('price-filters');
const popularityFilters = document.getElementById('popularity-filters');
const applyFiltersButton = document.getElementById('apply-filters');
const clearFiltersButton = document.getElementById('clear-filters');
const dynamicBanner = document.getElementById('dynamic-banner');
const bannerTitle = document.getElementById('banner-title');
const bannerDescription = document.getElementById('banner-description');


function createProductCard(product) {
    const starsHtml = Array(5).fill().map((_, i) =>
        `<i class="fas fa-star ${i < product.popularity ? 'text-gray-900' : 'text-gray-300'}"></i>`
    ).join('');

    return `
        <div class="bg-white rounded-lg shadow-md overflow-hidden transform hover:scale-105 transition duration-300 ease-in-out">
            <img src="${product.image}" alt="${product.title}" class="w-full h-48 object-cover">
            <div class="p-4">
            <p class="text-sm text-gray-500 mb-2">${product.author}</p>
                <h3 class="text-lg font-semibold text-gray-800 mb-1">${product.title}</h3>
                
                <div class="flex items-center mb-3">
                    ${starsHtml}
                </div>
                <div class="flex justify-between items-center mt-4">
                    <span class="text-xl font-bold text-gray-900">S/${product.price}</span>
                    <button class="bg-gray-900 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition duration-200 text-sm">
                        Agregar
                    </button>
                </div>
            </div>
        </div>
    `;
}


function applyFilters(products, filters) {
    return products.filter(product => {

        if (filters.category !== 'todos' && product.category !== filters.category) {
            return false;
        }

        if (filters.price !== 'all') {
            const [minStr, maxStr] = filters.price.split('-');
            const min = parseInt(minStr);
            const max = maxStr === 'plus' ? Infinity : parseInt(maxStr);

            if (product.price < min || product.price > max) {
                return false;
            }
        }

        if (filters.popularity !== 'all') {
            const minPopularity = parseInt(filters.popularity);
            if (product.popularity < minPopularity) {
                return false;
            }
        }
        return true;
    });
}


function renderProductCards(productsToDisplay) {
    if (productsToDisplay.length === 0) {
        productCardsContainer.innerHTML = '<p class="text-center text-gray-600 col-span-full">No se encontraron productos con los filtros seleccionados.</p>';
    } else {
        productCardsContainer.innerHTML = productsToDisplay.map(createProductCard).join('');
    }
}


function renderPagination(totalItems) {
    const totalPages = Math.ceil(totalItems / itemsPerPage);
    paginationContainer.innerHTML = '';


    if (totalPages <= 1 && totalItems <= itemsPerPage) {
        return;
    }

    const prevButton = document.createElement('button');
    prevButton.innerHTML = `<i class="fas fa-chevron-left"></i>`;
    prevButton.className = `px-3 py-1 rounded-md transition duration-200 ${currentPage === 1 ? 'bg-gray-300 text-gray-500 cursor-not-allowed' : 'bg-white text-blue-600 hover:bg-gray-200 border border-gray-300'}`;
    prevButton.disabled = currentPage === 1;
    prevButton.addEventListener('click', () => {
        if (currentPage > 1) {
            currentPage--;
            updateDisplay();
        }
    });
    paginationContainer.appendChild(prevButton);


    const maxPagesToShow = 5;
    let startPage = Math.max(1, currentPage - Math.floor(maxPagesToShow / 2));
    let endPage = Math.min(totalPages, startPage + maxPagesToShow - 1);


    if (endPage - startPage + 1 < maxPagesToShow && totalPages >= maxPagesToShow) {
        startPage = Math.max(1, totalPages - maxPagesToShow + 1);
        endPage = totalPages;
    }


    if (startPage > 1) {
        const firstPageButton = document.createElement('button');
        firstPageButton.textContent = '1';
        firstPageButton.className = `px-3 py-1 rounded-md transition duration-200 bg-white text-blue-600 hover:bg-gray-200 border border-gray-300`;
        firstPageButton.addEventListener('click', () => {
            currentPage = 1;
            updateDisplay();
        });
        paginationContainer.appendChild(firstPageButton);
        if (startPage > 2) {
            const ellipsis = document.createElement('span');
            ellipsis.textContent = '...';
            ellipsis.className = 'px-3 py-1 text-gray-500';
            paginationContainer.appendChild(ellipsis);
        }
    }

    for (let i = startPage; i <= endPage; i++) {
        const pageButton = document.createElement('button');
        pageButton.textContent = i;
        pageButton.className = `px-3 py-1 rounded-md transition duration-200 ${i === currentPage ? 'bg-blue-600 text-white' : 'bg-white text-blue-600 hover:bg-gray-200 border border-gray-300'}`;
        pageButton.addEventListener('click', () => {
            currentPage = i;
            updateDisplay();
        });
        paginationContainer.appendChild(pageButton);
    }

    if (endPage < totalPages) {
        if (endPage < totalPages - 1) {
            const ellipsis = document.createElement('span');
            ellipsis.textContent = '...';
            ellipsis.className = 'px-3 py-1 text-gray-500';
            paginationContainer.appendChild(ellipsis);
        }
        const lastPageButton = document.createElement('button');
        lastPageButton.textContent = totalPages;
        lastPageButton.className = `px-3 py-1 rounded-md transition duration-200 bg-white text-blue-600 hover:bg-gray-200 border border-gray-300`;
        lastPageButton.addEventListener('click', () => {
            currentPage = totalPages;
            updateDisplay();
        });
        paginationContainer.appendChild(lastPageButton);
    }

    // Botón Siguiente
    const nextButton = document.createElement('button');
    nextButton.innerHTML = `<i class="fas fa-chevron-right"></i>`;
    nextButton.className = `px-3 py-1 rounded-md transition duration-200 ${currentPage === totalPages ? 'bg-gray-300 text-gray-500 cursor-not-allowed' : 'bg-white text-blue-600 hover:bg-gray-200 border border-gray-300'}`;
    nextButton.disabled = currentPage === totalPages;
    nextButton.addEventListener('click', () => {
        if (currentPage < totalPages) {
            currentPage++;
            updateDisplay();
        }
    });
    paginationContainer.appendChild(nextButton);
}


function updateBanner(category) {
    const info = categoryInfo[category];
    if (info) {
        bannerTitle.textContent = info.title;
        bannerDescription.textContent = info.description;
        dynamicBanner.style.backgroundImage = `url(${info.bannerImage})`;
    }
}


function getSelectedFilters() {
    const selectedCategory = document.querySelector('input[name="category"]:checked')?.value || 'todos';
    const selectedPrice = document.querySelector('input[name="price"]:checked')?.value || 'all';
    const selectedPopularity = document.querySelector('input[name="popularity"]:checked')?.value || 'all';

    return {
        category: selectedCategory,
        price: selectedPrice,
        popularity: selectedPopularity,
    };
}


function updateDisplay() {
    const filtersToApply = currentFilters;

    const filteredProducts = applyFilters(allProducts, filtersToApply);

    const maxPossiblePage = Math.max(1, Math.ceil(filteredProducts.length / itemsPerPage));
    if (currentPage > maxPossiblePage && filteredProducts.length > 0) {
        currentPage = maxPossiblePage;
    } else if (filteredProducts.length === 0) {
        currentPage = 1;
    }

    const startIndex = (currentPage - 1) * itemsPerPage;
    const endIndex = startIndex + itemsPerPage;
    const productsToDisplay = filteredProducts.slice(startIndex, endIndex);

    renderProductCards(productsToDisplay);

    renderPagination(filteredProducts.length);

    updateBanner(filtersToApply.category);
}

categoryFilters.addEventListener('change', (event) => {
    if (event.target.name === 'category') {
        currentFilters.category = event.target.value;
        currentPage = 1;
        updateDisplay();
    }
});

applyFiltersButton.addEventListener('click', () => {
    currentFilters = getSelectedFilters();
    currentPage = 1;
    updateDisplay();
});

clearFiltersButton.addEventListener('click', () => {

    document.querySelector('input[name="category"][value="todos"]').checked = true;
    document.querySelector('input[name="price"][value="all"]').checked = true;
    document.querySelector('input[name="popularity"][value="all"]').checked = true;


    currentFilters = {
        category: 'todos',
        price: 'all',
        popularity: 'all',
    };
    currentPage = 1;
    updateDisplay();
});

document.addEventListener('DOMContentLoaded', updateDisplay);
</file>

<file path="ui-module/src/main/resources/templates/works/templates/fragments/header-user.html">
<!DOCTYPE html>
<!--
    NOTA: Se ha ajustado la declaración del <html> para incluir el namespace de XHTML
    junto con el de Thymeleaf. Esto es para máxima compatibilidad con el editor de IntelliJ IDEA
    y debería resolver definitivamente los errores de "namespace no encontrado".
-->
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">

<body>

<div th:fragment="header">
    <nav class="bg-white border-b border-gray-200 fixed w-full top-0 z-50">
        <div class="max-w-screen-xl flex flex-wrap items-center justify-between mx-auto p-4">

            <!-- Izquierda: Logo -->
            <a th:href="@{/home.html}" class="flex items-center space-x-3 rtl:space-x-reverse">
                <img th:src="@{/img/logo.jpg}" class="h-8" alt="Logo"/>
                <div class="flex flex-col leading-tight">
                    <span class="text-2xl font-semibold text-black">Marketplace</span>
                    <span class="text-sm text-gray-400 -mt-1">Explora tu creatividad</span>
                </div>
            </a>

            <!-- Derecha: Íconos y Hamburguesa -->
            <div class="flex items-center md:order-2 space-x-3 rtl:space-x-reverse">
                <!-- Carrito -->
                <button data-drawer-target="cart-drawer" data-drawer-show="cart-drawer"
                        data-drawer-placement="right"
                        aria-controls="cart-drawer"
                        class="relative p-2 text-gray-700 hover:text-blue-700 hover:bg-gray-100 rounded-lg transition">
                    <i class="fas fa-shopping-cart text-xl"></i>
                    <span id="cart-badge"
                          class="absolute -top-1 -right-1 bg-red-600 text-white text-xs w-5 h-5 flex items-center justify-center rounded-full">2</span>
                </button>

                <!-- Ícono de Usuario -->
                <button type="button"
                        class="flex text-sm bg-gray-200 rounded-full focus:ring-4 focus:ring-gray-300 p-0.5"
                        id="user-menu-button">
                    <span class="sr-only">Abrir menú de usuario</span>
                    <img th:src="@{/img/perfil2.jpg}" class="w-8 h-8 rounded-full"
                         alt="Usuario"/>
                </button>

                <!-- Botón hamburguesa para móvil -->
                <button data-collapse-toggle="navbar-links" type="button"
                        class="inline-flex items-center p-2 w-10 h-10 justify-center text-sm text-gray-500 rounded-lg md:hidden hover:bg-gray-100"
                        aria-controls="navbar-links" aria-expanded="false">
                    <span class="sr-only">Abrir menú principal</span>
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                              d="M4 6h16M4 12h16M4 18h16"></path>
                    </svg>
                </button>
            </div>

            <!-- Centro: Menú principal de navegación -->
            <div class="items-center justify-between hidden w-full md:flex md:w-auto md:order-1"
                 id="navbar-links">
                <ul class="flex flex-col font-medium p-4 md:p-0 mt-4 border border-gray-100 rounded-lg bg-gray-50 md:flex-row md:space-x-8 md:mt-0 md:border-0 md:bg-white">
                    <li><a th:href="@{/home.html}"
                           class="block py-2 px-3 text-gray-900 rounded hover:bg-gray-100 md:hover:bg-transparent md:hover:text-blue-700 md:p-0">Inicio</a>
                    </li>
                    <li><a th:href="@{/works.html}"
                           class="block py-2 px-3 text-blue-700 rounded md:bg-transparent md:text-blue-700 md:p-0"
                           aria-current="page">Explorar</a></li>
                    <li><a th:href="@{/request-seller-role.html}"
                           class="block py-2 px-3 text-gray-900 rounded hover:bg-gray-100 md:hover:bg-transparent md:hover:text-blue-700 md:p-0">Vender</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Drawer: Panel lateral del carrito -->
    <div id="cart-drawer"
         class="fixed top-0 right-0 z-50 h-screen w-full max-w-md overflow-y-auto transition-transform translate-x-full bg-white"
         tabindex="-1" aria-labelledby="cart-drawer-label">
        <div class="p-4 flex flex-col h-full">
            <div class="flex justify-between items-center mb-4">
                <h5 id="cart-drawer-label" class="text-lg font-semibold text-gray-800">Mi
                    carrito</h5>
                <button type="button" data-drawer-hide="cart-drawer"
                        aria-controls="cart-drawer"
                        class="text-gray-600 hover:text-red-500 text-lg"><i
                        class="fas fa-times"></i></button>
            </div>
            <div id="cart-items-container" class="flex-grow space-y-4 overflow-y-auto">
            </div>
            <div class="mt-auto pt-4 border-t">
                <div id="cart-total-container"
                     class="text-right text-lg font-semibold text-gray-800 mb-4">
                    Total: S/0.00
                </div>
                <button class="w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 rounded-lg transition">
                    Continuar Compra
                </button>
            </div>
        </div>
    </div>
</div>

</body>
</html>
</file>

<file path="ui-module/src/main/resources/templates/works/templates/work-details.html">
<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{fragments/head :: head}"></head>

<body class="bg-gray-100 text-gray-900 pt-20">

<header th:replace="~{fragments/main-header :: header}"></header>

<main class="max-w-7xl mx-auto mt-10 p-6 bg-white rounded-lg shadow">
    <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-10">

        <!-- Carrusel de Imágenes -->
        <div th:attr="x-data=|{ mainImage: '${work.workImageUrl}' }|">
            <div class="mb-4">
                <img class="h-auto max-w-full rounded-lg shadow-md aspect-[4/3] object-cover"
                     :src="mainImage"
                     alt="Imagen principal del trabajo">
            </div>

            <div class="grid grid-cols-5 gap-4"
                 th:if="${work.imageUrls != null and #lists.size(work.imageUrls) > 1}">
                <div th:each="imageUrl : ${work.imageUrls}">
                    <img @click="mainImage = '[[${imageUrl}]]'"
                         :class="{ 'ring-2 ring-[#00205b] p-0.5': mainImage === '[[${imageUrl}]]' }"
                         class="h-24 w-full object-cover rounded-lg cursor-pointer hover:opacity-75 transition"
                         th:src="${imageUrl}"
                         alt="Miniatura del trabajo">
                </div>
            </div>
        </div>

        <!-- Detalles del Producto -->
        <div class="flex flex-col justify-between h-full">
            <div>
                <div class="flex items-center justify-between mb-1">
                    <h1 class="text-2xl font-bold text-gray-800" th:text="${work.workTitle}"></h1>
                </div>
                <p class="text-sm text-gray-500 mb-6">
                    Autor: <a th:href="@{'/marketplace/profiles/' + ${work.idSellerUser}}"
                              class="text-[#00205b] font-medium hover:underline"
                              th:text="${work.sellerName}"></a>
                </p>
                <p class="text-lg text-gray-600 font-semibold mb-6"
                   th:text="'S/ ' + ${#numbers.formatDecimal(work.workPrice, 1, 'COMMA', 2, 'POINT')}"></p>

                <div class="flex flex-col sm:flex-row gap-4 mb-6">
                    <a th:href="@{'/marketplace/profiles/' + ${work.idSellerUser}}" class="flex-1 text-center bg-white border border-[#00205b] text-[#00205b] hover:bg-blue-50 font-medium px-5 py-2.5 rounded-md transition duration-200">
                        Ver Perfil del Autor
                    </a>
                    <button id="add-to-cart-button" class="flex-1 bg-[#00205b] hover:bg-[#001a4d] text-white font-medium px-5 py-2.5 rounded-md transition duration-200 add-to-cart-btn"
                            th:attr="data-id=${work.workId}" th:data-seller-id="${work.idSellerUser}">Agregar al carrito
                    </button>
                </div>

                <div>
                    <h2 class="text-lg font-semibold mb-2">Detalles</h2>
                    <div class="bg-gray-50 border border-gray-300 rounded-md p-4 text-sm text-gray-700">
                        <p th:text="${work.workDescription}"></p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Sección de Comentarios y Reseñas -->
    <div class="mt-12 pt-10 border-t border-gray-200 grid grid-cols-1 md:grid-cols-2 gap-8">
        <div>
            <h3 class="text-xl font-semibold mb-4">Reseñas de Compradores</h3>
            <div th:if="${#lists.isEmpty(ratings)}" class="text-gray-500">
                Este trabajo aún no tiene reseñas.
            </div>
            <div th:unless="${#lists.isEmpty(ratings)}" class="space-y-6">
                <div th:each="rating : ${ratings}" class="bg-white border rounded-lg shadow-sm p-4">
                    <div class="flex items-center gap-3 mb-2">
                        <img th:src="@{/img/works/perfil-generico.png}" class="w-10 h-10 rounded-full object-cover"/>
                        <div>
                            <p class="text-sm font-medium text-gray-800" th:text="'Usuario ' + ${rating.userId}"></p>
                            <div class="text-[#00205b]">
                                <i th:each="i : ${#numbers.sequence(1, rating.ratingScore)}" class="fa-solid fa-star"></i>
                                <i th:each="i : ${#numbers.sequence(1, 5 - rating.ratingScore)}" class="fa-regular fa-star"></i>
                            </div>
                        </div>
                    </div>
                    <p class="text-sm text-gray-600" th:text="${rating.ratingComment}"></p>
                </div>
            </div>
        </div>
        <div id="comment-section" th:attr="data-work-id=${work.workId}">
            <h3 class="text-xl font-semibold mb-4">Cuéntanos tu experiencia</h3>
            <div id="comment-auth-message" class="hidden bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 p-4 mb-4" role="alert">
                <p class="font-bold">¡Inicia sesión para comentar!</p>
                <p>Necesitas <a th:href="@{/marketplace/auth/login}" class="font-medium underline">iniciar sesión</a> para poder dejar un comentario.</p>
            </div>
            <form id="comment-form" class="mb-8">
                <div class="mb-4">
                    <label for="comment-textarea" class="sr-only">Tu comentario</label>
                    <textarea id="comment-textarea" rows="4" class="block p-2.5 w-full text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500" placeholder="Escribe tu comentario aquí..." required></textarea>
                </div>
                <button id="submit-comment-btn" type="submit" class="inline-flex items-center px-5 py-2.5 text-sm font-medium text-center text-white bg-[#00205b] rounded-lg hover:bg-[#001a4d] focus:ring-4 focus:outline-none focus:ring-blue-300">
                    Publicar comentario
                </button>
            </form>
            <div id="comments-list" class="space-y-6">
            </div>
        </div>
    </div>
</main>

<!-- === INICIO DEL CAMBIO: CARRITO UNIFICADO === -->
<div id="cart-drawer"
     class="fixed top-0 right-0 z-50 h-screen overflow-y-auto transition-transform translate-x-full bg-white w-full max-w-sm dark:bg-gray-800"
     tabindex="-1" aria-labelledby="cart-drawer-label">
    <div id="cart-content-wrapper" class="flex flex-col h-full">
        <!-- El contenido del carrito (cart-content.html) se cargará aquí por JS -->
        <div class="flex justify-between items-center p-4 border-b border-gray-200 dark:border-gray-600 flex-shrink-0">
            <h5 id="cart-drawer-label" class="inline-flex items-center text-base font-semibold text-gray-800 dark:text-white">
                <i class="fas fa-shopping-cart mr-2"></i>Mi Carrito
            </h5>
            <button type="button" data-drawer-hide="cart-drawer" aria-controls="cart-drawer" class="text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 inline-flex items-center justify-center dark:hover:bg-gray-600 dark:hover:text-white">
                <i class="fas fa-times"></i>
                <span class="sr-only">Cerrar menú</span>
            </button>
        </div>
        <div class="flex-grow flex items-center justify-center">
            <p class="text-gray-500">Cargando carrito...</p>
        </div>
    </div>
</div>
<!-- === FIN DEL CAMBIO === -->

<script th:inline="javascript">
    /*<![CDATA[*/
    document.addEventListener('DOMContentLoaded', () => {
        const addToCartButton = document.getElementById('add-to-cart-button');
        if (!addToCartButton) return;

        const token = localStorage.getItem('jwt_token');
        const sellerId = addToCartButton.getAttribute('data-seller-id');

        if (token) {
            try {
                const payload = JSON.parse(atob(token.split('.')[1]));
                const currentUserId = payload.sub;

                if (currentUserId && sellerId && currentUserId === sellerId) {
                    addToCartButton.disabled = true;
                    addToCartButton.textContent = 'No puedes comprar tu propio trabajo';
                    addToCartButton.classList.remove('hover:bg-[#001a4d]', 'add-to-cart-btn');
                    addToCartButton.classList.add('bg-gray-400', 'cursor-not-allowed');
                }
            } catch (e) {
                console.error('Error decodificando el token:', e);
            }
        }
    });
    /*]]>*/
</script>

</body>
</html>
</file>

<file path="users-module/.gitattributes">
/mvnw text eol=lf
*.cmd text eol=crlf
</file>

<file path="users-module/.gitignore">
HELP.md
target/
!.mvn/wrapper/maven-wrapper.jar
!**/src/main/**/target/
!**/src/test/**/target/

### STS ###
.apt_generated
.classpath
.factorypath
.project
.settings
.springBeans
.sts4-cache

### IntelliJ IDEA ###
.idea
*.iws
*.iml
*.ipr

### NetBeans ###
/nbproject/private/
/nbbuild/
/dist/
/nbdist/
/.nb-gradle/
build/
!**/src/main/**/build/
!**/src/test/**/build/

### VS Code ###
.vscode/
</file>

<file path="users-module/mvnw">
#!/bin/sh
# ----------------------------------------------------------------------------
# Licensed to the Apache Software Foundation (ASF) under one
# or more contributor license agreements.  See the NOTICE file
# distributed with this work for additional information
# regarding copyright ownership.  The ASF licenses this file
# to you under the Apache License, Version 2.0 (the
# "License"); you may not use this file except in compliance
# with the License.  You may obtain a copy of the License at
#
#    http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing,
# software distributed under the License is distributed on an
# "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
# KIND, either express or implied.  See the License for the
# specific language governing permissions and limitations
# under the License.
# ----------------------------------------------------------------------------

# ----------------------------------------------------------------------------
# Apache Maven Wrapper startup batch script, version 3.3.2
#
# Optional ENV vars
# -----------------
#   JAVA_HOME - location of a JDK home dir, required when download maven via java source
#   MVNW_REPOURL - repo url base for downloading maven distribution
#   MVNW_USERNAME/MVNW_PASSWORD - user and password for downloading maven
#   MVNW_VERBOSE - true: enable verbose log; debug: trace the mvnw script; others: silence the output
# ----------------------------------------------------------------------------

set -euf
[ "${MVNW_VERBOSE-}" != debug ] || set -x

# OS specific support.
native_path() { printf %s\\n "$1"; }
case "$(uname)" in
CYGWIN* | MINGW*)
  [ -z "${JAVA_HOME-}" ] || JAVA_HOME="$(cygpath --unix "$JAVA_HOME")"
  native_path() { cygpath --path --windows "$1"; }
  ;;
esac

# set JAVACMD and JAVACCMD
set_java_home() {
  # For Cygwin and MinGW, ensure paths are in Unix format before anything is touched
  if [ -n "${JAVA_HOME-}" ]; then
    if [ -x "$JAVA_HOME/jre/sh/java" ]; then
      # IBM's JDK on AIX uses strange locations for the executables
      JAVACMD="$JAVA_HOME/jre/sh/java"
      JAVACCMD="$JAVA_HOME/jre/sh/javac"
    else
      JAVACMD="$JAVA_HOME/bin/java"
      JAVACCMD="$JAVA_HOME/bin/javac"

      if [ ! -x "$JAVACMD" ] || [ ! -x "$JAVACCMD" ]; then
        echo "The JAVA_HOME environment variable is not defined correctly, so mvnw cannot run." >&2
        echo "JAVA_HOME is set to \"$JAVA_HOME\", but \"\$JAVA_HOME/bin/java\" or \"\$JAVA_HOME/bin/javac\" does not exist." >&2
        return 1
      fi
    fi
  else
    JAVACMD="$(
      'set' +e
      'unset' -f command 2>/dev/null
      'command' -v java
    )" || :
    JAVACCMD="$(
      'set' +e
      'unset' -f command 2>/dev/null
      'command' -v javac
    )" || :

    if [ ! -x "${JAVACMD-}" ] || [ ! -x "${JAVACCMD-}" ]; then
      echo "The java/javac command does not exist in PATH nor is JAVA_HOME set, so mvnw cannot run." >&2
      return 1
    fi
  fi
}

# hash string like Java String::hashCode
hash_string() {
  str="${1:-}" h=0
  while [ -n "$str" ]; do
    char="${str%"${str#?}"}"
    h=$(((h * 31 + $(LC_CTYPE=C printf %d "'$char")) % 4294967296))
    str="${str#?}"
  done
  printf %x\\n $h
}

verbose() { :; }
[ "${MVNW_VERBOSE-}" != true ] || verbose() { printf %s\\n "${1-}"; }

die() {
  printf %s\\n "$1" >&2
  exit 1
}

trim() {
  # MWRAPPER-139:
  #   Trims trailing and leading whitespace, carriage returns, tabs, and linefeeds.
  #   Needed for removing poorly interpreted newline sequences when running in more
  #   exotic environments such as mingw bash on Windows.
  printf "%s" "${1}" | tr -d '[:space:]'
}

# parse distributionUrl and optional distributionSha256Sum, requires .mvn/wrapper/maven-wrapper.properties
while IFS="=" read -r key value; do
  case "${key-}" in
  distributionUrl) distributionUrl=$(trim "${value-}") ;;
  distributionSha256Sum) distributionSha256Sum=$(trim "${value-}") ;;
  esac
done <"${0%/*}/.mvn/wrapper/maven-wrapper.properties"
[ -n "${distributionUrl-}" ] || die "cannot read distributionUrl property in ${0%/*}/.mvn/wrapper/maven-wrapper.properties"

case "${distributionUrl##*/}" in
maven-mvnd-*bin.*)
  MVN_CMD=mvnd.sh _MVNW_REPO_PATTERN=/maven/mvnd/
  case "${PROCESSOR_ARCHITECTURE-}${PROCESSOR_ARCHITEW6432-}:$(uname -a)" in
  *AMD64:CYGWIN* | *AMD64:MINGW*) distributionPlatform=windows-amd64 ;;
  :Darwin*x86_64) distributionPlatform=darwin-amd64 ;;
  :Darwin*arm64) distributionPlatform=darwin-aarch64 ;;
  :Linux*x86_64*) distributionPlatform=linux-amd64 ;;
  *)
    echo "Cannot detect native platform for mvnd on $(uname)-$(uname -m), use pure java version" >&2
    distributionPlatform=linux-amd64
    ;;
  esac
  distributionUrl="${distributionUrl%-bin.*}-$distributionPlatform.zip"
  ;;
maven-mvnd-*) MVN_CMD=mvnd.sh _MVNW_REPO_PATTERN=/maven/mvnd/ ;;
*) MVN_CMD="mvn${0##*/mvnw}" _MVNW_REPO_PATTERN=/org/apache/maven/ ;;
esac

# apply MVNW_REPOURL and calculate MAVEN_HOME
# maven home pattern: ~/.m2/wrapper/dists/{apache-maven-<version>,maven-mvnd-<version>-<platform>}/<hash>
[ -z "${MVNW_REPOURL-}" ] || distributionUrl="$MVNW_REPOURL$_MVNW_REPO_PATTERN${distributionUrl#*"$_MVNW_REPO_PATTERN"}"
distributionUrlName="${distributionUrl##*/}"
distributionUrlNameMain="${distributionUrlName%.*}"
distributionUrlNameMain="${distributionUrlNameMain%-bin}"
MAVEN_USER_HOME="${MAVEN_USER_HOME:-${HOME}/.m2}"
MAVEN_HOME="${MAVEN_USER_HOME}/wrapper/dists/${distributionUrlNameMain-}/$(hash_string "$distributionUrl")"

exec_maven() {
  unset MVNW_VERBOSE MVNW_USERNAME MVNW_PASSWORD MVNW_REPOURL || :
  exec "$MAVEN_HOME/bin/$MVN_CMD" "$@" || die "cannot exec $MAVEN_HOME/bin/$MVN_CMD"
}

if [ -d "$MAVEN_HOME" ]; then
  verbose "found existing MAVEN_HOME at $MAVEN_HOME"
  exec_maven "$@"
fi

case "${distributionUrl-}" in
*?-bin.zip | *?maven-mvnd-?*-?*.zip) ;;
*) die "distributionUrl is not valid, must match *-bin.zip or maven-mvnd-*.zip, but found '${distributionUrl-}'" ;;
esac

# prepare tmp dir
if TMP_DOWNLOAD_DIR="$(mktemp -d)" && [ -d "$TMP_DOWNLOAD_DIR" ]; then
  clean() { rm -rf -- "$TMP_DOWNLOAD_DIR"; }
  trap clean HUP INT TERM EXIT
else
  die "cannot create temp dir"
fi

mkdir -p -- "${MAVEN_HOME%/*}"

# Download and Install Apache Maven
verbose "Couldn't find MAVEN_HOME, downloading and installing it ..."
verbose "Downloading from: $distributionUrl"
verbose "Downloading to: $TMP_DOWNLOAD_DIR/$distributionUrlName"

# select .zip or .tar.gz
if ! command -v unzip >/dev/null; then
  distributionUrl="${distributionUrl%.zip}.tar.gz"
  distributionUrlName="${distributionUrl##*/}"
fi

# verbose opt
__MVNW_QUIET_WGET=--quiet __MVNW_QUIET_CURL=--silent __MVNW_QUIET_UNZIP=-q __MVNW_QUIET_TAR=''
[ "${MVNW_VERBOSE-}" != true ] || __MVNW_QUIET_WGET='' __MVNW_QUIET_CURL='' __MVNW_QUIET_UNZIP='' __MVNW_QUIET_TAR=v

# normalize http auth
case "${MVNW_PASSWORD:+has-password}" in
'') MVNW_USERNAME='' MVNW_PASSWORD='' ;;
has-password) [ -n "${MVNW_USERNAME-}" ] || MVNW_USERNAME='' MVNW_PASSWORD='' ;;
esac

if [ -z "${MVNW_USERNAME-}" ] && command -v wget >/dev/null; then
  verbose "Found wget ... using wget"
  wget ${__MVNW_QUIET_WGET:+"$__MVNW_QUIET_WGET"} "$distributionUrl" -O "$TMP_DOWNLOAD_DIR/$distributionUrlName" || die "wget: Failed to fetch $distributionUrl"
elif [ -z "${MVNW_USERNAME-}" ] && command -v curl >/dev/null; then
  verbose "Found curl ... using curl"
  curl ${__MVNW_QUIET_CURL:+"$__MVNW_QUIET_CURL"} -f -L -o "$TMP_DOWNLOAD_DIR/$distributionUrlName" "$distributionUrl" || die "curl: Failed to fetch $distributionUrl"
elif set_java_home; then
  verbose "Falling back to use Java to download"
  javaSource="$TMP_DOWNLOAD_DIR/Downloader.java"
  targetZip="$TMP_DOWNLOAD_DIR/$distributionUrlName"
  cat >"$javaSource" <<-END
	public class Downloader extends java.net.Authenticator
	{
	  protected java.net.PasswordAuthentication getPasswordAuthentication()
	  {
	    return new java.net.PasswordAuthentication( System.getenv( "MVNW_USERNAME" ), System.getenv( "MVNW_PASSWORD" ).toCharArray() );
	  }
	  public static void main( String[] args ) throws Exception
	  {
	    setDefault( new Downloader() );
	    java.nio.file.Files.copy( java.net.URI.create( args[0] ).toURL().openStream(), java.nio.file.Paths.get( args[1] ).toAbsolutePath().normalize() );
	  }
	}
	END
  # For Cygwin/MinGW, switch paths to Windows format before running javac and java
  verbose " - Compiling Downloader.java ..."
  "$(native_path "$JAVACCMD")" "$(native_path "$javaSource")" || die "Failed to compile Downloader.java"
  verbose " - Running Downloader.java ..."
  "$(native_path "$JAVACMD")" -cp "$(native_path "$TMP_DOWNLOAD_DIR")" Downloader "$distributionUrl" "$(native_path "$targetZip")"
fi

# If specified, validate the SHA-256 sum of the Maven distribution zip file
if [ -n "${distributionSha256Sum-}" ]; then
  distributionSha256Result=false
  if [ "$MVN_CMD" = mvnd.sh ]; then
    echo "Checksum validation is not supported for maven-mvnd." >&2
    echo "Please disable validation by removing 'distributionSha256Sum' from your maven-wrapper.properties." >&2
    exit 1
  elif command -v sha256sum >/dev/null; then
    if echo "$distributionSha256Sum  $TMP_DOWNLOAD_DIR/$distributionUrlName" | sha256sum -c >/dev/null 2>&1; then
      distributionSha256Result=true
    fi
  elif command -v shasum >/dev/null; then
    if echo "$distributionSha256Sum  $TMP_DOWNLOAD_DIR/$distributionUrlName" | shasum -a 256 -c >/dev/null 2>&1; then
      distributionSha256Result=true
    fi
  else
    echo "Checksum validation was requested but neither 'sha256sum' or 'shasum' are available." >&2
    echo "Please install either command, or disable validation by removing 'distributionSha256Sum' from your maven-wrapper.properties." >&2
    exit 1
  fi
  if [ $distributionSha256Result = false ]; then
    echo "Error: Failed to validate Maven distribution SHA-256, your Maven distribution might be compromised." >&2
    echo "If you updated your Maven version, you need to update the specified distributionSha256Sum property." >&2
    exit 1
  fi
fi

# unzip and move
if command -v unzip >/dev/null; then
  unzip ${__MVNW_QUIET_UNZIP:+"$__MVNW_QUIET_UNZIP"} "$TMP_DOWNLOAD_DIR/$distributionUrlName" -d "$TMP_DOWNLOAD_DIR" || die "failed to unzip"
else
  tar xzf${__MVNW_QUIET_TAR:+"$__MVNW_QUIET_TAR"} "$TMP_DOWNLOAD_DIR/$distributionUrlName" -C "$TMP_DOWNLOAD_DIR" || die "failed to untar"
fi
printf %s\\n "$distributionUrl" >"$TMP_DOWNLOAD_DIR/$distributionUrlNameMain/mvnw.url"
mv -- "$TMP_DOWNLOAD_DIR/$distributionUrlNameMain" "$MAVEN_HOME" || [ -d "$MAVEN_HOME" ] || die "fail to move MAVEN_HOME"

clean || :
exec_maven "$@"
</file>

<file path="users-module/mvnw.cmd">
<# : batch portion
@REM ----------------------------------------------------------------------------
@REM Licensed to the Apache Software Foundation (ASF) under one
@REM or more contributor license agreements.  See the NOTICE file
@REM distributed with this work for additional information
@REM regarding copyright ownership.  The ASF licenses this file
@REM to you under the Apache License, Version 2.0 (the
@REM "License"); you may not use this file except in compliance
@REM with the License.  You may obtain a copy of the License at
@REM
@REM    http://www.apache.org/licenses/LICENSE-2.0
@REM
@REM Unless required by applicable law or agreed to in writing,
@REM software distributed under the License is distributed on an
@REM "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
@REM KIND, either express or implied.  See the License for the
@REM specific language governing permissions and limitations
@REM under the License.
@REM ----------------------------------------------------------------------------

@REM ----------------------------------------------------------------------------
@REM Apache Maven Wrapper startup batch script, version 3.3.2
@REM
@REM Optional ENV vars
@REM   MVNW_REPOURL - repo url base for downloading maven distribution
@REM   MVNW_USERNAME/MVNW_PASSWORD - user and password for downloading maven
@REM   MVNW_VERBOSE - true: enable verbose log; others: silence the output
@REM ----------------------------------------------------------------------------

@IF "%__MVNW_ARG0_NAME__%"=="" (SET __MVNW_ARG0_NAME__=%~nx0)
@SET __MVNW_CMD__=
@SET __MVNW_ERROR__=
@SET __MVNW_PSMODULEP_SAVE=%PSModulePath%
@SET PSModulePath=
@FOR /F "usebackq tokens=1* delims==" %%A IN (`powershell -noprofile "& {$scriptDir='%~dp0'; $script='%__MVNW_ARG0_NAME__%'; icm -ScriptBlock ([Scriptblock]::Create((Get-Content -Raw '%~f0'))) -NoNewScope}"`) DO @(
  IF "%%A"=="MVN_CMD" (set __MVNW_CMD__=%%B) ELSE IF "%%B"=="" (echo %%A) ELSE (echo %%A=%%B)
)
@SET PSModulePath=%__MVNW_PSMODULEP_SAVE%
@SET __MVNW_PSMODULEP_SAVE=
@SET __MVNW_ARG0_NAME__=
@SET MVNW_USERNAME=
@SET MVNW_PASSWORD=
@IF NOT "%__MVNW_CMD__%"=="" (%__MVNW_CMD__% %*)
@echo Cannot start maven from wrapper >&2 && exit /b 1
@GOTO :EOF
: end batch / begin powershell #>

$ErrorActionPreference = "Stop"
if ($env:MVNW_VERBOSE -eq "true") {
  $VerbosePreference = "Continue"
}

# calculate distributionUrl, requires .mvn/wrapper/maven-wrapper.properties
$distributionUrl = (Get-Content -Raw "$scriptDir/.mvn/wrapper/maven-wrapper.properties" | ConvertFrom-StringData).distributionUrl
if (!$distributionUrl) {
  Write-Error "cannot read distributionUrl property in $scriptDir/.mvn/wrapper/maven-wrapper.properties"
}

switch -wildcard -casesensitive ( $($distributionUrl -replace '^.*/','') ) {
  "maven-mvnd-*" {
    $USE_MVND = $true
    $distributionUrl = $distributionUrl -replace '-bin\.[^.]*$',"-windows-amd64.zip"
    $MVN_CMD = "mvnd.cmd"
    break
  }
  default {
    $USE_MVND = $false
    $MVN_CMD = $script -replace '^mvnw','mvn'
    break
  }
}

# apply MVNW_REPOURL and calculate MAVEN_HOME
# maven home pattern: ~/.m2/wrapper/dists/{apache-maven-<version>,maven-mvnd-<version>-<platform>}/<hash>
if ($env:MVNW_REPOURL) {
  $MVNW_REPO_PATTERN = if ($USE_MVND) { "/org/apache/maven/" } else { "/maven/mvnd/" }
  $distributionUrl = "$env:MVNW_REPOURL$MVNW_REPO_PATTERN$($distributionUrl -replace '^.*'+$MVNW_REPO_PATTERN,'')"
}
$distributionUrlName = $distributionUrl -replace '^.*/',''
$distributionUrlNameMain = $distributionUrlName -replace '\.[^.]*$','' -replace '-bin$',''
$MAVEN_HOME_PARENT = "$HOME/.m2/wrapper/dists/$distributionUrlNameMain"
if ($env:MAVEN_USER_HOME) {
  $MAVEN_HOME_PARENT = "$env:MAVEN_USER_HOME/wrapper/dists/$distributionUrlNameMain"
}
$MAVEN_HOME_NAME = ([System.Security.Cryptography.MD5]::Create().ComputeHash([byte[]][char[]]$distributionUrl) | ForEach-Object {$_.ToString("x2")}) -join ''
$MAVEN_HOME = "$MAVEN_HOME_PARENT/$MAVEN_HOME_NAME"

if (Test-Path -Path "$MAVEN_HOME" -PathType Container) {
  Write-Verbose "found existing MAVEN_HOME at $MAVEN_HOME"
  Write-Output "MVN_CMD=$MAVEN_HOME/bin/$MVN_CMD"
  exit $?
}

if (! $distributionUrlNameMain -or ($distributionUrlName -eq $distributionUrlNameMain)) {
  Write-Error "distributionUrl is not valid, must end with *-bin.zip, but found $distributionUrl"
}

# prepare tmp dir
$TMP_DOWNLOAD_DIR_HOLDER = New-TemporaryFile
$TMP_DOWNLOAD_DIR = New-Item -Itemtype Directory -Path "$TMP_DOWNLOAD_DIR_HOLDER.dir"
$TMP_DOWNLOAD_DIR_HOLDER.Delete() | Out-Null
trap {
  if ($TMP_DOWNLOAD_DIR.Exists) {
    try { Remove-Item $TMP_DOWNLOAD_DIR -Recurse -Force | Out-Null }
    catch { Write-Warning "Cannot remove $TMP_DOWNLOAD_DIR" }
  }
}

New-Item -Itemtype Directory -Path "$MAVEN_HOME_PARENT" -Force | Out-Null

# Download and Install Apache Maven
Write-Verbose "Couldn't find MAVEN_HOME, downloading and installing it ..."
Write-Verbose "Downloading from: $distributionUrl"
Write-Verbose "Downloading to: $TMP_DOWNLOAD_DIR/$distributionUrlName"

$webclient = New-Object System.Net.WebClient
if ($env:MVNW_USERNAME -and $env:MVNW_PASSWORD) {
  $webclient.Credentials = New-Object System.Net.NetworkCredential($env:MVNW_USERNAME, $env:MVNW_PASSWORD)
}
[Net.ServicePointManager]::SecurityProtocol = [Net.SecurityProtocolType]::Tls12
$webclient.DownloadFile($distributionUrl, "$TMP_DOWNLOAD_DIR/$distributionUrlName") | Out-Null

# If specified, validate the SHA-256 sum of the Maven distribution zip file
$distributionSha256Sum = (Get-Content -Raw "$scriptDir/.mvn/wrapper/maven-wrapper.properties" | ConvertFrom-StringData).distributionSha256Sum
if ($distributionSha256Sum) {
  if ($USE_MVND) {
    Write-Error "Checksum validation is not supported for maven-mvnd. `nPlease disable validation by removing 'distributionSha256Sum' from your maven-wrapper.properties."
  }
  Import-Module $PSHOME\Modules\Microsoft.PowerShell.Utility -Function Get-FileHash
  if ((Get-FileHash "$TMP_DOWNLOAD_DIR/$distributionUrlName" -Algorithm SHA256).Hash.ToLower() -ne $distributionSha256Sum) {
    Write-Error "Error: Failed to validate Maven distribution SHA-256, your Maven distribution might be compromised. If you updated your Maven version, you need to update the specified distributionSha256Sum property."
  }
}

# unzip and move
Expand-Archive "$TMP_DOWNLOAD_DIR/$distributionUrlName" -DestinationPath "$TMP_DOWNLOAD_DIR" | Out-Null
Rename-Item -Path "$TMP_DOWNLOAD_DIR/$distributionUrlNameMain" -NewName $MAVEN_HOME_NAME | Out-Null
try {
  Move-Item -Path "$TMP_DOWNLOAD_DIR/$MAVEN_HOME_NAME" -Destination $MAVEN_HOME_PARENT | Out-Null
} catch {
  if (! (Test-Path -Path "$MAVEN_HOME" -PathType Container)) {
    Write-Error "fail to move MAVEN_HOME"
  }
} finally {
  try { Remove-Item $TMP_DOWNLOAD_DIR -Recurse -Force | Out-Null }
  catch { Write-Warning "Cannot remove $TMP_DOWNLOAD_DIR" }
}

Write-Output "MVN_CMD=$MAVEN_HOME/bin/$MVN_CMD"
</file>

<file path="users-module/src/main/java/pe/edu/certus/usersmodule/configuration/annotations/UserEntityScanConfig.java">
package pe.edu.certus.usersmodule.configuration.annotations;

import org.springframework.boot.autoconfigure.domain.EntityScan;
import org.springframework.context.annotation.Configuration;

@Configuration
@EntityScan(basePackages = "pe.edu.certus.usersmodule.repository.entity")
public class UserEntityScanConfig {
}
</file>

<file path="users-module/src/main/java/pe/edu/certus/usersmodule/configuration/annotations/UserPersistenceConfig.java">
package pe.edu.certus.usersmodule.configuration.annotations;

import org.springframework.context.annotation.Configuration;
import org.springframework.data.jpa.repository.config.EnableJpaRepositories;

@Configuration
@EnableJpaRepositories(basePackages = "pe.edu.certus.usersmodule.repository")
public class UserPersistenceConfig {
}
</file>

<file path="users-module/src/main/java/pe/edu/certus/usersmodule/configuration/mappers/UserMapperConfig.java">
package pe.edu.certus.usersmodule.configuration.mappers;

import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;
import pe.edu.certus.usersmodule.logic.adapters.mapper.UserMapper;

@Configuration
public class UserMapperConfig {
    @Bean
    public UserMapper userMapper() {
        return new UserMapper();
    }
}
</file>

<file path="users-module/src/main/java/pe/edu/certus/usersmodule/configuration/mappers/UserMapperPersistenceConfig.java">
package pe.edu.certus.usersmodule.configuration.mappers;

import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;
import pe.edu.certus.usersmodule.repository.adapters.mapper.UserPersistenceMapper;

@Configuration
public class UserMapperPersistenceConfig {
    @Bean
    public UserPersistenceMapper userPersistenceMapper() {
        return new UserPersistenceMapper();
    }
}
</file>

<file path="users-module/src/main/java/pe/edu/certus/usersmodule/logic/adapters/driven/UserManager.java">
package pe.edu.certus.usersmodule.logic.adapters.driven;

import org.springframework.stereotype.Service;
import pe.edu.certus.usersmodule.logic.model.UserModel;
import pe.edu.certus.usersmodule.logic.ports.driven.ForManagingUser;
import pe.edu.certus.usersmodule.logic.ports.driver.ForUser;

import java.util.List;

@Service
public class UserManager implements ForUser< UserModel, Long > {

    private final ForManagingUser forManagingUser;

    public UserManager( ForManagingUser forManagingUser ) {
        this.forManagingUser = forManagingUser;
    }

    @Override
    public void createUser( UserModel userModel ) {
        try {
            forManagingUser.satisfyCreateUser( userModel );
            System.out.println( "THE USER HAS BEEN CREATED SUCCESSFULLY" );
        } catch ( IllegalArgumentException e ) {
            System.out.println( "ERROR CREATING THE USER: " + e.getMessage() );
            e.printStackTrace();
        }
    }

    @Override
    public UserModel findUserById( Long id ) {
        try {
            if ( id == null ) {
                throw new IllegalArgumentException( "ID CANNOT BE NULL" );
            }

            UserModel userModel = forManagingUser.satisfyFindUserById( id );
            System.out.println( "THE USER HAS BEEN FOUND SUCCESSFULLY" );

            if ( userModel == null ) {
                throw new IllegalArgumentException( "USER NOT FOUND" );
            }

            return userModel;
        } catch ( Exception e ) {
            throw new RuntimeException( "FAILED TO FIND USER MODEL", e );
        }
    }

    @Override
    public UserModel updateUser( UserModel userModel ) {
        try {
            if ( userModel == null ) {
                throw new IllegalArgumentException( "USER MODEL CANNOT BE NULL" );
            }

            UserModel updatedUserModel = forManagingUser.satisfyUpdateUser( userModel );
            System.out.println( "USER MODEL UPDATED SUCCESSFULLY" );

            return updatedUserModel;
        } catch ( Exception e ) {
            throw new RuntimeException( "FAILED TO UPDATE USER MODEL", e );
        }
    }

    @Override
    public void deleteUser( Long id ) {
        try {
            if ( id == null ) {
                throw new IllegalArgumentException( "ID CANNOT BE NULL" );
            }

            forManagingUser.satisfyDeleteUserById( id );
            System.out.println( "USER MODEL DELETED SUCCESSFULLY" );

        } catch ( Exception e ) {
            throw new RuntimeException( "FAILED TO DELETE USER MODEL", e );
        }
    }

    @Override
    public List< UserModel > findAllUsers( ) {
        try {
            List< UserModel > userModels = forManagingUser.satisfyFindAllUser( );
            System.out.println( "ALL USERS HAVE BEEN FOUND SUCCESSFULLY" );
            return userModels;
        } catch ( Exception e ) {
            throw new RuntimeException( "FAILED TO FIND ALL USER MODELS", e );
        }
    }
}
</file>

<file path="users-module/src/main/java/pe/edu/certus/usersmodule/logic/adapters/mapper/UserMapper.java">
package pe.edu.certus.usersmodule.logic.adapters.mapper;

import pe.edu.certus.usersmodule.logic.adapters.driver.UserWebModel;
import pe.edu.certus.usersmodule.logic.model.UserModel;
import pe.edu.certus.usersmodule.logic.ports.mapper.ForMappingUser;

public class UserMapper implements ForMappingUser {

    @Override
    public UserModel fromWeb( UserWebModel userWebModel) {
        return UserModel.builder()
                .userId(userWebModel.userId())
                .idRole(userWebModel.idRole())
                .userEmail(userWebModel.userEmail())
                .userPassword(userWebModel.userPassword())
                .userCreatedAt(userWebModel.userCreatedAt())
                .userUpdatedAt(userWebModel.userUpdatedAt())
                .userStatus(userWebModel.userStatus())
                .build();
    }

    @Override
    public UserWebModel toWeb( UserModel userModel) {
        return new UserWebModel(
                userModel.getUserId(),
                userModel.getIdRole(),
                userModel.getUserEmail(),
                userModel.getUserPassword(),
                userModel.getUserCreatedAt(),
                userModel.getUserUpdatedAt(),
                userModel.getUserStatus()
        );
    }
}
</file>

<file path="users-module/src/main/java/pe/edu/certus/usersmodule/logic/model/UserModel.java">
package pe.edu.certus.usersmodule.logic.model;

import lombok.Builder;
import lombok.Getter;
import lombok.Setter;

import java.time.LocalDateTime;

@Getter
@Setter
@Builder
public class UserModel {
    private Long userId;
    private Long idRole;
    private String userEmail;
    private String userPassword;
    private LocalDateTime userCreatedAt;
    private LocalDateTime userUpdatedAt;
    private Boolean userStatus;
}
</file>

<file path="users-module/src/main/java/pe/edu/certus/usersmodule/logic/ports/driven/ForManagingUser.java">
package pe.edu.certus.usersmodule.logic.ports.driven;

import pe.edu.certus.usersmodule.logic.model.UserModel;

import java.util.List;

public interface ForManagingUser {
    void satisfyCreateUser( UserModel userModel);
    UserModel satisfyFindUserById(Long id);
    List<UserModel> satisfyFindAllUser();
    UserModel satisfyUpdateUser(UserModel userModel);
    void satisfyDeleteUserById(Long id);
}
</file>

<file path="users-module/src/main/java/pe/edu/certus/usersmodule/logic/ports/driver/ForUser.java">
package pe.edu.certus.usersmodule.logic.ports.driver;

import java.util.List;

public interface ForUser < UserModel, Long>  {
    void createUser(UserModel userModel);
    UserModel findUserById(Long id);
    List<UserModel> findAllUsers();
    UserModel updateUser(UserModel userModel);
    void deleteUser(Long id);
}
</file>

<file path="users-module/src/main/java/pe/edu/certus/usersmodule/logic/ports/mapper/ForMappingUser.java">
package pe.edu.certus.usersmodule.logic.ports.mapper;

import pe.edu.certus.usersmodule.logic.adapters.driver.UserWebModel;
import pe.edu.certus.usersmodule.logic.model.UserModel;

public interface ForMappingUser {
    UserModel fromWeb( UserWebModel userWebModel);
    UserWebModel toWeb( UserModel userModel);
}
</file>

<file path="users-module/src/main/java/pe/edu/certus/usersmodule/repository/adapters/driver/UserQuerierProxy.java">
package pe.edu.certus.usersmodule.repository.adapters.driver;

import jakarta.persistence.EntityNotFoundException;
import org.springframework.stereotype.Service;
import pe.edu.certus.usersmodule.logic.model.UserModel;
import pe.edu.certus.usersmodule.logic.ports.driven.ForManagingUser;
import pe.edu.certus.usersmodule.repository.entity.UserEntity;
import pe.edu.certus.usersmodule.repository.ports.driver.ForQueryingUser;
import pe.edu.certus.usersmodule.repository.ports.mapper.ForBridgingUser;

import java.util.List;
import java.util.Optional;
import java.util.stream.Collectors;

@Service
public class UserQuerierProxy implements ForManagingUser {
    private final ForQueryingUser forQueryingUser;
    private final ForBridgingUser forBridgingUser;

    public UserQuerierProxy ( ForQueryingUser forQueryingUser, ForBridgingUser forBridgingUser ) {
        this.forQueryingUser = forQueryingUser;
        this.forBridgingUser = forBridgingUser;
    }

    @Override
    public void satisfyCreateUser( UserModel userModel ){
        UserEntity objectFromDomain = forBridgingUser.toPersistence(userModel);
        forQueryingUser.save(objectFromDomain);
        System.out.print( "USER ENTITY HAS BEEN CREATED SUCCESSFULLY!" );
    }

    @Override
    public UserModel satisfyFindUserById( Long id) {
        return forQueryingUser.findById(id)
                .map(forBridgingUser::fromPersistence)
                .orElseThrow(() -> new EntityNotFoundException(
                        "USER ENTITY NOT FOUND WITH ID: " + id));
    }
    @Override
    public UserModel satisfyUpdateUser(UserModel userModel) {
        UserEntity objectFromDomain = forBridgingUser.toPersistence(userModel);

        Optional<UserEntity> existingUser = forQueryingUser.findById(objectFromDomain.getUserId());
        if (existingUser.isEmpty()) {
            throw new EntityNotFoundException("USER NOT FOUND WITH ID: " + objectFromDomain.getUserId());
        }

        UserEntity updatedEntity = forQueryingUser.save(objectFromDomain);
        System.out.println("USER ENTITY HAS BEEN UPDATED SUCCESSFULLY");

        return forBridgingUser.fromPersistence(updatedEntity);
    }

    @Override
    public void satisfyDeleteUserById(Long id) {
        Optional<UserEntity> existingUser = forQueryingUser.findById(id);
        if (existingUser.isEmpty()) {
            throw new EntityNotFoundException("USER NOT FOUND WITH ID: " + id);
        }

        forQueryingUser.deleteById(id);
        System.out.println("USER ID: " + id + " HAS BEEN DELETED");
    }

    @Override
    public List<UserModel> satisfyFindAllUser() {
        List<UserEntity> userEntities = forQueryingUser.findAll();
        System.out.println("ALL USER ENTITIES HAVE BEEN FOUND SUCCESSFULLY");

        return userEntities.stream()
                .map(forBridgingUser::fromPersistence)
                .collect( Collectors.toList());
    }
}
</file>

<file path="users-module/src/main/java/pe/edu/certus/usersmodule/repository/adapters/mapper/UserPersistenceMapper.java">
package pe.edu.certus.usersmodule.repository.adapters.mapper;

import pe.edu.certus.usersmodule.logic.model.UserModel;
import pe.edu.certus.usersmodule.repository.entity.UserEntity;
import pe.edu.certus.usersmodule.repository.ports.mapper.ForBridgingUser;

public class UserPersistenceMapper implements ForBridgingUser {

    @Override
    public UserEntity toPersistence(UserModel userModel) {
        return UserEntity.builder()
                .userId(userModel.getUserId())
                .idRole(userModel.getIdRole())
                .userEmail(userModel.getUserEmail())
                .userPassword(userModel.getUserPassword())
                .userCreatedAt(userModel.getUserCreatedAt())
                .userUpdatedAt(userModel.getUserUpdatedAt())
                .userStatus(userModel.getUserStatus())
                .build();
    }

    @Override
    public UserModel fromPersistence( UserEntity userEntity) {
        return UserModel.builder()
                .userId(userEntity.getUserId())
                .idRole(userEntity.getIdRole())
                .userEmail(userEntity.getUserEmail())
                .userPassword(userEntity.getUserPassword())
                .userCreatedAt(userEntity.getUserCreatedAt())
                .userUpdatedAt(userEntity.getUserUpdatedAt())
                .userStatus(userEntity.getUserStatus())
                .build();
    }
}
</file>

<file path="users-module/src/main/java/pe/edu/certus/usersmodule/repository/ports/driver/ForQueryingUser.java">
package pe.edu.certus.usersmodule.repository.ports.driver;

import org.springframework.data.jpa.repository.JpaRepository;
import pe.edu.certus.usersmodule.repository.entity.UserEntity;

public interface ForQueryingUser extends JpaRepository< UserEntity, Long> {
}
</file>

<file path="users-module/src/main/java/pe/edu/certus/usersmodule/repository/ports/mapper/ForBridgingUser.java">
package pe.edu.certus.usersmodule.repository.ports.mapper;

import pe.edu.certus.usersmodule.logic.model.UserModel;
import pe.edu.certus.usersmodule.repository.entity.UserEntity;

public interface ForBridgingUser {
    UserModel fromPersistence( UserEntity userEntity);
    UserEntity toPersistence( UserModel userModel);
}
</file>

<file path="users-module/src/main/java/pe/edu/certus/usersmodule/UsersModuleApplication.java">
package pe.edu.certus.usersmodule;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;

@SpringBootApplication
public class UsersModuleApplication {

    public static void main( String[] args ) {
        SpringApplication.run( UsersModuleApplication.class, args );
    }

}
</file>

<file path="users-module/src/main/resources/application.properties">
spring.application.name=users-module
</file>

<file path="works-module/.gitattributes">
/mvnw text eol=lf
*.cmd text eol=crlf
</file>

<file path="works-module/.gitignore">
HELP.md
target/
!.mvn/wrapper/maven-wrapper.jar
!**/src/main/**/target/
!**/src/test/**/target/

### STS ###
.apt_generated
.classpath
.factorypath
.project
.settings
.springBeans
.sts4-cache

### IntelliJ IDEA ###
.idea
*.iws
*.iml
*.ipr

### NetBeans ###
/nbproject/private/
/nbbuild/
/dist/
/nbdist/
/.nb-gradle/
build/
!**/src/main/**/build/
!**/src/test/**/build/

### VS Code ###
.vscode/
</file>

<file path="works-module/mvnw">
#!/bin/sh
# ----------------------------------------------------------------------------
# Licensed to the Apache Software Foundation (ASF) under one
# or more contributor license agreements.  See the NOTICE file
# distributed with this work for additional information
# regarding copyright ownership.  The ASF licenses this file
# to you under the Apache License, Version 2.0 (the
# "License"); you may not use this file except in compliance
# with the License.  You may obtain a copy of the License at
#
#    http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing,
# software distributed under the License is distributed on an
# "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
# KIND, either express or implied.  See the License for the
# specific language governing permissions and limitations
# under the License.
# ----------------------------------------------------------------------------

# ----------------------------------------------------------------------------
# Apache Maven Wrapper startup batch script, version 3.3.2
#
# Optional ENV vars
# -----------------
#   JAVA_HOME - location of a JDK home dir, required when download maven via java source
#   MVNW_REPOURL - repo url base for downloading maven distribution
#   MVNW_USERNAME/MVNW_PASSWORD - user and password for downloading maven
#   MVNW_VERBOSE - true: enable verbose log; debug: trace the mvnw script; others: silence the output
# ----------------------------------------------------------------------------

set -euf
[ "${MVNW_VERBOSE-}" != debug ] || set -x

# OS specific support.
native_path() { printf %s\\n "$1"; }
case "$(uname)" in
CYGWIN* | MINGW*)
  [ -z "${JAVA_HOME-}" ] || JAVA_HOME="$(cygpath --unix "$JAVA_HOME")"
  native_path() { cygpath --path --windows "$1"; }
  ;;
esac

# set JAVACMD and JAVACCMD
set_java_home() {
  # For Cygwin and MinGW, ensure paths are in Unix format before anything is touched
  if [ -n "${JAVA_HOME-}" ]; then
    if [ -x "$JAVA_HOME/jre/sh/java" ]; then
      # IBM's JDK on AIX uses strange locations for the executables
      JAVACMD="$JAVA_HOME/jre/sh/java"
      JAVACCMD="$JAVA_HOME/jre/sh/javac"
    else
      JAVACMD="$JAVA_HOME/bin/java"
      JAVACCMD="$JAVA_HOME/bin/javac"

      if [ ! -x "$JAVACMD" ] || [ ! -x "$JAVACCMD" ]; then
        echo "The JAVA_HOME environment variable is not defined correctly, so mvnw cannot run." >&2
        echo "JAVA_HOME is set to \"$JAVA_HOME\", but \"\$JAVA_HOME/bin/java\" or \"\$JAVA_HOME/bin/javac\" does not exist." >&2
        return 1
      fi
    fi
  else
    JAVACMD="$(
      'set' +e
      'unset' -f command 2>/dev/null
      'command' -v java
    )" || :
    JAVACCMD="$(
      'set' +e
      'unset' -f command 2>/dev/null
      'command' -v javac
    )" || :

    if [ ! -x "${JAVACMD-}" ] || [ ! -x "${JAVACCMD-}" ]; then
      echo "The java/javac command does not exist in PATH nor is JAVA_HOME set, so mvnw cannot run." >&2
      return 1
    fi
  fi
}

# hash string like Java String::hashCode
hash_string() {
  str="${1:-}" h=0
  while [ -n "$str" ]; do
    char="${str%"${str#?}"}"
    h=$(((h * 31 + $(LC_CTYPE=C printf %d "'$char")) % 4294967296))
    str="${str#?}"
  done
  printf %x\\n $h
}

verbose() { :; }
[ "${MVNW_VERBOSE-}" != true ] || verbose() { printf %s\\n "${1-}"; }

die() {
  printf %s\\n "$1" >&2
  exit 1
}

trim() {
  # MWRAPPER-139:
  #   Trims trailing and leading whitespace, carriage returns, tabs, and linefeeds.
  #   Needed for removing poorly interpreted newline sequences when running in more
  #   exotic environments such as mingw bash on Windows.
  printf "%s" "${1}" | tr -d '[:space:]'
}

# parse distributionUrl and optional distributionSha256Sum, requires .mvn/wrapper/maven-wrapper.properties
while IFS="=" read -r key value; do
  case "${key-}" in
  distributionUrl) distributionUrl=$(trim "${value-}") ;;
  distributionSha256Sum) distributionSha256Sum=$(trim "${value-}") ;;
  esac
done <"${0%/*}/.mvn/wrapper/maven-wrapper.properties"
[ -n "${distributionUrl-}" ] || die "cannot read distributionUrl property in ${0%/*}/.mvn/wrapper/maven-wrapper.properties"

case "${distributionUrl##*/}" in
maven-mvnd-*bin.*)
  MVN_CMD=mvnd.sh _MVNW_REPO_PATTERN=/maven/mvnd/
  case "${PROCESSOR_ARCHITECTURE-}${PROCESSOR_ARCHITEW6432-}:$(uname -a)" in
  *AMD64:CYGWIN* | *AMD64:MINGW*) distributionPlatform=windows-amd64 ;;
  :Darwin*x86_64) distributionPlatform=darwin-amd64 ;;
  :Darwin*arm64) distributionPlatform=darwin-aarch64 ;;
  :Linux*x86_64*) distributionPlatform=linux-amd64 ;;
  *)
    echo "Cannot detect native platform for mvnd on $(uname)-$(uname -m), use pure java version" >&2
    distributionPlatform=linux-amd64
    ;;
  esac
  distributionUrl="${distributionUrl%-bin.*}-$distributionPlatform.zip"
  ;;
maven-mvnd-*) MVN_CMD=mvnd.sh _MVNW_REPO_PATTERN=/maven/mvnd/ ;;
*) MVN_CMD="mvn${0##*/mvnw}" _MVNW_REPO_PATTERN=/org/apache/maven/ ;;
esac

# apply MVNW_REPOURL and calculate MAVEN_HOME
# maven home pattern: ~/.m2/wrapper/dists/{apache-maven-<version>,maven-mvnd-<version>-<platform>}/<hash>
[ -z "${MVNW_REPOURL-}" ] || distributionUrl="$MVNW_REPOURL$_MVNW_REPO_PATTERN${distributionUrl#*"$_MVNW_REPO_PATTERN"}"
distributionUrlName="${distributionUrl##*/}"
distributionUrlNameMain="${distributionUrlName%.*}"
distributionUrlNameMain="${distributionUrlNameMain%-bin}"
MAVEN_USER_HOME="${MAVEN_USER_HOME:-${HOME}/.m2}"
MAVEN_HOME="${MAVEN_USER_HOME}/wrapper/dists/${distributionUrlNameMain-}/$(hash_string "$distributionUrl")"

exec_maven() {
  unset MVNW_VERBOSE MVNW_USERNAME MVNW_PASSWORD MVNW_REPOURL || :
  exec "$MAVEN_HOME/bin/$MVN_CMD" "$@" || die "cannot exec $MAVEN_HOME/bin/$MVN_CMD"
}

if [ -d "$MAVEN_HOME" ]; then
  verbose "found existing MAVEN_HOME at $MAVEN_HOME"
  exec_maven "$@"
fi

case "${distributionUrl-}" in
*?-bin.zip | *?maven-mvnd-?*-?*.zip) ;;
*) die "distributionUrl is not valid, must match *-bin.zip or maven-mvnd-*.zip, but found '${distributionUrl-}'" ;;
esac

# prepare tmp dir
if TMP_DOWNLOAD_DIR="$(mktemp -d)" && [ -d "$TMP_DOWNLOAD_DIR" ]; then
  clean() { rm -rf -- "$TMP_DOWNLOAD_DIR"; }
  trap clean HUP INT TERM EXIT
else
  die "cannot create temp dir"
fi

mkdir -p -- "${MAVEN_HOME%/*}"

# Download and Install Apache Maven
verbose "Couldn't find MAVEN_HOME, downloading and installing it ..."
verbose "Downloading from: $distributionUrl"
verbose "Downloading to: $TMP_DOWNLOAD_DIR/$distributionUrlName"

# select .zip or .tar.gz
if ! command -v unzip >/dev/null; then
  distributionUrl="${distributionUrl%.zip}.tar.gz"
  distributionUrlName="${distributionUrl##*/}"
fi

# verbose opt
__MVNW_QUIET_WGET=--quiet __MVNW_QUIET_CURL=--silent __MVNW_QUIET_UNZIP=-q __MVNW_QUIET_TAR=''
[ "${MVNW_VERBOSE-}" != true ] || __MVNW_QUIET_WGET='' __MVNW_QUIET_CURL='' __MVNW_QUIET_UNZIP='' __MVNW_QUIET_TAR=v

# normalize http auth
case "${MVNW_PASSWORD:+has-password}" in
'') MVNW_USERNAME='' MVNW_PASSWORD='' ;;
has-password) [ -n "${MVNW_USERNAME-}" ] || MVNW_USERNAME='' MVNW_PASSWORD='' ;;
esac

if [ -z "${MVNW_USERNAME-}" ] && command -v wget >/dev/null; then
  verbose "Found wget ... using wget"
  wget ${__MVNW_QUIET_WGET:+"$__MVNW_QUIET_WGET"} "$distributionUrl" -O "$TMP_DOWNLOAD_DIR/$distributionUrlName" || die "wget: Failed to fetch $distributionUrl"
elif [ -z "${MVNW_USERNAME-}" ] && command -v curl >/dev/null; then
  verbose "Found curl ... using curl"
  curl ${__MVNW_QUIET_CURL:+"$__MVNW_QUIET_CURL"} -f -L -o "$TMP_DOWNLOAD_DIR/$distributionUrlName" "$distributionUrl" || die "curl: Failed to fetch $distributionUrl"
elif set_java_home; then
  verbose "Falling back to use Java to download"
  javaSource="$TMP_DOWNLOAD_DIR/Downloader.java"
  targetZip="$TMP_DOWNLOAD_DIR/$distributionUrlName"
  cat >"$javaSource" <<-END
	public class Downloader extends java.net.Authenticator
	{
	  protected java.net.PasswordAuthentication getPasswordAuthentication()
	  {
	    return new java.net.PasswordAuthentication( System.getenv( "MVNW_USERNAME" ), System.getenv( "MVNW_PASSWORD" ).toCharArray() );
	  }
	  public static void main( String[] args ) throws Exception
	  {
	    setDefault( new Downloader() );
	    java.nio.file.Files.copy( java.net.URI.create( args[0] ).toURL().openStream(), java.nio.file.Paths.get( args[1] ).toAbsolutePath().normalize() );
	  }
	}
	END
  # For Cygwin/MinGW, switch paths to Windows format before running javac and java
  verbose " - Compiling Downloader.java ..."
  "$(native_path "$JAVACCMD")" "$(native_path "$javaSource")" || die "Failed to compile Downloader.java"
  verbose " - Running Downloader.java ..."
  "$(native_path "$JAVACMD")" -cp "$(native_path "$TMP_DOWNLOAD_DIR")" Downloader "$distributionUrl" "$(native_path "$targetZip")"
fi

# If specified, validate the SHA-256 sum of the Maven distribution zip file
if [ -n "${distributionSha256Sum-}" ]; then
  distributionSha256Result=false
  if [ "$MVN_CMD" = mvnd.sh ]; then
    echo "Checksum validation is not supported for maven-mvnd." >&2
    echo "Please disable validation by removing 'distributionSha256Sum' from your maven-wrapper.properties." >&2
    exit 1
  elif command -v sha256sum >/dev/null; then
    if echo "$distributionSha256Sum  $TMP_DOWNLOAD_DIR/$distributionUrlName" | sha256sum -c >/dev/null 2>&1; then
      distributionSha256Result=true
    fi
  elif command -v shasum >/dev/null; then
    if echo "$distributionSha256Sum  $TMP_DOWNLOAD_DIR/$distributionUrlName" | shasum -a 256 -c >/dev/null 2>&1; then
      distributionSha256Result=true
    fi
  else
    echo "Checksum validation was requested but neither 'sha256sum' or 'shasum' are available." >&2
    echo "Please install either command, or disable validation by removing 'distributionSha256Sum' from your maven-wrapper.properties." >&2
    exit 1
  fi
  if [ $distributionSha256Result = false ]; then
    echo "Error: Failed to validate Maven distribution SHA-256, your Maven distribution might be compromised." >&2
    echo "If you updated your Maven version, you need to update the specified distributionSha256Sum property." >&2
    exit 1
  fi
fi

# unzip and move
if command -v unzip >/dev/null; then
  unzip ${__MVNW_QUIET_UNZIP:+"$__MVNW_QUIET_UNZIP"} "$TMP_DOWNLOAD_DIR/$distributionUrlName" -d "$TMP_DOWNLOAD_DIR" || die "failed to unzip"
else
  tar xzf${__MVNW_QUIET_TAR:+"$__MVNW_QUIET_TAR"} "$TMP_DOWNLOAD_DIR/$distributionUrlName" -C "$TMP_DOWNLOAD_DIR" || die "failed to untar"
fi
printf %s\\n "$distributionUrl" >"$TMP_DOWNLOAD_DIR/$distributionUrlNameMain/mvnw.url"
mv -- "$TMP_DOWNLOAD_DIR/$distributionUrlNameMain" "$MAVEN_HOME" || [ -d "$MAVEN_HOME" ] || die "fail to move MAVEN_HOME"

clean || :
exec_maven "$@"
</file>

<file path="works-module/mvnw.cmd">
<# : batch portion
@REM ----------------------------------------------------------------------------
@REM Licensed to the Apache Software Foundation (ASF) under one
@REM or more contributor license agreements.  See the NOTICE file
@REM distributed with this work for additional information
@REM regarding copyright ownership.  The ASF licenses this file
@REM to you under the Apache License, Version 2.0 (the
@REM "License"); you may not use this file except in compliance
@REM with the License.  You may obtain a copy of the License at
@REM
@REM    http://www.apache.org/licenses/LICENSE-2.0
@REM
@REM Unless required by applicable law or agreed to in writing,
@REM software distributed under the License is distributed on an
@REM "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
@REM KIND, either express or implied.  See the License for the
@REM specific language governing permissions and limitations
@REM under the License.
@REM ----------------------------------------------------------------------------

@REM ----------------------------------------------------------------------------
@REM Apache Maven Wrapper startup batch script, version 3.3.2
@REM
@REM Optional ENV vars
@REM   MVNW_REPOURL - repo url base for downloading maven distribution
@REM   MVNW_USERNAME/MVNW_PASSWORD - user and password for downloading maven
@REM   MVNW_VERBOSE - true: enable verbose log; others: silence the output
@REM ----------------------------------------------------------------------------

@IF "%__MVNW_ARG0_NAME__%"=="" (SET __MVNW_ARG0_NAME__=%~nx0)
@SET __MVNW_CMD__=
@SET __MVNW_ERROR__=
@SET __MVNW_PSMODULEP_SAVE=%PSModulePath%
@SET PSModulePath=
@FOR /F "usebackq tokens=1* delims==" %%A IN (`powershell -noprofile "& {$scriptDir='%~dp0'; $script='%__MVNW_ARG0_NAME__%'; icm -ScriptBlock ([Scriptblock]::Create((Get-Content -Raw '%~f0'))) -NoNewScope}"`) DO @(
  IF "%%A"=="MVN_CMD" (set __MVNW_CMD__=%%B) ELSE IF "%%B"=="" (echo %%A) ELSE (echo %%A=%%B)
)
@SET PSModulePath=%__MVNW_PSMODULEP_SAVE%
@SET __MVNW_PSMODULEP_SAVE=
@SET __MVNW_ARG0_NAME__=
@SET MVNW_USERNAME=
@SET MVNW_PASSWORD=
@IF NOT "%__MVNW_CMD__%"=="" (%__MVNW_CMD__% %*)
@echo Cannot start maven from wrapper >&2 && exit /b 1
@GOTO :EOF
: end batch / begin powershell #>

$ErrorActionPreference = "Stop"
if ($env:MVNW_VERBOSE -eq "true") {
  $VerbosePreference = "Continue"
}

# calculate distributionUrl, requires .mvn/wrapper/maven-wrapper.properties
$distributionUrl = (Get-Content -Raw "$scriptDir/.mvn/wrapper/maven-wrapper.properties" | ConvertFrom-StringData).distributionUrl
if (!$distributionUrl) {
  Write-Error "cannot read distributionUrl property in $scriptDir/.mvn/wrapper/maven-wrapper.properties"
}

switch -wildcard -casesensitive ( $($distributionUrl -replace '^.*/','') ) {
  "maven-mvnd-*" {
    $USE_MVND = $true
    $distributionUrl = $distributionUrl -replace '-bin\.[^.]*$',"-windows-amd64.zip"
    $MVN_CMD = "mvnd.cmd"
    break
  }
  default {
    $USE_MVND = $false
    $MVN_CMD = $script -replace '^mvnw','mvn'
    break
  }
}

# apply MVNW_REPOURL and calculate MAVEN_HOME
# maven home pattern: ~/.m2/wrapper/dists/{apache-maven-<version>,maven-mvnd-<version>-<platform>}/<hash>
if ($env:MVNW_REPOURL) {
  $MVNW_REPO_PATTERN = if ($USE_MVND) { "/org/apache/maven/" } else { "/maven/mvnd/" }
  $distributionUrl = "$env:MVNW_REPOURL$MVNW_REPO_PATTERN$($distributionUrl -replace '^.*'+$MVNW_REPO_PATTERN,'')"
}
$distributionUrlName = $distributionUrl -replace '^.*/',''
$distributionUrlNameMain = $distributionUrlName -replace '\.[^.]*$','' -replace '-bin$',''
$MAVEN_HOME_PARENT = "$HOME/.m2/wrapper/dists/$distributionUrlNameMain"
if ($env:MAVEN_USER_HOME) {
  $MAVEN_HOME_PARENT = "$env:MAVEN_USER_HOME/wrapper/dists/$distributionUrlNameMain"
}
$MAVEN_HOME_NAME = ([System.Security.Cryptography.MD5]::Create().ComputeHash([byte[]][char[]]$distributionUrl) | ForEach-Object {$_.ToString("x2")}) -join ''
$MAVEN_HOME = "$MAVEN_HOME_PARENT/$MAVEN_HOME_NAME"

if (Test-Path -Path "$MAVEN_HOME" -PathType Container) {
  Write-Verbose "found existing MAVEN_HOME at $MAVEN_HOME"
  Write-Output "MVN_CMD=$MAVEN_HOME/bin/$MVN_CMD"
  exit $?
}

if (! $distributionUrlNameMain -or ($distributionUrlName -eq $distributionUrlNameMain)) {
  Write-Error "distributionUrl is not valid, must end with *-bin.zip, but found $distributionUrl"
}

# prepare tmp dir
$TMP_DOWNLOAD_DIR_HOLDER = New-TemporaryFile
$TMP_DOWNLOAD_DIR = New-Item -Itemtype Directory -Path "$TMP_DOWNLOAD_DIR_HOLDER.dir"
$TMP_DOWNLOAD_DIR_HOLDER.Delete() | Out-Null
trap {
  if ($TMP_DOWNLOAD_DIR.Exists) {
    try { Remove-Item $TMP_DOWNLOAD_DIR -Recurse -Force | Out-Null }
    catch { Write-Warning "Cannot remove $TMP_DOWNLOAD_DIR" }
  }
}

New-Item -Itemtype Directory -Path "$MAVEN_HOME_PARENT" -Force | Out-Null

# Download and Install Apache Maven
Write-Verbose "Couldn't find MAVEN_HOME, downloading and installing it ..."
Write-Verbose "Downloading from: $distributionUrl"
Write-Verbose "Downloading to: $TMP_DOWNLOAD_DIR/$distributionUrlName"

$webclient = New-Object System.Net.WebClient
if ($env:MVNW_USERNAME -and $env:MVNW_PASSWORD) {
  $webclient.Credentials = New-Object System.Net.NetworkCredential($env:MVNW_USERNAME, $env:MVNW_PASSWORD)
}
[Net.ServicePointManager]::SecurityProtocol = [Net.SecurityProtocolType]::Tls12
$webclient.DownloadFile($distributionUrl, "$TMP_DOWNLOAD_DIR/$distributionUrlName") | Out-Null

# If specified, validate the SHA-256 sum of the Maven distribution zip file
$distributionSha256Sum = (Get-Content -Raw "$scriptDir/.mvn/wrapper/maven-wrapper.properties" | ConvertFrom-StringData).distributionSha256Sum
if ($distributionSha256Sum) {
  if ($USE_MVND) {
    Write-Error "Checksum validation is not supported for maven-mvnd. `nPlease disable validation by removing 'distributionSha256Sum' from your maven-wrapper.properties."
  }
  Import-Module $PSHOME\Modules\Microsoft.PowerShell.Utility -Function Get-FileHash
  if ((Get-FileHash "$TMP_DOWNLOAD_DIR/$distributionUrlName" -Algorithm SHA256).Hash.ToLower() -ne $distributionSha256Sum) {
    Write-Error "Error: Failed to validate Maven distribution SHA-256, your Maven distribution might be compromised. If you updated your Maven version, you need to update the specified distributionSha256Sum property."
  }
}

# unzip and move
Expand-Archive "$TMP_DOWNLOAD_DIR/$distributionUrlName" -DestinationPath "$TMP_DOWNLOAD_DIR" | Out-Null
Rename-Item -Path "$TMP_DOWNLOAD_DIR/$distributionUrlNameMain" -NewName $MAVEN_HOME_NAME | Out-Null
try {
  Move-Item -Path "$TMP_DOWNLOAD_DIR/$MAVEN_HOME_NAME" -Destination $MAVEN_HOME_PARENT | Out-Null
} catch {
  if (! (Test-Path -Path "$MAVEN_HOME" -PathType Container)) {
    Write-Error "fail to move MAVEN_HOME"
  }
} finally {
  try { Remove-Item $TMP_DOWNLOAD_DIR -Recurse -Force | Out-Null }
  catch { Write-Warning "Cannot remove $TMP_DOWNLOAD_DIR" }
}

Write-Output "MVN_CMD=$MAVEN_HOME/bin/$MVN_CMD"
</file>

<file path="works-module/src/main/java/pe/edu/certus/worksmodule/configuration/annotations/WorkEntityScanConfig.java">
package pe.edu.certus.worksmodule.configuration.annotations;

import org.springframework.boot.autoconfigure.domain.EntityScan;
import org.springframework.context.annotation.Configuration;

@Configuration
@EntityScan(basePackages = "pe.edu.certus.worksmodule.repository.entity")
public class WorkEntityScanConfig {
}
</file>

<file path="works-module/src/main/java/pe/edu/certus/worksmodule/configuration/annotations/WorkPersistenceConfig.java">
package pe.edu.certus.worksmodule.configuration.annotations;

import org.springframework.context.annotation.Configuration;
import org.springframework.data.jpa.repository.config.EnableJpaRepositories;

@Configuration
@EnableJpaRepositories(basePackages = "pe.edu.certus.worksmodule.repository")
public class WorkPersistenceConfig {
}
</file>

<file path="works-module/src/main/java/pe/edu/certus/worksmodule/configuration/mappers/CommentMapperConfig.java">
package pe.edu.certus.worksmodule.configuration.mappers;

import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;
import pe.edu.certus.worksmodule.logic.adapters.mapper.CommentMapper;

@Configuration
public class CommentMapperConfig {

    @Bean
    public CommentMapper commentMapper() {
        return new CommentMapper();
    }
}
</file>

<file path="works-module/src/main/java/pe/edu/certus/worksmodule/configuration/mappers/CommentMapperPersistenceConfig.java">
package pe.edu.certus.worksmodule.configuration.mappers;

import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;
import pe.edu.certus.worksmodule.repository.adapters.mapper.CommentPersistenceMapper;

@Configuration
public class CommentMapperPersistenceConfig {
    @Bean
    public CommentPersistenceMapper commentPersistenceMapper() {
        return new CommentPersistenceMapper();
    }
}
</file>

<file path="works-module/src/main/java/pe/edu/certus/worksmodule/configuration/mappers/RatingMapperConfig.java">
package pe.edu.certus.worksmodule.configuration.mappers;

import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;
import pe.edu.certus.worksmodule.logic.adapters.mapper.RatingMapper;

@Configuration
public class RatingMapperConfig {

    @Bean
    public RatingMapper ratingMapper() {
        return new RatingMapper();
    }
}
</file>

<file path="works-module/src/main/java/pe/edu/certus/worksmodule/configuration/mappers/RatingMapperPersistenceConfig.java">
package pe.edu.certus.worksmodule.configuration.mappers;

import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;
import pe.edu.certus.worksmodule.repository.adapters.mapper.RatingPersistenceMapper;

@Configuration
public class RatingMapperPersistenceConfig {
    @Bean
    public RatingPersistenceMapper ratingPersistenceMapper() {
        return new RatingPersistenceMapper();
    }
}
</file>

<file path="works-module/src/main/java/pe/edu/certus/worksmodule/configuration/mappers/WorkCategoryMapperConfig.java">
package pe.edu.certus.worksmodule.configuration.mappers;

import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;
import pe.edu.certus.worksmodule.logic.adapters.mapper.WorkCategoryMapper;

@Configuration
public class WorkCategoryMapperConfig {

    @Bean
    WorkCategoryMapper workCategoryMapper() {
        return new WorkCategoryMapper();
    }
}
</file>

<file path="works-module/src/main/java/pe/edu/certus/worksmodule/configuration/mappers/WorkCategoryPersistenceConfig.java">
package pe.edu.certus.worksmodule.configuration.mappers;

import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;

@Configuration
public class WorkCategoryPersistenceConfig {

    @Bean
    public CommentMapperPersistenceConfig commentMapperPersistenceConfig() {
        return new CommentMapperPersistenceConfig();
    }
}
</file>

<file path="works-module/src/main/java/pe/edu/certus/worksmodule/logic/adapters/driven/CommentManager.java">
package pe.edu.certus.worksmodule.logic.adapters.driven;

import org.springframework.stereotype.Service;
import pe.edu.certus.worksmodule.logic.model.CommentModel;
import pe.edu.certus.worksmodule.logic.ports.driven.ForManagingComment;
import pe.edu.certus.worksmodule.logic.ports.driver.ForComment;

@Service
public class CommentManager implements ForComment {

    private final ForManagingComment forManagingComment;

    public CommentManager(ForManagingComment forManagingComment) {
        this.forManagingComment = forManagingComment;
    }

    @Override
    public CommentModel createComment(CommentModel commentModel) {
        return forManagingComment.satisfyCreateComment(commentModel);
    }
}
</file>

<file path="works-module/src/main/java/pe/edu/certus/worksmodule/logic/adapters/driven/RatingManager.java">
package pe.edu.certus.worksmodule.logic.adapters.driven;

import org.springframework.stereotype.Service;
import pe.edu.certus.worksmodule.logic.model.RatingModel;
import pe.edu.certus.worksmodule.logic.ports.driven.ForManagingRating;
import pe.edu.certus.worksmodule.logic.ports.driver.ForRating;

import java.util.List;

@Service
public class RatingManager implements ForRating {

    private final ForManagingRating forManagingRating;

    public RatingManager(ForManagingRating forManagingRating) {
        this.forManagingRating = forManagingRating;
    }

    @Override
    public RatingModel createRating(RatingModel ratingModel) {
        return forManagingRating.saveRating(ratingModel);
    }

    @Override
    public List<RatingModel> findAllRatings() {
        return forManagingRating.satisfyFindAllRatings();
    }
}
</file>

<file path="works-module/src/main/java/pe/edu/certus/worksmodule/logic/adapters/driven/WorkCategoryManager.java">
package pe.edu.certus.worksmodule.logic.adapters.driven;

import org.springframework.stereotype.Service;
import pe.edu.certus.worksmodule.logic.model.WorkCategoryModel;
import pe.edu.certus.worksmodule.logic.ports.driven.ForManagingWorkCategory;
import pe.edu.certus.worksmodule.logic.ports.driver.ForWorkCategory;

import java.util.List;

@Service
public class WorkCategoryManager implements ForWorkCategory {

    private final ForManagingWorkCategory forManagingWorkCategory;

    public WorkCategoryManager( ForManagingWorkCategory forManagingWorkCategory ) { this.forManagingWorkCategory = forManagingWorkCategory; }

    @Override
    public List<WorkCategoryModel> findAllCategories() {
        return forManagingWorkCategory.satisfyFindAllCategories();
    }
}
</file>

<file path="works-module/src/main/java/pe/edu/certus/worksmodule/logic/adapters/driver/inputs/CommentWebModel.java">
package pe.edu.certus.worksmodule.logic.adapters.driver.inputs;

import com.fasterxml.jackson.annotation.JsonInclude;
import lombok.Builder;

import java.time.LocalDateTime;
import java.util.List;

@Builder
@JsonInclude(JsonInclude.Include.NON_NULL)
public record CommentWebModel(
        Long id,
        Long userId,
        String commentBody,
        LocalDateTime createdAt,
        List<CommentWebModel> replies
) {}
</file>

<file path="works-module/src/main/java/pe/edu/certus/worksmodule/logic/adapters/driver/inputs/CreateCommentWebModel.java">
package pe.edu.certus.worksmodule.logic.adapters.driver.inputs;

import jakarta.validation.constraints.NotBlank;
import jakarta.validation.constraints.NotNull;

public record CreateCommentWebModel(
        @NotNull(message = "El ID del trabajo es obligatorio")
        Long workId,

        Long parentCommentId,

        @NotBlank(message = "El cuerpo del comentario no puede estar vacío")
        String commentBody
) {}
</file>

<file path="works-module/src/main/java/pe/edu/certus/worksmodule/logic/adapters/driver/inputs/RatingWebModel.java">
package pe.edu.certus.worksmodule.logic.adapters.driver.inputs;

import com.fasterxml.jackson.annotation.JsonInclude;
import jakarta.validation.constraints.Max;
import jakarta.validation.constraints.Min;
import jakarta.validation.constraints.NotNull;
import jakarta.validation.constraints.Size;
import lombok.Builder;

import java.time.LocalDateTime;

@Builder
@JsonInclude(JsonInclude.Include.NON_NULL)
public record RatingWebModel(
        Long ratingId,

        @NotNull(message = "El ID del trabajo es obligatorio")
        Long workId,

        @NotNull(message = "El ID del usuario es obligatorio")
        Long userId,

        Long orderId,

        @NotNull(message = "La puntuación no puede ser nula")
        @Min(value = 1, message = "La puntuación mínima es 1")
        @Max(value = 5, message = "La puntuación máxima es 5")
        byte ratingScore,

        @Size(max = 1000, message = "El comentario no puede exceder los 1000 caracteres")
        String ratingComment,

        LocalDateTime ratingCreatedAt
) {}
</file>

<file path="works-module/src/main/java/pe/edu/certus/worksmodule/logic/adapters/driver/inputs/WorkCategoryWebModel.java">
package pe.edu.certus.worksmodule.logic.adapters.driver.inputs;

import com.fasterxml.jackson.annotation.JsonInclude;
import lombok.Builder;

@Builder
@JsonInclude(JsonInclude.Include.NON_NULL)
public record WorkCategoryWebModel(
        Long id,
        String name,
        String description,
        String bannerImageUrl
) {}
</file>

<file path="works-module/src/main/java/pe/edu/certus/worksmodule/logic/adapters/driver/inputs/WorkWebModel.java">
package pe.edu.certus.worksmodule.logic.adapters.driver.inputs;

import com.fasterxml.jackson.annotation.JsonInclude;
import jakarta.validation.constraints.DecimalMin;
import jakarta.validation.constraints.NotBlank;
import jakarta.validation.constraints.NotNull;
import jakarta.validation.constraints.Size;
import lombok.Builder;
import pe.edu.certus.worksmodule.logic.model.WorkModel;

import java.math.BigDecimal;
import java.time.LocalDateTime;
import java.util.List;

@Builder
@JsonInclude(JsonInclude.Include.NON_NULL)
public record WorkWebModel(
        Long workId,
        Long idSellerUser,
        @NotNull(message = "La categoría es obligatoria")
        Long idWorkCategory,

        @NotBlank(message = "El título del trabajo no puede estar vacío")
        @Size(min = 5, max = 100)
        String workTitle,

        @NotBlank(message = "La descripción del trabajo no puede estar vacía")
        @Size(min = 20, max = 1000)
        String workDescription,

        @NotNull(message = "El precio no puede ser nulo")
        @DecimalMin(value = "0.01", message = "El precio debe ser mayor que cero")
        BigDecimal workPrice,

        String workImageUrl,
        List<String> imageUrls,
        WorkModel.WorkStatus workStatus,
        Boolean workIsDeleted,
        LocalDateTime workPublishedAt,
        LocalDateTime workUpdatedAt,

        String workCategory,
        String sellerName,
        Double averageRating,
        List< RatingWebModel > ratings,
        List< CommentWebModel > comments
) {}
</file>

<file path="works-module/src/main/java/pe/edu/certus/worksmodule/logic/adapters/driver/web/CommentAdapter.java">
package pe.edu.certus.worksmodule.logic.adapters.driver.web;

import jakarta.validation.Valid;
import org.springframework.http.HttpStatus;
import org.springframework.http.ResponseEntity;
import org.springframework.security.core.Authentication;
import org.springframework.web.bind.annotation.PostMapping;
import org.springframework.web.bind.annotation.RequestBody;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RestController;
import pe.edu.certus.worksmodule.logic.adapters.driver.inputs.CommentWebModel;
import pe.edu.certus.worksmodule.logic.adapters.driver.inputs.CreateCommentWebModel;
import pe.edu.certus.worksmodule.logic.model.CommentModel;
import pe.edu.certus.worksmodule.logic.ports.driver.ForComment;
import pe.edu.certus.worksmodule.logic.ports.mapper.ForMappingComment;

@RestController
@RequestMapping("/api/v1")
public class CommentAdapter {

    private final ForComment forComment;
    private final ForMappingComment forMappingComment;

    public CommentAdapter( ForComment forComment, ForMappingComment forMappingComment) {
        this.forComment = forComment;
        this.forMappingComment = forMappingComment;
    }

    @PostMapping("/comments")
    public ResponseEntity<CommentWebModel> createComment(
            @Valid @RequestBody CreateCommentWebModel request,
            Authentication authentication) {

        if (authentication == null || !authentication.isAuthenticated()) {
            return ResponseEntity.status(HttpStatus.UNAUTHORIZED).build();
        }

        Long userId = Long.parseLong(authentication.getName());

        CommentModel domainModel = forMappingComment.fromRequest(request, userId);
        CommentModel createdComment = forComment.createComment(domainModel);

        return ResponseEntity.ok(forMappingComment.toWeb(createdComment));
    }
}
</file>

<file path="works-module/src/main/java/pe/edu/certus/worksmodule/logic/adapters/driver/web/RatingAdapter.java">
package pe.edu.certus.worksmodule.logic.adapters.driver.web;

import jakarta.validation.Valid;
import org.springframework.http.ResponseEntity;
import org.springframework.web.bind.annotation.*;
import pe.edu.certus.worksmodule.logic.adapters.driver.inputs.RatingWebModel;
import pe.edu.certus.worksmodule.logic.model.RatingModel;
import pe.edu.certus.worksmodule.logic.ports.driver.ForRating;
import pe.edu.certus.worksmodule.logic.ports.mapper.ForMappingRating;

import java.util.List;
import java.util.stream.Collectors;

@RestController
@RequestMapping("/api/v1/ratings")
public class RatingAdapter {

    private final ForRating forRating;
    private final ForMappingRating forMappingRating;

    public RatingAdapter(ForRating forRating, ForMappingRating forMappingRating) {
        this.forRating = forRating;
        this.forMappingRating = forMappingRating;
    }

    @PostMapping
    public ResponseEntity< RatingWebModel > createRating( @Valid @RequestBody RatingWebModel ratingWebModel) {
        RatingModel domainModel = forMappingRating.fromWeb(ratingWebModel);
        RatingModel createdRating = forRating.createRating(domainModel);
        return ResponseEntity.ok(forMappingRating.toWeb(createdRating));
    }

    @GetMapping
    public ResponseEntity<List<RatingWebModel>> getAllRatings() {
        List<RatingModel> ratings = forRating.findAllRatings();
        List<RatingWebModel> response = ratings.stream()
                .map(forMappingRating::toWeb)
                .collect(Collectors.toList());
        return ResponseEntity.ok(response);
    }
}
</file>

<file path="works-module/src/main/java/pe/edu/certus/worksmodule/logic/adapters/driver/web/WorkCategoryAdapter.java">
package pe.edu.certus.worksmodule.logic.adapters.driver.web;

import org.springframework.http.ResponseEntity;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RestController;
import pe.edu.certus.worksmodule.logic.adapters.driver.inputs.WorkCategoryWebModel;
import pe.edu.certus.worksmodule.logic.model.WorkCategoryModel;
import pe.edu.certus.worksmodule.logic.ports.driver.ForWorkCategory;
import pe.edu.certus.worksmodule.logic.ports.mapper.ForMappingWorkCategory;

import java.util.List;
import java.util.stream.Collectors;

@RestController
@RequestMapping("/api/v1/work-categories")
public class WorkCategoryAdapter {

    private final ForWorkCategory forWorkCategory;
    private final ForMappingWorkCategory forMappingWorkCategory;

    public WorkCategoryAdapter(ForWorkCategory forWorkCategory, ForMappingWorkCategory forMappingWorkCategory) {
        this.forWorkCategory = forWorkCategory;
        this.forMappingWorkCategory = forMappingWorkCategory;
    }

    @GetMapping()
    public ResponseEntity<List<WorkCategoryWebModel>> getAllCategories() {
        List<WorkCategoryModel> categories = forWorkCategory.findAllCategories();
        List< WorkCategoryWebModel > response = categories.stream()
                .map(forMappingWorkCategory::toWeb)
                .collect(Collectors.toList());
        return ResponseEntity.ok(response);
    }
}
</file>

<file path="works-module/src/main/java/pe/edu/certus/worksmodule/logic/adapters/mapper/CommentMapper.java">
package pe.edu.certus.worksmodule.logic.adapters.mapper;

import pe.edu.certus.worksmodule.logic.adapters.driver.inputs.CommentWebModel;
import pe.edu.certus.worksmodule.logic.adapters.driver.inputs.CreateCommentWebModel;
import pe.edu.certus.worksmodule.logic.model.CommentModel;
import pe.edu.certus.worksmodule.logic.ports.mapper.ForMappingComment;

import java.util.Collections;
import java.util.stream.Collectors;

public class CommentMapper implements ForMappingComment {

    @Override
    public CommentModel fromRequest(CreateCommentWebModel request, Long userId) {
        return CommentModel.builder()
                .workId(request.workId())
                .userId(userId)
                .parentCommentId(request.parentCommentId())
                .commentBody(request.commentBody())
                .build();
    }

    @Override
    public CommentWebModel toWeb( CommentModel model) {
        if (model == null) return null;
        return new CommentWebModel(
                model.getId(),
                model.getUserId(),
                model.getCommentBody(),
                model.getCreatedAt(),
                model.getReplies() != null ? model.getReplies().stream().map(this::toWeb).collect(Collectors.toList()) : Collections.emptyList()
        );
    }
}
</file>

<file path="works-module/src/main/java/pe/edu/certus/worksmodule/logic/adapters/mapper/RatingMapper.java">
package pe.edu.certus.worksmodule.logic.adapters.mapper;

import pe.edu.certus.worksmodule.logic.adapters.driver.inputs.RatingWebModel;
import pe.edu.certus.worksmodule.logic.model.RatingModel;
import pe.edu.certus.worksmodule.logic.ports.mapper.ForMappingRating;

public class RatingMapper implements ForMappingRating {

    @Override
    public RatingModel fromWeb(RatingWebModel webModel) {
        return RatingModel.builder()
                .ratingId(webModel.ratingId())
                .workId(webModel.workId())
                .userId(webModel.userId())
                .orderId(webModel.orderId())
                .ratingScore(webModel.ratingScore())
                .ratingComment(webModel.ratingComment())
                .build();
    }

    @Override
    public RatingWebModel toWeb(RatingModel model) {
        return new RatingWebModel(
                model.getRatingId(),
                model.getWorkId(),
                model.getUserId(),
                model.getOrderId(),
                model.getRatingScore(),
                model.getRatingComment(),
                model.getRatingCreatedAt()
        );
    }
}
</file>

<file path="works-module/src/main/java/pe/edu/certus/worksmodule/logic/adapters/mapper/WorkCategoryMapper.java">
package pe.edu.certus.worksmodule.logic.adapters.mapper;

import pe.edu.certus.worksmodule.logic.adapters.driver.inputs.WorkCategoryWebModel;
import pe.edu.certus.worksmodule.logic.model.WorkCategoryModel;
import pe.edu.certus.worksmodule.logic.ports.mapper.ForMappingWorkCategory;

public class WorkCategoryMapper implements ForMappingWorkCategory {

    @Override
    public WorkCategoryModel fromWeb(WorkCategoryWebModel webModel) {
        return WorkCategoryModel.builder()
                .id(webModel.id())
                .name(webModel.name())
                .description(webModel.description())
                .bannerImageUrl(webModel.bannerImageUrl())
                .build();
    }

    @Override
    public WorkCategoryWebModel toWeb(WorkCategoryModel model) {
        return new WorkCategoryWebModel(
                model.getId(),
                model.getName(),
                model.getDescription(),
                model.getBannerImageUrl()
        );
    }
}
</file>

<file path="works-module/src/main/java/pe/edu/certus/worksmodule/logic/model/CommentModel.java">
package pe.edu.certus.worksmodule.logic.model;

import lombok.Builder;
import lombok.Getter;
import lombok.Setter;

import java.time.LocalDateTime;
import java.util.List;

@Getter
@Setter
@Builder
public class CommentModel {
    private Long id;
    private Long userId;
    private Long workId;
    private Long parentCommentId;
    private String commentBody;
    private Boolean isDeleted;
    private LocalDateTime createdAt;
    private LocalDateTime updatedAt;
    private List<CommentModel> replies;
}
</file>

<file path="works-module/src/main/java/pe/edu/certus/worksmodule/logic/model/RatingModel.java">
package pe.edu.certus.worksmodule.logic.model;

import lombok.Builder;
import lombok.Getter;
import lombok.Setter;

import java.time.LocalDateTime;

@Getter
@Setter
@Builder
public class RatingModel {
    private Long ratingId;
    private Long workId;
    private Long userId;
    private Long orderId;
    private byte ratingScore;
    private String ratingComment;
    private LocalDateTime ratingCreatedAt;
}
</file>

<file path="works-module/src/main/java/pe/edu/certus/worksmodule/logic/model/WorkCategoryModel.java">
package pe.edu.certus.worksmodule.logic.model;

import lombok.Builder;
import lombok.Getter;
import lombok.Setter;

@Getter
@Setter
@Builder
public class WorkCategoryModel {
    private Long id;
    private String name;
    private String description;
    private String bannerImageUrl;
}
</file>

<file path="works-module/src/main/java/pe/edu/certus/worksmodule/logic/ports/driven/ForManagingComment.java">
package pe.edu.certus.worksmodule.logic.ports.driven;

import pe.edu.certus.worksmodule.logic.model.CommentModel;

public interface ForManagingComment {
    CommentModel satisfyCreateComment(CommentModel commentModel);
}
</file>

<file path="works-module/src/main/java/pe/edu/certus/worksmodule/logic/ports/driven/ForManagingRating.java">
package pe.edu.certus.worksmodule.logic.ports.driven;

import pe.edu.certus.worksmodule.logic.model.RatingModel;

import java.util.List;

public interface ForManagingRating {
    RatingModel saveRating(RatingModel ratingModel);
    List<RatingModel> satisfyFindAllRatings();
}
</file>

<file path="works-module/src/main/java/pe/edu/certus/worksmodule/logic/ports/driven/ForManagingWorkCategory.java">
package pe.edu.certus.worksmodule.logic.ports.driven;

import pe.edu.certus.worksmodule.logic.model.WorkCategoryModel;

import java.util.List;

public interface ForManagingWorkCategory {
    List<WorkCategoryModel> satisfyFindAllCategories();
}
</file>

<file path="works-module/src/main/java/pe/edu/certus/worksmodule/logic/ports/driver/ForComment.java">
package pe.edu.certus.worksmodule.logic.ports.driver;

import pe.edu.certus.worksmodule.logic.model.CommentModel;

public interface ForComment {
    CommentModel createComment(CommentModel commentModel);
}
</file>

<file path="works-module/src/main/java/pe/edu/certus/worksmodule/logic/ports/driver/ForRating.java">
package pe.edu.certus.worksmodule.logic.ports.driver;

import pe.edu.certus.worksmodule.logic.model.RatingModel;

import java.util.List;

public interface ForRating {
    RatingModel createRating(RatingModel ratingModel);
    List<RatingModel> findAllRatings();
}
</file>

<file path="works-module/src/main/java/pe/edu/certus/worksmodule/logic/ports/driver/ForWorkCategory.java">
package pe.edu.certus.worksmodule.logic.ports.driver;

import pe.edu.certus.worksmodule.logic.model.WorkCategoryModel;

import java.util.List;

public interface ForWorkCategory {
    List<WorkCategoryModel> findAllCategories();
}
</file>

<file path="works-module/src/main/java/pe/edu/certus/worksmodule/logic/ports/mapper/ForMappingComment.java">
package pe.edu.certus.worksmodule.logic.ports.mapper;

import pe.edu.certus.worksmodule.logic.adapters.driver.inputs.CommentWebModel;
import pe.edu.certus.worksmodule.logic.adapters.driver.inputs.CreateCommentWebModel;
import pe.edu.certus.worksmodule.logic.model.CommentModel;

public interface ForMappingComment {
    CommentModel fromRequest(CreateCommentWebModel request, Long userId);
    CommentWebModel toWeb( CommentModel model);
}
</file>

<file path="works-module/src/main/java/pe/edu/certus/worksmodule/logic/ports/mapper/ForMappingRating.java">
package pe.edu.certus.worksmodule.logic.ports.mapper;

import pe.edu.certus.worksmodule.logic.adapters.driver.inputs.RatingWebModel;
import pe.edu.certus.worksmodule.logic.model.RatingModel;

public interface ForMappingRating {
    RatingModel fromWeb(RatingWebModel ratingWebModel);
    RatingWebModel toWeb(RatingModel ratingModel);
}
</file>

<file path="works-module/src/main/java/pe/edu/certus/worksmodule/logic/ports/mapper/ForMappingWorkCategory.java">
package pe.edu.certus.worksmodule.logic.ports.mapper;

import pe.edu.certus.worksmodule.logic.adapters.driver.inputs.WorkCategoryWebModel;
import pe.edu.certus.worksmodule.logic.model.WorkCategoryModel;

public interface ForMappingWorkCategory {
    WorkCategoryModel fromWeb(WorkCategoryWebModel webModel);
    WorkCategoryWebModel toWeb(WorkCategoryModel model);
}
</file>

<file path="works-module/src/main/java/pe/edu/certus/worksmodule/repository/adapters/driver/CommentQuerierProxy.java">
package pe.edu.certus.worksmodule.repository.adapters.driver;

import jakarta.persistence.EntityNotFoundException;
import org.springframework.stereotype.Service;
import org.springframework.transaction.annotation.Transactional;
import pe.edu.certus.worksmodule.logic.model.CommentModel;
import pe.edu.certus.worksmodule.logic.ports.driven.ForManagingComment;
import pe.edu.certus.worksmodule.repository.entity.CommentEntity;
import pe.edu.certus.worksmodule.repository.entity.WorkEntity;
import pe.edu.certus.worksmodule.repository.ports.driver.ForQueryingComment;
import pe.edu.certus.worksmodule.repository.ports.driver.ForQueryingWork;
import pe.edu.certus.worksmodule.repository.ports.mapper.ForBridgingComment;

@Service
public class CommentQuerierProxy implements ForManagingComment {

    private final ForQueryingComment forQueryingComment;
    private final ForQueryingWork forQueryingWork;
    private final ForBridgingComment forBridgingComment;

    public CommentQuerierProxy(ForQueryingComment forQueryingComment, ForQueryingWork forQueryingWork, ForBridgingComment forBridgingComment) {
        this.forQueryingComment = forQueryingComment;
        this.forQueryingWork = forQueryingWork;
        this.forBridgingComment = forBridgingComment;
    }

    @Override
    @Transactional
    public CommentModel satisfyCreateComment(CommentModel commentModel) {
        WorkEntity workEntity = forQueryingWork.findById(commentModel.getWorkId())
                .orElseThrow(() -> new EntityNotFoundException("Work not found with ID: " + commentModel.getWorkId()));

        CommentEntity parentEntity = null;
        if (commentModel.getParentCommentId() != null) {
            parentEntity = forQueryingComment.findById(commentModel.getParentCommentId())
                    .orElseThrow(() -> new EntityNotFoundException("Parent comment not found with ID: " + commentModel.getParentCommentId()));
        }

        CommentEntity commentEntity = forBridgingComment.toPersistence(commentModel, workEntity, parentEntity);
        CommentEntity savedEntity = forQueryingComment.save(commentEntity);

        return forBridgingComment.fromPersistence(savedEntity);
    }
}
</file>

<file path="works-module/src/main/java/pe/edu/certus/worksmodule/repository/adapters/driver/RatingQuerierProxy.java">
package pe.edu.certus.worksmodule.repository.adapters.driver;

import jakarta.persistence.EntityNotFoundException;
import org.springframework.stereotype.Service;
import org.springframework.transaction.annotation.Transactional;
import pe.edu.certus.worksmodule.logic.model.RatingModel;
import pe.edu.certus.worksmodule.logic.ports.driven.ForManagingRating;
import pe.edu.certus.worksmodule.repository.entity.RatingEntity;
import pe.edu.certus.worksmodule.repository.entity.WorkEntity;
import pe.edu.certus.worksmodule.repository.ports.driver.ForQueryingRating;
import pe.edu.certus.worksmodule.repository.ports.driver.ForQueryingWork;
import pe.edu.certus.worksmodule.repository.ports.mapper.ForBridgingRating;

import java.util.List;
import java.util.stream.Collectors;

@Service
public class RatingQuerierProxy implements ForManagingRating {

    private final ForQueryingRating forQueryingRating;
    private final ForQueryingWork forQueryingWork;
    private final ForBridgingRating forBridgingRating;

    public RatingQuerierProxy(ForQueryingRating forQueryingRating, ForQueryingWork forQueryingWork, ForBridgingRating forBridgingRating) {
        this.forQueryingRating = forQueryingRating;
        this.forQueryingWork = forQueryingWork;
        this.forBridgingRating = forBridgingRating;
    }

    @Override
    @Transactional
    public RatingModel saveRating(RatingModel ratingModel) {
        WorkEntity workEntity = forQueryingWork.findById(ratingModel.getWorkId())
                .orElseThrow(() -> new EntityNotFoundException("Work not found with ID: " + ratingModel.getWorkId()));

        var ratingEntity = forBridgingRating.toPersistence(ratingModel, workEntity);
        var savedEntity = forQueryingRating.save(ratingEntity);

        return forBridgingRating.fromPersistence(savedEntity);
    }

    @Override
    public List<RatingModel> satisfyFindAllRatings() {
        List<RatingEntity> entities = forQueryingRating.findAll();
        return entities.stream()
                .map(forBridgingRating::fromPersistence)
                .collect(Collectors.toList());
    }
}
</file>

<file path="works-module/src/main/java/pe/edu/certus/worksmodule/repository/adapters/driver/WorkCategoryQuerierProxy.java">
package pe.edu.certus.worksmodule.repository.adapters.driver;


import org.springframework.stereotype.Service;
import pe.edu.certus.worksmodule.logic.model.WorkCategoryModel;
import pe.edu.certus.worksmodule.logic.ports.driven.ForManagingWorkCategory;
import pe.edu.certus.worksmodule.repository.entity.WorkCategoryEntity;
import pe.edu.certus.worksmodule.repository.ports.driver.ForQueryingWorkCategory;
import pe.edu.certus.worksmodule.repository.ports.mapper.ForBridgingWorkCategory;

import java.util.List;
import java.util.stream.Collectors;

@Service
public class WorkCategoryQuerierProxy implements ForManagingWorkCategory {

    private final ForQueryingWorkCategory forQueryingWorkCategory;
    private final ForBridgingWorkCategory forBridgingWorkCategory;

    public WorkCategoryQuerierProxy( ForQueryingWorkCategory forQueryingWorkCategory, ForBridgingWorkCategory forBridgingWorkCategory ) {
        this.forQueryingWorkCategory = forQueryingWorkCategory;
        this.forBridgingWorkCategory = forBridgingWorkCategory;
    }

    @Override
    public List< WorkCategoryModel > satisfyFindAllCategories( ) {
        List< WorkCategoryEntity > entities = forQueryingWorkCategory.findAll();
        return entities.stream()
                .map(forBridgingWorkCategory::fromPersistence)
                .collect( Collectors.toList());
    }
}
</file>

<file path="works-module/src/main/java/pe/edu/certus/worksmodule/repository/adapters/mapper/CommentPersistenceMapper.java">
package pe.edu.certus.worksmodule.repository.adapters.mapper;

import org.springframework.stereotype.Component;
import pe.edu.certus.worksmodule.logic.model.CommentModel;
import pe.edu.certus.worksmodule.repository.entity.CommentEntity;
import pe.edu.certus.worksmodule.repository.entity.WorkEntity;
import pe.edu.certus.worksmodule.repository.ports.mapper.ForBridgingComment;

import java.util.Collections;
import java.util.stream.Collectors;

@Component
public class CommentPersistenceMapper implements ForBridgingComment {

    @Override
    public CommentEntity toPersistence(CommentModel model, WorkEntity workEntity, CommentEntity parentComment) {
        return CommentEntity.builder()
                .id(model.getId())
                .work(workEntity)
                .userId(model.getUserId())
                .parentComment(parentComment)
                .commentBody(model.getCommentBody())
                .isDeleted(model.getIsDeleted() != null ? model.getIsDeleted() : false)
                .build();
    }

    @Override
    public CommentModel fromPersistence(CommentEntity entity) {
        if (entity == null) return null;
        return CommentModel.builder()
                .id(entity.getId())
                .workId(entity.getWork() != null ? entity.getWork().getWorkId() : null)
                .userId(entity.getUserId())
                .parentCommentId(entity.getParentComment() != null ? entity.getParentComment().getId() : null)
                .commentBody(entity.getCommentBody())
                .isDeleted(entity.getIsDeleted())
                .createdAt(entity.getCreatedAt())
                .updatedAt(entity.getUpdatedAt())
                .replies(entity.getReplies() != null ? entity.getReplies().stream()
                        .map(this::fromPersistence)
                        .collect(Collectors.toList()) : Collections.emptyList())
                .build();
    }
}
</file>

<file path="works-module/src/main/java/pe/edu/certus/worksmodule/repository/adapters/mapper/RatingPersistenceMapper.java">
package pe.edu.certus.worksmodule.repository.adapters.mapper;

import org.springframework.stereotype.Component;
import pe.edu.certus.worksmodule.logic.model.RatingModel;
import pe.edu.certus.worksmodule.repository.entity.RatingEntity;
import pe.edu.certus.worksmodule.repository.entity.WorkEntity;
import pe.edu.certus.worksmodule.repository.ports.mapper.ForBridgingRating;

@Component
public class RatingPersistenceMapper implements ForBridgingRating {

    @Override
    public RatingEntity toPersistence(RatingModel ratingModel, WorkEntity workEntity) {
        return RatingEntity.builder()
                .ratingId(ratingModel.getRatingId())
                .work(workEntity)
                .userId(ratingModel.getUserId())
                .orderId(ratingModel.getOrderId())
                .ratingScore(ratingModel.getRatingScore())
                .ratingComment(ratingModel.getRatingComment())
                .build();
    }

    @Override
    public RatingModel fromPersistence(RatingEntity ratingEntity) {
        return RatingModel.builder()
                .ratingId(ratingEntity.getRatingId())
                .workId(ratingEntity.getWork().getWorkId())
                .userId(ratingEntity.getUserId())
                .orderId(ratingEntity.getOrderId())
                .ratingScore(ratingEntity.getRatingScore())
                .ratingComment(ratingEntity.getRatingComment())
                .ratingCreatedAt(ratingEntity.getRatingCreatedAt())
                .build();
    }
}
</file>

<file path="works-module/src/main/java/pe/edu/certus/worksmodule/repository/adapters/mapper/WorkCategoryPersistenceMapper.java">
package pe.edu.certus.worksmodule.repository.adapters.mapper;

import org.springframework.stereotype.Component;
import pe.edu.certus.worksmodule.logic.model.WorkCategoryModel;
import pe.edu.certus.worksmodule.repository.entity.WorkCategoryEntity;
import pe.edu.certus.worksmodule.repository.ports.mapper.ForBridgingWorkCategory;

@Component
public class WorkCategoryPersistenceMapper implements ForBridgingWorkCategory {

    @Override
    public WorkCategoryEntity toPersistence(WorkCategoryModel model) {
        WorkCategoryEntity entity = new WorkCategoryEntity();
        entity.setId(model.getId());
        entity.setName(model.getName());
        entity.setDescription(model.getDescription());
        entity.setBannerImageUrl(model.getBannerImageUrl());
        return entity;
    }

    @Override
    public WorkCategoryModel fromPersistence(WorkCategoryEntity entity) {
        return WorkCategoryModel.builder()
                .id(entity.getId())
                .name(entity.getName())
                .description(entity.getDescription())
                .bannerImageUrl(entity.getBannerImageUrl())
                .build();
    }
}
</file>

<file path="works-module/src/main/java/pe/edu/certus/worksmodule/repository/entity/CommentEntity.java">
package pe.edu.certus.worksmodule.repository.entity;

import jakarta.persistence.*;
import lombok.*;

import java.time.LocalDateTime;
import java.util.ArrayList;
import java.util.List;

@Entity
@Table(name = "comments")
@Getter
@Setter
@Builder
@AllArgsConstructor
@NoArgsConstructor
public class CommentEntity {

    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    @Column(name = "comment_id")
    private Long id;

    @ManyToOne(fetch = FetchType.LAZY)
    @JoinColumn(name = "id_work", nullable = false)
    private WorkEntity work;

    @Column(name = "id_user", nullable = false)
    private Long userId;

    @ManyToOne(fetch = FetchType.LAZY)
    @JoinColumn(name = "id_parent_comment")
    private CommentEntity parentComment;

    @Column(name = "comment_body", nullable = false, columnDefinition = "TEXT")
    private String commentBody;

    @Column(name = "comment_is_deleted", nullable = false)
    @Builder.Default
    private Boolean isDeleted = false;

    @Column(name = "comment_created_at", updatable = false)
    private LocalDateTime createdAt;

    @Column(name = "comment_updated_at")
    private LocalDateTime updatedAt;

    @OneToMany(mappedBy = "parentComment", cascade = CascadeType.ALL, orphanRemoval = true)
    private List<CommentEntity> replies = new ArrayList<>();

    @PrePersist
    protected void onCreate() {
        createdAt = LocalDateTime.now();
        updatedAt = LocalDateTime.now();
    }

    @PreUpdate
    protected void onUpdate() {
        updatedAt = LocalDateTime.now();
    }
}
</file>

<file path="works-module/src/main/java/pe/edu/certus/worksmodule/repository/entity/RatingEntity.java">
package pe.edu.certus.worksmodule.repository.entity;

import jakarta.persistence.*;
import lombok.*;

import java.time.LocalDateTime;

@Entity
@Table(name = "ratings")
@Getter
@Setter
@Builder
@AllArgsConstructor
@NoArgsConstructor
public class RatingEntity {

    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    @Column(name = "rating_id")
    private Long ratingId;

    @ManyToOne(fetch = FetchType.LAZY)
    @JoinColumn(name = "work_id", nullable = false)
    private WorkEntity work;

    @Column(name = "user_id", nullable = false)
    private Long userId;

    @Column(name = "order_id")
    private Long orderId;

    @Column(name = "rating_score", nullable = false)
    private byte ratingScore;

    @Column(name = "rating_comment")
    private String ratingComment;

    @Column(name = "rating_created_at")
    private LocalDateTime ratingCreatedAt;

    @PrePersist
    protected void onCreate() {
        ratingCreatedAt = LocalDateTime.now();
    }
}
</file>

<file path="works-module/src/main/java/pe/edu/certus/worksmodule/repository/entity/WorkCategoryEntity.java">
package pe.edu.certus.worksmodule.repository.entity;

import jakarta.persistence.*;
import lombok.Getter;
import lombok.Setter;
import org.hibernate.annotations.Immutable;

@Entity
@Table(name = "work_categories")
@Immutable
@Getter
@Setter
public class WorkCategoryEntity {

    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    @Column(name = "category_id")
    private Long id;

    @Column(name = "category_name")
    private String name;

    @Column(name = "category_description")
    private String description;

    @Column(name = "banner_image_url")
    private String bannerImageUrl;
}
</file>

<file path="works-module/src/main/java/pe/edu/certus/worksmodule/repository/entity/WorkImageEntity.java">
package pe.edu.certus.worksmodule.repository.entity;

import jakarta.persistence.*;
import lombok.*;

import java.time.LocalDateTime;

@Entity
@Table(name = "work_images")
@Getter
@Setter
@Builder
@AllArgsConstructor
@NoArgsConstructor
public class WorkImageEntity {

    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    @Column(name = "image_id")
    private Long imageId;

    @ManyToOne(fetch = FetchType.LAZY)
    @JoinColumn(name = "id_work", nullable = false)
    private WorkEntity work;

    @Column(name = "image_url", nullable = false, columnDefinition = "TEXT")
    private String imageUrl;

    @Column(name = "is_primary")
    private Boolean isPrimary;

    @Column(name = "uploaded_at", updatable = false)
    private LocalDateTime uploadedAt;

    @PrePersist
    protected void onCreate() {
        uploadedAt = LocalDateTime.now();
    }
}
</file>

<file path="works-module/src/main/java/pe/edu/certus/worksmodule/repository/ports/driver/ForQueryingComment.java">
package pe.edu.certus.worksmodule.repository.ports.driver;

import org.springframework.data.jpa.repository.JpaRepository;
import org.springframework.stereotype.Repository;
import pe.edu.certus.worksmodule.repository.entity.CommentEntity;

@Repository
public interface ForQueryingComment extends JpaRepository<CommentEntity, Long> {
}
</file>

<file path="works-module/src/main/java/pe/edu/certus/worksmodule/repository/ports/driver/ForQueryingRating.java">
package pe.edu.certus.worksmodule.repository.ports.driver;

import org.springframework.data.jpa.repository.JpaRepository;
import org.springframework.stereotype.Repository;
import pe.edu.certus.worksmodule.repository.entity.RatingEntity;

@Repository
public interface ForQueryingRating extends JpaRepository<RatingEntity, Long> {
}
</file>

<file path="works-module/src/main/java/pe/edu/certus/worksmodule/repository/ports/driver/ForQueryingWorkCategory.java">
package pe.edu.certus.worksmodule.repository.ports.driver;

import org.springframework.data.jpa.repository.JpaRepository;
import org.springframework.stereotype.Repository;
import pe.edu.certus.worksmodule.repository.entity.WorkCategoryEntity;

@Repository
public interface ForQueryingWorkCategory extends JpaRepository<WorkCategoryEntity, Long> {
}
</file>

<file path="works-module/src/main/java/pe/edu/certus/worksmodule/repository/ports/driver/ForQueryingWorkImage.java">
package pe.edu.certus.worksmodule.repository.ports.driver;

import org.springframework.data.jpa.repository.JpaRepository;
import org.springframework.stereotype.Repository;
import pe.edu.certus.worksmodule.repository.entity.WorkImageEntity;

@Repository
public interface ForQueryingWorkImage extends JpaRepository<WorkImageEntity, Long> {
}
</file>

<file path="works-module/src/main/java/pe/edu/certus/worksmodule/repository/ports/mapper/ForBridgingComment.java">
package pe.edu.certus.worksmodule.repository.ports.mapper;

import pe.edu.certus.worksmodule.logic.model.CommentModel;
import pe.edu.certus.worksmodule.repository.entity.CommentEntity;
import pe.edu.certus.worksmodule.repository.entity.WorkEntity;

public interface ForBridgingComment {
    CommentEntity toPersistence(CommentModel model, WorkEntity workEntity, CommentEntity parentComment);
    CommentModel fromPersistence(CommentEntity entity);
}
</file>

<file path="works-module/src/main/java/pe/edu/certus/worksmodule/repository/ports/mapper/ForBridgingRating.java">
package pe.edu.certus.worksmodule.repository.ports.mapper;

import pe.edu.certus.worksmodule.logic.model.RatingModel;
import pe.edu.certus.worksmodule.repository.entity.RatingEntity;
import pe.edu.certus.worksmodule.repository.entity.WorkEntity;

public interface ForBridgingRating {
    RatingEntity toPersistence(RatingModel ratingModel, WorkEntity workEntity);
    RatingModel fromPersistence(RatingEntity ratingEntity);
}
</file>

<file path="works-module/src/main/java/pe/edu/certus/worksmodule/repository/ports/mapper/ForBridgingWorkCategory.java">
package pe.edu.certus.worksmodule.repository.ports.mapper;

import pe.edu.certus.worksmodule.logic.model.WorkCategoryModel;
import pe.edu.certus.worksmodule.repository.entity.WorkCategoryEntity;

public interface ForBridgingWorkCategory {
    WorkCategoryEntity toPersistence(WorkCategoryModel model);
    WorkCategoryModel fromPersistence(WorkCategoryEntity entity);
}
</file>

<file path="works-module/src/main/java/pe/edu/certus/worksmodule/WorksModuleApplication.java">
package pe.edu.certus.worksmodule;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;

@SpringBootApplication
public class WorksModuleApplication {

	public static void main(String[] args) {
		SpringApplication.run(WorksModuleApplication.class, args);
	}

}
</file>

<file path="works-module/src/main/resources/application.properties">
spring.application.name=works-module
</file>

<file path=".gitignore">
HELP.md
target/
!.mvn/wrapper/maven-wrapper.jar
!**/src/main/**/target/
!**/src/test/**/target/

### STS ###
.apt_generated
.classpath
.factorypath
.project
.settings
.springBeans
.sts4-cache

### IntelliJ IDEA ###
.idea
*.iws
*.iml
*.ipr

### NetBeans ###
/nbproject/private/
/nbbuild/
/dist/
/nbdist/
/.nb-gradle/
build/
!**/src/main/**/build/
!**/src/test/**/build/

### VS Code ###
.vscode/
</file>

<file path="auth-module/pom.xml">
<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd">
    <modelVersion>4.0.0</modelVersion>
    <parent>
        <groupId>pe.edu.certus</groupId>
        <artifactId>cm-backend</artifactId>
        <version>0.0.1-SNAPSHOT</version>
    </parent>
    <artifactId>auth-module</artifactId>
    <name>auth-module</name>
    <description>Módulo de Autenticación y Autorización</description>

    <properties>
        <java.version>17</java.version>
        <lombok.version>1.18.32</lombok.version>
    </properties>

    <dependencies>
        <dependency>
            <groupId>pe.edu.certus</groupId>
            <artifactId>people-module</artifactId>
            <version>${version}</version>
        </dependency>
        <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-starter-web</artifactId>
        </dependency>
        <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-starter-data-jpa</artifactId>
        </dependency>
        <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-starter-security</artifactId>
        </dependency>

        <dependency>
            <groupId>com.nimbusds</groupId>
            <artifactId>nimbus-jose-jwt</artifactId>
            <version>10.3</version>
        </dependency>

        <dependency>
            <groupId>com.google.api-client</groupId>
            <artifactId>google-api-client</artifactId>
            <version>2.8.0</version>
        </dependency>

        <dependency>
            <groupId>com.google.http-client</groupId>
            <artifactId>google-http-client-jackson2</artifactId>
            <version>1.47.0</version>
        </dependency>

        <dependency>
            <groupId>org.projectlombok</groupId>
            <artifactId>lombok</artifactId>
            <version>${lombok.version}</version>
            <optional>true</optional>
        </dependency>
        <dependency>
            <groupId>org.springframework.security</groupId>
            <artifactId>spring-security-oauth2-core</artifactId>
        </dependency>
    </dependencies>

    <build>
        <plugins>
            <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-compiler-plugin</artifactId>
                <configuration>
                    <annotationProcessorPaths>
                        <path>
                            <groupId>org.projectlombok</groupId>
                            <artifactId>lombok</artifactId>
                            <version>${lombok.version}</version>
                        </path>
                    </annotationProcessorPaths>
                </configuration>
            </plugin>
        </plugins>
    </build>
</project>
</file>

<file path="auth-module/src/main/java/pe/edu/certus/authmodule/configuration/annotations/AuthComponentScanConfig.java">
//package pe.edu.certus.authmodule.configuration.annotations;
//
//import org.springframework.context.annotation.ComponentScan;
//import org.springframework.context.annotation.Configuration;
//
//@Configuration
//@ComponentScan(basePackages = "pe.edu.certus.authmodule")
//public class AuthComponentScanConfig {}
</file>

<file path="auth-module/src/main/java/pe/edu/certus/authmodule/configuration/policy/CorsConfig.java">
package pe.edu.certus.authmodule.configuration.policy;


import org.springframework.web.servlet.config.annotation.CorsRegistry;
import org.springframework.web.servlet.config.annotation.WebMvcConfigurer;

public class CorsConfig implements WebMvcConfigurer {
    @Override
    public void addCorsMappings( CorsRegistry registry) {
        registry.addMapping("/**")
                .allowedOrigins("http://localhost:8080")
                .allowedMethods("GET", "POST", "PUT", "DELETE", "OPTIONS")
                .allowedHeaders("Origin", "Content-Type", "Accept", "Authorization")
                .allowCredentials(true)
                .maxAge(3600);
    }
}
</file>

<file path="auth-module/src/main/java/pe/edu/certus/authmodule/configuration/policy/JwtAuthorizationFilterConfig.java">
package pe.edu.certus.authmodule.configuration.policy;

import com.nimbusds.jose.JOSEException;
import com.nimbusds.jwt.JWTClaimsSet;
import jakarta.servlet.FilterChain;
import jakarta.servlet.ServletException;
import jakarta.servlet.http.HttpServletRequest;
import jakarta.servlet.http.HttpServletResponse;
import org.springframework.lang.NonNull;
import org.springframework.security.authentication.UsernamePasswordAuthenticationToken;
import org.springframework.security.core.GrantedAuthority;
import org.springframework.security.core.authority.SimpleGrantedAuthority;
import org.springframework.security.core.context.SecurityContextHolder;
import org.springframework.util.AntPathMatcher;
import org.springframework.web.filter.OncePerRequestFilter;
import pe.edu.certus.authmodule.jwt.adapters.JwtManager;
import pe.edu.certus.authmodule.repository.entity.AuthEntity;
import pe.edu.certus.authmodule.repository.ports.driver.ForQueryingAuth;

import java.io.IOException;
import java.text.ParseException;
import java.util.Collection;
import java.util.Collections;
import java.util.List;
import java.util.stream.Collectors;
import java.util.stream.Stream;

public class JwtAuthorizationFilterConfig extends OncePerRequestFilter {

    private final JwtManager jwtManager;
    private final ForQueryingAuth forQueryingAuth;
    private final AntPathMatcher pathMatcher = new AntPathMatcher();

    public JwtAuthorizationFilterConfig(JwtManager jwtManager, ForQueryingAuth forQueryingAuth) {
        this.jwtManager = jwtManager;
        this.forQueryingAuth = forQueryingAuth;
    }

    @Override
    protected boolean shouldNotFilter(HttpServletRequest request) throws ServletException {
        String path = request.getServletPath();
        String method = request.getMethod();

        List<String> publicUiPaths = List.of(
                "/marketplace/home",
                "/marketplace/works",
                "/marketplace/works/**",
                "/marketplace/auth/**",
                "/marketplace/request-seller-role",
                "/marketplace/profiles/**",
                "/css/**", "/scripts/**", "/img/**", "/video/**"
        );

        if (publicUiPaths.stream().anyMatch(p -> pathMatcher.match(p, path))) {
            return true;
        }

        if (pathMatcher.match("/api/v1/works/**", path) && "GET".equals(method)) {
            return true;
        }
        if (pathMatcher.match("/api/v1/people/**", path) && "GET".equals(method)) {
            return true;
        }
        if (pathMatcher.match("/api/v1/work-categories/**", path) && "GET".equals(method)) {
            return true;
        }

        List<String> otherPublicApiPaths = List.of(
                "/api/v1/auth/**",
                "/api/v1/users/request-seller-role"
        );

        if (otherPublicApiPaths.stream().anyMatch(p -> pathMatcher.match(p, path))) {
            return true;
        }

        return false;
    }


    @Override
    protected void doFilterInternal(@NonNull HttpServletRequest request,
                                    @NonNull HttpServletResponse response,
                                    @NonNull FilterChain filterChain) throws ServletException, IOException {
        String header = request.getHeader("Authorization");

        if (header == null || !header.startsWith("Bearer ")) {
            filterChain.doFilter(request, response);
            return;
        }

        String token = header.substring(7);

        try {
            JWTClaimsSet claims = jwtManager.parseJWT(token);
            String userId = claims.getSubject();

            Collection<? extends GrantedAuthority> authorities = forQueryingAuth.findById(Long.parseLong(userId))
                    .map(this::getAuthoritiesForUser)
                    .orElse(Collections.emptyList());

            UsernamePasswordAuthenticationToken authenticationToken =
                    new UsernamePasswordAuthenticationToken(userId, null, authorities);

            SecurityContextHolder.getContext().setAuthentication(authenticationToken);

        } catch (JOSEException | ParseException | NumberFormatException e) {
            SecurityContextHolder.clearContext();
            response.setStatus(HttpServletResponse.SC_UNAUTHORIZED);
            return;
        }

        filterChain.doFilter(request, response);
    }

    private Collection<? extends GrantedAuthority> getAuthoritiesForUser(AuthEntity user) {
        Long roleId = user.getIdRole();
        String roleName = "USER";

        if (roleId != null) {
            switch (roleId.intValue()) {
                case 1: roleName = "Administrator"; break;
                case 2: roleName = "Seller"; break;
                case 3: roleName = "Buyer"; break;
            }
        }
        return Stream.of(roleName).map(SimpleGrantedAuthority::new).collect(Collectors.toList());
    }
}
</file>

<file path="auth-module/src/main/java/pe/edu/certus/authmodule/configuration/policy/SecurityConfig.java">
package pe.edu.certus.authmodule.configuration.policy;

import jakarta.servlet.http.HttpServletResponse;
import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;
import org.springframework.http.HttpMethod;
import org.springframework.security.config.annotation.method.configuration.EnableMethodSecurity;
import org.springframework.security.config.annotation.web.builders.HttpSecurity;
import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;
import org.springframework.security.config.annotation.web.configurers.AbstractHttpConfigurer;
import org.springframework.security.config.http.SessionCreationPolicy;
import org.springframework.security.web.SecurityFilterChain;
import org.springframework.security.web.authentication.AuthenticationSuccessHandler;
import org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;
import pe.edu.certus.authmodule.jwt.adapters.JwtManager;
import pe.edu.certus.authmodule.repository.ports.driver.ForQueryingAuth;

@Configuration
@EnableWebSecurity
@EnableMethodSecurity(securedEnabled = true)
public class SecurityConfig {

    private final JwtManager jwtManager;
    private final ForQueryingAuth forQueryingAuth;
    private final AuthenticationSuccessHandler customOAuth2LoginSuccessHandler;

    public SecurityConfig(JwtManager jwtManager, ForQueryingAuth forQueryingAuth, AuthenticationSuccessHandler customOAuth2LoginSuccessHandler) {
        this.jwtManager = jwtManager;
        this.forQueryingAuth = forQueryingAuth;
        this.customOAuth2LoginSuccessHandler = customOAuth2LoginSuccessHandler;
    }

    @Bean
    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {
        http
                .csrf(AbstractHttpConfigurer::disable)
                .sessionManagement(session -> session.sessionCreationPolicy(SessionCreationPolicy.STATELESS))
                .exceptionHandling(exception ->
                        exception.authenticationEntryPoint((request, response, authException) ->
                                response.sendError(HttpServletResponse.SC_UNAUTHORIZED, "Unauthorized - Access Denied")
                        )
                )
                .authorizeHttpRequests(auth -> auth
                        .requestMatchers("/login/oauth2/**", "/oauth2/**").permitAll()
                        .requestMatchers("/api/v1/auth/**").permitAll()
                        .requestMatchers(
                                "/marketplace/**", "/css/**", "/scripts/**", "/img/**", "/video/**",
                                "/favicon.ico", "/error"
                        ).permitAll()
                        .requestMatchers(HttpMethod.GET,
                                "/api/v1/works/**",
                                "/api/v1/ratings/**",
                                "/api/v1/people/**",
                                "/api/v1/work-categories/**"
                        ).permitAll()
                        .requestMatchers(HttpMethod.POST, "/api/v1/users/request-seller-role").permitAll()
                        .requestMatchers(HttpMethod.POST, "/api/v1/comments").authenticated()
                        .requestMatchers("/marketplace/dashboard/seller/**").hasAuthority("Seller")
                        .requestMatchers("/marketplace/dashboard/admin/**").hasAuthority("Administrator")
                        .requestMatchers(
                                "/api/v1/users/me",
                                "/api/v1/people/me",
                                "/api/v1/paypal/**"
                        ).authenticated()
                        .anyRequest().authenticated()
                )
                .oauth2Login(oauth2 -> oauth2
                        .loginPage("/marketplace/auth/login")
                        .successHandler(customOAuth2LoginSuccessHandler)
                )
                .addFilterBefore(new JwtAuthorizationFilterConfig(jwtManager, forQueryingAuth), UsernamePasswordAuthenticationFilter.class);

        return http.build();
    }
}
</file>

<file path="auth-module/src/main/java/pe/edu/certus/authmodule/logic/adapters/driven/AuthManager.java">
package pe.edu.certus.authmodule.logic.adapters.driven;

import com.google.api.client.googleapis.auth.oauth2.GoogleIdToken;
import com.google.api.client.googleapis.auth.oauth2.GoogleIdTokenVerifier;
import com.google.api.client.http.javanet.NetHttpTransport;
import com.google.api.client.json.gson.GsonFactory;
import com.nimbusds.jose.JOSEException;
import org.springframework.beans.factory.annotation.Value;
import org.springframework.security.crypto.password.PasswordEncoder;
import org.springframework.stereotype.Service;
import pe.edu.certus.authmodule.jwt.adapters.JwtManager;
import pe.edu.certus.authmodule.logic.model.GoogleLoginModel;
import pe.edu.certus.authmodule.logic.model.LoginRequest;
import pe.edu.certus.authmodule.logic.model.RegisterRequest;
import pe.edu.certus.authmodule.logic.ports.driver.ForAuth;
import pe.edu.certus.authmodule.repository.entity.AuthEntity;
import pe.edu.certus.authmodule.repository.ports.driver.ForQueryingAuth;
import pe.edu.certus.peoplemodule.logic.model.PeopleModel;
import pe.edu.certus.peoplemodule.logic.ports.driver.ForPeople;

import java.io.IOException;
import java.util.Collections;
import java.util.HashMap;
import java.util.Optional;

@Service
public class AuthManager implements ForAuth {

    private final ForQueryingAuth forQueryingAuth;
    private final PasswordEncoder passwordEncoder;
    private final JwtManager jwtManager;
    private final ForPeople<PeopleModel, Long> forPeople;
    private final GoogleIdTokenVerifier googleIdTokenVerifier;

    public AuthManager(ForQueryingAuth forQueryingAuth, PasswordEncoder passwordEncoder, JwtManager jwtManager, ForPeople<PeopleModel, Long> forPeople, @Value("${google.client-id}") String clientId) {
        this.forQueryingAuth = forQueryingAuth;
        this.passwordEncoder = passwordEncoder;
        this.jwtManager = jwtManager;
        this.forPeople = forPeople;
        this.googleIdTokenVerifier = new GoogleIdTokenVerifier.Builder(new NetHttpTransport(), GsonFactory.getDefaultInstance())
                .setAudience(Collections.singletonList(clientId))
                .build();
    }


    @Override
    public String login(LoginRequest request) throws IOException, JOSEException {
        // CORRECCIÓN: Usar getEmail() en lugar de getUserEmail()
        AuthEntity user = forQueryingAuth.findByUserEmail(request.getEmail())
                .orElseThrow(() -> new IllegalArgumentException("Usuario o contraseña incorrectos"));
        // CORRECCIÓN: Usar getPassword() en lugar de getUserPassword()
        if (!passwordEncoder.matches(request.getPassword(), user.getUserPassword())) {
            throw new IllegalArgumentException("Usuario o contraseña incorrectos");
        }
        return jwtManager.generateJWT(user.getId());
    }

    @Override
    public void register(RegisterRequest request) {
        // CORRECCIÓN: Usar getEmail(), getName(), getLastname()
        if (forQueryingAuth.findByUserEmail(request.getEmail()).isPresent()) {
            throw new IllegalArgumentException("El correo ya está registrado");
        }
        AuthEntity user = new AuthEntity();
        user.setUserEmail(request.getEmail());
        user.setUserPassword(passwordEncoder.encode(request.getPassword()));
        user.setIdRole(3L); // Por defecto rol de Comprador al registrarse
        user = forQueryingAuth.save(user);

        PeopleModel person = PeopleModel.builder()
                .idUser(user.getId())
                .personName(request.getName())
                .personLastname(request.getLastname())
                .build();
        forPeople.createPeople(person);
    }

    @Override
    public HashMap<String, String> loginWithGoogle(GoogleLoginModel request) {
        try {
            GoogleIdToken idToken = googleIdTokenVerifier.verify(request.getIdToken());
            if (idToken == null) {
                throw new IllegalArgumentException("Invalid Google ID token.");
            }
            GoogleIdToken.Payload payload = idToken.getPayload();
            String email = payload.getEmail();
            Optional<AuthEntity> userOptional = forQueryingAuth.findByUserEmail(email);
            AuthEntity user;
            if (userOptional.isPresent()) {
                user = userOptional.get();
            } else {
                user = new AuthEntity();
                user.setUserEmail(email);
                user.setUserPassword(passwordEncoder.encode(java.util.UUID.randomUUID().toString()));
                user.setIdRole(3L);
                user = forQueryingAuth.save(user);
                String givenName = (String) payload.get("given_name");
                String familyName = (String) payload.get("family_name");
                String pictureUrl = (String) payload.get("picture");
                PeopleModel newPersonProfile = PeopleModel.builder()
                        .idUser(user.getId())
                        .personName(givenName != null ? givenName : "Usuario")
                        .personLastname(familyName != null ? familyName : "Google")
                        .personProfileImageUrl(pictureUrl)
                        .build();
                forPeople.createPeople(newPersonProfile);
            }
            HashMap<String, String> jwt = new HashMap<>();
            jwt.put("jwt", jwtManager.generateJWT(user.getId()));
            return jwt;
        } catch (Exception e) {
            System.err.println("Error en login con Google: " + e.getMessage());
            e.printStackTrace();
            HashMap<String, String> error = new HashMap<>();
            error.put("error", "Error interno al procesar token de Google.");
            return error;
        }
    }
}
</file>

<file path="auth-module/src/main/java/pe/edu/certus/authmodule/logic/adapters/driven/GoogleAuthManager.java">
package pe.edu.certus.authmodule.logic.adapters.driven;

import com.google.api.client.googleapis.auth.oauth2.GoogleIdToken;
import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;
import org.springframework.security.crypto.password.PasswordEncoder;
import org.springframework.stereotype.Service;
import pe.edu.certus.authmodule.jwt.adapters.JwtManager;
import pe.edu.certus.authmodule.logic.ports.driven.ForVerifyingGoogleToken;
import pe.edu.certus.authmodule.logic.ports.driver.ForGoogleAuth;
import pe.edu.certus.authmodule.repository.entity.AuthEntity;
import pe.edu.certus.authmodule.repository.ports.driver.ForQueryingAuth;
import pe.edu.certus.peoplemodule.logic.model.PeopleModel;
import pe.edu.certus.peoplemodule.logic.ports.driver.ForPeople;

import java.util.HashMap;
import java.util.Optional;

@Service
public class GoogleAuthManager implements ForGoogleAuth {

    private final ForVerifyingGoogleToken forVerifyingGoogleToken;
    private final ForQueryingAuth forQueryingAuth;
    private final JwtManager jwtManager;
    private final BCryptPasswordEncoder passwordEncoder;
    private final ForPeople<PeopleModel, Long> forPeople;

    public GoogleAuthManager(ForVerifyingGoogleToken forVerifyingGoogleToken,
                             ForQueryingAuth forQueryingAuth,
                             JwtManager jwtManager,
                             PasswordEncoder passwordEncoder,
                             ForPeople< PeopleModel, Long> forPeople) {
        this.forVerifyingGoogleToken = forVerifyingGoogleToken;
        this.forQueryingAuth = forQueryingAuth;
        this.jwtManager = jwtManager;
        this.passwordEncoder = (BCryptPasswordEncoder) passwordEncoder;
        this.forPeople = forPeople;
    }

    @Override
    public HashMap<String, String> loginWithGoogle(String idTokenString) throws Exception {
        try {
            GoogleIdToken.Payload payload = forVerifyingGoogleToken.verifyGoogleToken(idTokenString);
            String email = payload.getEmail();
            Optional<AuthEntity> userOptional = forQueryingAuth.findByUserEmail(email);

            AuthEntity user;
            if (userOptional.isPresent()) {
                user = userOptional.get();
            } else {
                user = new AuthEntity();
                user.setUserEmail(email);
                user.setUserPassword(passwordEncoder.encode(java.util.UUID.randomUUID().toString()));
                user.setIdRole(3L);
                user = forQueryingAuth.save(user);

                String givenName = (String) payload.get("given_name");
                String familyName = (String) payload.get("family_name");
                String pictureUrl = (String) payload.get("picture");

                PeopleModel newPersonProfile = PeopleModel.builder()
                        .idUser(user.getId())
                        .personName(givenName != null ? givenName : "Usuario")
                        .personLastname(familyName != null ? familyName : "Google")
                        .personProfileImageUrl(pictureUrl)
                        .build();

                forPeople.createPeople(newPersonProfile);
            }

            HashMap<String, String> jwt = new HashMap<>();
            jwt.put("jwt", jwtManager.generateJWT(user.getId()));
            return jwt;
        } catch (Exception e) {
            System.err.println("Error processing Google login: " + e.getMessage());
            HashMap<String, String> error = new HashMap<>();
            error.put("error", "Invalid Google Token or server error.");
            return error;
        }
    }
}
</file>

<file path="auth-module/src/main/java/pe/edu/certus/authmodule/logic/adapters/driven/RegisterManager.java">
package pe.edu.certus.authmodule.logic.adapters.driven;

import org.springframework.security.crypto.password.PasswordEncoder;
import org.springframework.stereotype.Service;
import pe.edu.certus.authmodule.logic.model.RegisterRequest;
import pe.edu.certus.authmodule.logic.ports.driver.ForRegister;
import pe.edu.certus.authmodule.repository.entity.AuthEntity;
import pe.edu.certus.authmodule.repository.ports.driver.ForQueryingAuth;
import pe.edu.certus.peoplemodule.logic.model.PeopleModel;
import pe.edu.certus.peoplemodule.logic.ports.driver.ForPeople;

@Service
public class RegisterManager implements ForRegister {

    private final ForQueryingAuth forQueryingAuth;
    private final PasswordEncoder passwordEncoder;
    private final ForPeople<PeopleModel, Long> forPeople;

    public RegisterManager(ForQueryingAuth forQueryingAuth, PasswordEncoder passwordEncoder, ForPeople<PeopleModel, Long> forPeople) {
        this.forQueryingAuth = forQueryingAuth;
        this.passwordEncoder = passwordEncoder;
        this.forPeople = forPeople;
    }

    @Override
    public void register(RegisterRequest request) {
        if (forQueryingAuth.findByUserEmail(request.getEmail()).isPresent()) {
            throw new IllegalArgumentException("El correo ya está registrado");
        }

        AuthEntity user = new AuthEntity();
        user.setUserEmail(request.getEmail());
        user.setUserPassword(passwordEncoder.encode(request.getPassword()));
        user.setIdRole(3L);

        user = forQueryingAuth.save(user);

        PeopleModel person = PeopleModel.builder()
                .idUser(user.getId())
                .personName(request.getName())
                .personLastname(request.getLastname())
                .build();
        forPeople.createPeople(person);
    }
}
</file>

<file path="auth-module/src/main/java/pe/edu/certus/authmodule/logic/adapters/driver/AuthAdapter.java">
package pe.edu.certus.authmodule.logic.adapters.driver;

import org.springframework.http.ResponseEntity;
import org.springframework.web.bind.annotation.*;
import pe.edu.certus.authmodule.logic.model.GoogleLoginModel;
import pe.edu.certus.authmodule.logic.model.LoginRequest;
import pe.edu.certus.authmodule.logic.model.RegisterRequest;
import pe.edu.certus.authmodule.logic.ports.driver.ForAuth;

import java.util.HashMap;

@RestController
@RequestMapping("/api/v1/auth")
public class AuthAdapter {
    private final ForAuth forAuth;

    public AuthAdapter(ForAuth forAuth) {
        this.forAuth = forAuth;
    }

    @PostMapping("/login")
    public ResponseEntity<?> login(@RequestBody LoginRequest request) {
        try {
            String jwt = forAuth.login(request);
            HashMap<String, String> response = new HashMap<>();
            response.put("jwt", jwt);
            return ResponseEntity.ok(response);
        } catch (Exception e) {
            HashMap<String, String> error = new HashMap<>();
            error.put("error", e.getMessage());
            return ResponseEntity.status(401).body(error);
        }
    }

    @PostMapping("/register")
    public ResponseEntity<?> register(@RequestBody RegisterRequest request) {
        try {
            forAuth.register(request);
            HashMap<String, String> response = new HashMap<>();
            response.put("message", "Usuario registrado correctamente");
            return ResponseEntity.ok(response);
        } catch (IllegalArgumentException e) {
            HashMap<String, String> error = new HashMap<>();
            error.put("error", e.getMessage());
            return ResponseEntity.badRequest().body(error);
        }
    }

    @PostMapping("/google-login")
    public ResponseEntity<?> loginWithGoogle(@RequestBody GoogleLoginModel request) {
        try {
            return ResponseEntity.ok(forAuth.loginWithGoogle(request));
        } catch (Exception e) {
            HashMap<String, String> error = new HashMap<>();
            error.put("error", e.getMessage());
            return ResponseEntity.status(401).body(error);
        }
    }
}
</file>

<file path="auth-module/src/main/java/pe/edu/certus/authmodule/logic/model/GoogleLoginModel.java">
package pe.edu.certus.authmodule.logic.model;

import lombok.Getter;
import lombok.Setter;

@Getter
@Setter
public class GoogleLoginModel {
    private String idToken;
}
</file>

<file path="auth-module/src/main/java/pe/edu/certus/authmodule/logic/model/LoginModel.java">
package pe.edu.certus.authmodule.logic.model;

public interface LoginModel {
    String login(LoginRequest request);
}
</file>

<file path="auth-module/src/main/java/pe/edu/certus/authmodule/logic/ports/driver/ForAuth.java">
package pe.edu.certus.authmodule.logic.ports.driver;

import com.nimbusds.jose.JOSEException;
import pe.edu.certus.authmodule.logic.model.LoginRequest;
import pe.edu.certus.authmodule.logic.model.RegisterRequest;
import pe.edu.certus.authmodule.logic.model.GoogleLoginModel;

import java.io.IOException;
import java.util.HashMap;

public interface ForAuth {
    String login(LoginRequest request) throws IOException, JOSEException;
    void register(RegisterRequest request);
    HashMap<String, String> loginWithGoogle(GoogleLoginModel request);
}
</file>

<file path="auth-module/src/main/resources/application.properties">
spring.application.name=auth-module
</file>

<file path="bootloader/src/main/java/pe/edu/certus/bootloader/config/BootComponentScan.java">
//package pe.edu.certus.bootloader.config;
//
//import org.springframework.context.annotation.ComponentScan;
//import org.springframework.context.annotation.Configuration;
//
//@Configuration
//@ComponentScan(basePackages = {
//        "pe.edu.certus.authmodule",
//        "pe.edu.certus.peoplemodule",
//        "pe.edu.certus.usersmodule",
//        "pe.edu.certus.worksmodule",
//        "pe.edu.certus.paypalmodule",
//        "pe.edu.certus.uimodule"})
//public class BootComponentScan {
//}
</file>

<file path="bootloader/src/main/resources/database/data.sql">
-- =================================================================
-- CERTUS MARKETPLACE - SCRIPT DE INSERCIÓN DE DATOS
-- Versión: 2.3 (Corregido y Optimizado)
-- =================================================================
USE db_mk_certus;

-- PASO 1: Tablas maestras sin dependencias
INSERT IGNORE INTO roles (role_id, role_name, role_description) VALUES
(1, 'Administrator', 'Acceso total a la gestión de la plataforma.'),
(2, 'Seller', 'Usuario que puede publicar y vender trabajos.'),
(3, 'Buyer', 'Usuario que puede buscar y comprar trabajos.');

INSERT IGNORE INTO work_categories (category_id, category_name, category_description, banner_image_url) VALUES 
(1, 'Software', 'Soluciones digitales que transforman tu mundo, hechas a tu medida.', '/img/works/banner-software.jpg'),
(2, 'Cursos', 'Aprende y domina nuevas habilidades con nuestros cursos especializados.', '/img/works/banner-cursos.jpg'),
(3, 'Música y Audio', 'Encuentra pistas, efectos y recursos de audio para tus creaciones.', '/img/works/banner-music.jpg'),
(4, 'Ilustraciones', 'Descubre arte digital único y personalizable para tus proyectos.', '/img/works/banner-ilustraciones.jpg');

-- PASO 2: Inserción de usuarios con su rol
INSERT IGNORE INTO users (user_id, id_role, user_email, user_password, user_status) VALUES 
(1, 1, 'admin@certus.edu.pe', '$2a$10$E.qfR0s1T2u3V4i5O6p7A.AbCdEfGhIjKlMnO7pQrStU', TRUE),
(2, 2, 'regina.perez@certus.edu.pe', '$2a$10$E.qfR0s1T2u3V4i5O6p7A.AbCdEfGhIjKlMnO7pQrStU', TRUE),
(3, 2, 'lucia.ramos@certus.edu.pe', '$2a$10$E.qfR0s1T2u3V4i5O6p7A.AbCdEfGhIjKlMnO7pQrStU', TRUE),
(4, 2, 'jose.ramirez@certus.edu.pe', '$2a$10$E.qfR0s1T2u3V4i5O6p7A.AbCdEfGhIjKlMnO7pQrStU', TRUE),
(5, 2, 'javier.pena@certus.edu.pe', '$2a$10$E.qfR0s1T2u3V4i5O6p7A.AbCdEfGhIjKlMnO7pQrStU', TRUE),
(6, 2, 'hugo.medina@certus.edu.pe', '$2a$10$E.qfR0s1T2u3V4i5O6p7A.AbCdEfGhIjKlMnO7pQrStU', TRUE),
(7, 2, 'cesar.acuna@certus.edu.pe', '$2a$10$E.qfR0s1T2u3V4i5O6p7A.AbCdEfGhIjKlMnO7pQrStU', TRUE),
(8, 2, 'elena.rivas@certus.edu.pe', '$2a$10$E.qfR0s1T2u3V4i5O6p7A.AbCdEfGhIjKlMnO7pQrStU', TRUE),
(9, 2, 'enrique.penanieto@certus.edu.pe', '$2a$10$E.qfR0s1T2u3V4i5O6p7A.AbCdEfGhIjKlMnO7pQrStU', TRUE),
(10, 2, 'vendedor.diez@certus.edu.pe', '$2a$10$E.qfR0s1T2u3V4i5O6p7A.AbCdEfGhIjKlMnO7pQrStU', TRUE),
(11, 2, 'vendedor.once@certus.edu.pe', '$2a$10$E.qfR0s1T2u3V4i5O6p7A.AbCdEfGhIjKlMnO7pQrStU', TRUE),
(12, 3, 'comprador.uno@gmail.com', '$2a$10$E.qfR0s1T2u3V4i5O6p7A.AbCdEfGhIjKlMnO7pQrStU', TRUE),
(13, 3, 'comprador.dos@hotmail.com', '$2a$10$E.qfR0s1T2u3V4i5O6p7A.AbCdEfGhIjKlMnO7pQrStU', TRUE),
(14, 3, 'comprador.tres@outlook.com', '$2a$10$E.qfR0s1T2u3V4i5O6p7A.AbCdEfGhIjKlMnO7pQrStU', TRUE),
(15, 3, 'comprador.cuatro@gmail.com', '$2a$10$E.qfR0s1T2u3V4i5O6p7A.AbCdEfGhIjKlMnO7pQrStU', TRUE),
(16, 3, 'comprador.cinco@gmail.com', '$2a$10$E.qfR0s1T2u3V4i5O6p7A.AbCdEfGhIjKlMnO7pQrStU', TRUE),
(17, 3, 'comprador.seis@hotmail.com', '$2a$10$E.qfR0s1T2u3V4i5O6p7A.AbCdEfGhIjKlMnO7pQrStU', TRUE),
(18, 3, 'comprador.siete@gmail.com', '$2a$10$E.qfR0s1T2u3V4i5O6p7A.AbCdEfGhIjKlMnO7pQrStU', TRUE),
(19, 3, 'comprador.ocho@outlook.com', '$2a$10$E.qfR0s1T2u3V4i5O6p7A.AbCdEfGhIjKlMnO7pQrStU', TRUE),
(20, 3, 'comprador.nueve@gmail.com', '$2a$10$E.qfR0s1T2u3V4i5O6p7A.AbCdEfGhIjKlMnO7pQrStU', TRUE),
(21, 3, 'comprador.diez@hotmail.com', '$2a$10$E.qfR0s1T2u3V4i5O6p7A.AbCdEfGhIjKlMnO7pQrStU', TRUE);

-- PASO 3: Inserción de perfiles de personas (CORREGIDO)
INSERT IGNORE INTO people (id_user, person_name, person_lastname, person_profile_image_url) VALUES 
(1, 'Admin', 'Certus', '/img/profiles/admin.png'),
(2, 'Regina', 'Perez', '/img/profiles/regina_perez.png'),
(3, 'Lucía', 'Ramos', '/img/profiles/lucia_ramos.png'),
(4, 'José', 'Ramirez', '/img/profiles/jose_ramirez.png'),
(5, 'Javier', 'Peña', '/img/profiles/javier_pena.png'),
(6, 'Hugo', 'Medina', '/img/profiles/hugo_medina.png'),
(7, 'César', 'Acuña', '/img/profiles/cesar_acuna.png'),
(8, 'Elena', 'Rivas', '/img/profiles/elena_rivas.png'),
(9, 'Enrique', 'Peñanieto', '/img/profiles/enrique_penanieto.png'),
(10, 'Carlos', 'Díaz', '/img/profiles/carlos_diaz.png'),
(11, 'Martina', 'Cueva', '/img/profiles/martina_cueva.png'),
(12, 'Carlos', 'Gómez', '/img/profiles/comprador1.png'),
(13, 'Ana', 'Torres', '/img/profiles/comprador2.png'),
(14, 'Luis', 'Díaz', '/img/profiles/comprador3.png'),
(15, 'Sofía', 'Mendoza', '/img/profiles/comprador4.png'),
(16, 'David', 'Rojas', '/img/profiles/comprador5.png'),
(17, 'Laura', 'Castillo', '/img/profiles/comprador6.png'),
(18, 'Miguel', 'Vargas', '/img/profiles/comprador7.png'),
(19, 'Isabella', 'Soto', '/img/profiles/comprador8.png'),
(20, 'Mateo', 'Flores', '/img/profiles/comprador9.png'),
(21, 'Camila', 'Reyes', '/img/profiles/comprador10.png');

-- PASO 4: Inserción de trabajos de prueba (Sin cambios)
INSERT IGNORE INTO works (work_id, id_seller_user, id_work_category, work_title, work_description, work_price, work_image_url, work_status) VALUES
(1, 2, 1, 'Landing Page para Cafetería', 'Diseño y desarrollo de una landing page moderna y atractiva para cafeterías, optimizada para la conversión de clientes.', 220.00, '/img/works/landing-cafe.jpg', 'PUBLICADO'),
(2, 3, 1, 'Aplicación Móvil para Tienda', 'Desarrollo de una aplicación móvil nativa para iOS y Android que permite a tus clientes comprar tus productos desde cualquier lugar.', 480.00, '/img/works/app-tienda.jpg', 'PUBLICADO'),
(3, 4, 1, 'Portal Web para Colegio', 'Solución web integral para instituciones educativas que incluye gestión de alumnos, notas, y comunicación con padres de familia.', 520.00, '/img/works/web-colegio.jpg', 'PUBLICADO'),
(4, 5, 4, 'UI para App de Delivery', 'Diseño profesional de la interfaz y experiencia de usuario para tu aplicación de delivery, enfocado en la usabilidad y la estética.', 400.00, '/img/works/app-delivery.jpg', 'PUBLICADO'),
(5, 6, 1, 'Sitio Web para Consultora de TI', 'Creación de un sitio web corporativo profesional para empresas de consultoría tecnológica, destacando servicios y casos de éxito.', 590.00, '/img/works/web-consultoria.jpg', 'PUBLICADO'),
(6, 7, 1, 'Portal Web para Servicios Legales', 'Portal web especializado para estudios de abogados, con un diseño sobrio, profesional y que inspira confianza.', 480.00, '/img/works/web-legal.jpg', 'PUBLICADO'),
(7, 4, 1, 'App Web de Seguimiento de Proyectos', 'Aplicación web robusta para la gestión y seguimiento de tareas y proyectos en equipo, al estilo Trello o Asana.', 580.00, '/img/works/app-seguimiento.jpg', 'EN_REVISION'),
(8, 5, 4, 'Diseño de App de Recetas Saludables', 'Diseño de interfaz atractivo y funcional para una aplicación móvil de recetas saludables, con un enfoque en la fotografía de alimentos.', 400.00, '/img/works/app-recetas.jpg', 'PUBLICADO'),
(9, 8, 2, 'Curso: Diseño UX para Principiantes', 'Aprende los fundamentos del diseño de experiencia de usuario (UX) desde cero, con ejercicios prácticos y teoría aplicada.', 150.00, '/img/works/diseño-principiantes.jpg', 'PUBLICADO'),
(10, 2, 3, 'Composición Instrumental de Jazz', 'Pieza de jazz instrumental original con una duración de 3 minutos, perfecta para cortometrajes, podcasts o música de fondo.', 75.00, '/img/works/jazz.jpg', 'PUBLICADO'),
(11, 3, 2, 'Curso: Introducción a la Animación 2D', 'Descubre el mundo de la animación 2D. Aprenderás a crear personajes, fondos y a darles vida con principios básicos de animación.', 280.00, '/img/works/animacion-2d.jpg', 'PUBLICADO'),
(12, 2, 4, 'Retrato Digital Infantil', 'Transformo la foto de un niño en un adorable retrato digital estilo caricatura, ideal para regalos y decoración.', 60.00, '/img/works/retrato-infantil.jpg', 'PUBLICADO'),
(13, 3, 3, 'Efectos de Sonido para Videojuego', 'Paquete de 50 efectos de sonido de alta calidad (pasos, saltos, explosiones, etc.) para tu videojuego de plataforma.', 300.00, '/img/works/juego.jpg', 'PUBLICADO'),
(14, 9, 3, 'Música Ambiental para Cafetería', 'Playlist curada con 1 hora de música ambiental original, estilo lofi/chillhop, para crear una atmósfera relajante.', 120.00, '/img/works/musica-cafe.jpg', 'EN_REVISION'),
(15, 5, 3, 'Canción Personalizada para Regalar', 'Compongo y grabo una canción original (letra y música) basada en tu historia, perfecta para aniversarios o sorpresas.', 350.00, '/img/works/music-regalo.jpg', 'PUBLICADO'),
(16, 3, 4, 'Ilustración para Portada Estilo Yakuza', 'Ilustración detallada y potente con estética inspirada en el arte de los videojuegos de la saga Yakuza, para portadas o pósters.', 170.00, '/img/works/ilustracion-portada.jpg', 'PUBLICADO'),
(17, 9, 4, 'Diseño de Logo Frutal y Vibrante', 'Creación de un logo moderno, colorido y memorable con temática de frutas, ideal para marcas de jugos o postres.', 180.00, '/img/works/logo-frutal.jpg', 'PUBLICADO'),
(18, 9, 2, 'Curso: Marketing Digital Desde Cero', 'Domina las estrategias de marketing digital para potenciar negocios, desde redes sociales hasta SEO y SEM.', 250.00, '/img/works/mrkt-digital.jpg', 'PUBLICADO'),
(19, 5, 2, 'Curso: Introducción a Photoshop', 'Curso completo para dominar Adobe Photoshop desde lo más básico, ideal para principiantes que quieren iniciarse en el diseño gráfico.', 80.00, '/img/works/introduccion-photo.jpg', 'PUBLICADO'),
(20, 4, 4, 'Ilustración conceptual: Mundo Animal', 'Obra de arte digital que representa la dualidad del mundo animal, explorando la belleza y la crudeza de la naturaleza.', 110.00, '/img/works/mundo-animal.jpg', 'PUBLICADO');

-- PASO 5: Datos transaccionales (Sin cambios)
INSERT IGNORE INTO orders (id_user) VALUES (12), (13), (14), (15), (16);

INSERT IGNORE INTO order_details (id_order, id_work, order_detail_quantity, order_detail_unit_price) VALUES
(1, 1, 1, 220.00), (2, 2, 1, 480.00), (3, 3, 1, 520.00), (4, 4, 1, 400.00), (5, 5, 1, 590.00);

INSERT IGNORE INTO ratings (work_id, user_id, order_id, rating_score, rating_comment) VALUES
(1, 12, 1, 5, '¡El mejor landing page que he visto! Superó mis expectativas.'),
(2, 13, 2, 4, 'La app es funcional, aunque la interfaz podría ser un poco más moderna.'),
(3, 14, 3, 5, 'Excelente portal, muy completo y fácil de usar para nuestros docentes.'),
(4, 15, 4, 4, 'Buen diseño UI, pero tardó un poco en la entrega de los prototipos.'),
(5, 16, 5, 5, 'Un trabajo muy profesional. El sitio web de mi consultora quedó perfecto.');

INSERT IGNORE INTO comments (id_work, id_user, comment_body, comment_is_deleted) VALUES 
(1, 13, 'Hola, ¿el diseño es responsive? Se adapta bien a móviles?', FALSE),
(4, 12, '¿Se pueden añadir más opciones de pago en la app de delivery?', FALSE);

INSERT IGNORE INTO comments (id_work, id_user, id_parent_comment, comment_body, comment_is_deleted) VALUES 
(1, 2, 1, '¡Hola! Sí, por supuesto. Todos mis diseños son 100% responsivos.', FALSE),
(4, 5, 2, 'Claro, podemos integrarlo con la pasarela de pagos que necesites. Contáctame y lo vemos.', FALSE);

-- FIN DEL SCRIPT
</file>

<file path="bootloader/src/main/resources/database/schema.sql">
-- =================================================================
-- CERTUS MARKETPLACE - SCRIPT DE CREACIÓN DE BASE DE DATOS
-- Versión: 2.3 (Corregido y Optimizado)
-- =================================================================

DROP DATABASE IF EXISTS db_mk_certus;
CREATE DATABASE db_mk_certus;
USE db_mk_certus;

-- TABLA [1]: roles
CREATE TABLE roles (
                       role_id BIGINT AUTO_INCREMENT PRIMARY KEY,
                       role_name VARCHAR(50) NOT NULL UNIQUE,
                       role_description TEXT
);

-- TABLA [2]: permissions
CREATE TABLE permissions (
                             permission_id BIGINT AUTO_INCREMENT PRIMARY KEY,
                             permission_name VARCHAR(50) NOT NULL UNIQUE,
                             permission_description TEXT
);

-- TABLA [3]: roles_permissions (Pivote)
CREATE TABLE roles_permissions (
                                   role_permission_id BIGINT AUTO_INCREMENT PRIMARY KEY,
                                   id_role BIGINT,
                                   id_permission BIGINT,
                                   FOREIGN KEY (id_role) REFERENCES roles(role_id) ON DELETE CASCADE,
                                   FOREIGN KEY (id_permission) REFERENCES permissions(permission_id) ON DELETE CASCADE
);

-- TABLA [4]: users
CREATE TABLE users (
                       user_id BIGINT AUTO_INCREMENT PRIMARY KEY,
                       id_role BIGINT,
                       user_email VARCHAR(100) NOT NULL UNIQUE,
                       user_password VARCHAR(255) NOT NULL,
                       user_created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                       user_updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
                       user_status BOOLEAN DEFAULT TRUE,
                       FOREIGN KEY (id_role) REFERENCES roles(role_id) ON DELETE SET NULL
);

-- TABLA [5]: work_categories
CREATE TABLE work_categories (
                                 category_id BIGINT AUTO_INCREMENT PRIMARY KEY,
                                 category_name VARCHAR(100) NOT NULL UNIQUE,
                                 category_description TEXT,
                                 banner_image_url VARCHAR(255)
);

-- TABLA [6]: people (CORREGIDA)
CREATE TABLE people (
                        person_id BIGINT AUTO_INCREMENT PRIMARY KEY,
                        id_user BIGINT NOT NULL UNIQUE,
                        person_name VARCHAR(100) NOT NULL,
                        person_lastname VARCHAR(100) NOT NULL, -- CAMPO AÑADIDO
                        person_profile_image_url VARCHAR(255) NULL, -- CAMPO AÑADIDO
                        person_dni VARCHAR(8) UNIQUE,
                        person_mobile_phone VARCHAR(15),
                        person_gender VARCHAR(1),
                        person_institute_campus VARCHAR(100),
                        person_institutional_email VARCHAR(100) UNIQUE,
                        person_institutional_career VARCHAR(100),
                        person_current_term INT,
                        FOREIGN KEY (id_user) REFERENCES users(user_id) ON DELETE CASCADE
);

-- TABLA [7]: works (MEJORADA)
CREATE TABLE works (
                       work_id BIGINT AUTO_INCREMENT PRIMARY KEY,
                       id_seller_user BIGINT NOT NULL,
                       id_work_category BIGINT,
                       work_title VARCHAR(150) NOT NULL,
                       work_description TEXT,
                       work_price DECIMAL(10,2) NOT NULL,
                       work_image_url TEXT,
                       work_file_path TEXT,
                       work_published_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                       work_updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
                       work_status ENUM('PUBLICADO', 'EN_REVISION', 'RECHAZADO') DEFAULT 'EN_REVISION',
                       work_is_deleted BOOLEAN NOT NULL DEFAULT FALSE,
                       FOREIGN KEY (id_seller_user) REFERENCES users(user_id),
                       FOREIGN KEY (id_work_category) REFERENCES work_categories(category_id) ON DELETE SET NULL
);

CREATE TABLE work_images (
                             image_id BIGINT AUTO_INCREMENT PRIMARY KEY,
                             id_work BIGINT NOT NULL,
                             image_url TEXT NOT NULL,
                             is_primary BOOLEAN DEFAULT FALSE,
                             uploaded_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
                             FOREIGN KEY (id_work) REFERENCES works(work_id) ON DELETE CASCADE
);

-- TABLA [8]: orders
CREATE TABLE orders (
                        order_id BIGINT AUTO_INCREMENT PRIMARY KEY,
                        id_user BIGINT NOT NULL,
                        order_date DATETIME DEFAULT CURRENT_TIMESTAMP,
                        FOREIGN KEY (id_user) REFERENCES users(user_id)
);

-- TABLA [9]: paypal_payments
CREATE TABLE paypal_payments (
                                 paypal_payment_id BIGINT AUTO_INCREMENT PRIMARY KEY,
                                 id_internal_order BIGINT NOT NULL,
                                 paypal_payment_payer_email VARCHAR(255),
                                 paypal_payment_status VARCHAR(50) NOT NULL,
                                 paypal_payment_transaction_id VARCHAR(255) UNIQUE,
                                 paypal_payment_amount DECIMAL(10, 2) NOT NULL,
                                 paypal_payment_currency VARCHAR(3) NOT NULL,
                                 paypal_payment_transaction_type VARCHAR(50),
                                 paypal_payment_created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
                                 paypal_payment_updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
                                 FOREIGN KEY (id_internal_order) REFERENCES orders(order_id)
);

-- TABLA [10]: order_details

CREATE TABLE order_details (
                               order_detail_id BIGINT AUTO_INCREMENT PRIMARY KEY,
                               id_order BIGINT NOT NULL,
                               id_work BIGINT NOT NULL,
                               order_detail_quantity INT NOT NULL DEFAULT 1,
                               order_detail_unit_price DECIMAL(10, 2) NOT NULL,
                               order_details_status VARCHAR(255) NULL,
                               order_details_total_price DECIMAL(19, 2) NULL,
                               order_details_created_at DATETIME(6) NULL,
                               order_details_access_granted BIT(1) NULL,
                               FOREIGN KEY (id_order) REFERENCES orders(order_id) ON DELETE CASCADE,
                               FOREIGN KEY (id_work) REFERENCES works(work_id)
);
-- TABLA [11]: comments
CREATE TABLE comments (
                          comment_id BIGINT AUTO_INCREMENT PRIMARY KEY,
                          id_work BIGINT NOT NULL,
                          id_user BIGINT NOT NULL,
                          id_parent_comment BIGINT NULL,
                          comment_body TEXT NOT NULL,
                          comment_is_deleted BOOLEAN NOT NULL DEFAULT FALSE,
                          comment_created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
                          comment_updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
                          FOREIGN KEY (id_work) REFERENCES works(work_id) ON DELETE CASCADE,
                          FOREIGN KEY (id_user) REFERENCES users(user_id) ON DELETE CASCADE,
                          FOREIGN KEY (id_parent_comment) REFERENCES comments(comment_id) ON DELETE CASCADE
);

-- TABLA [12]: ratings (MEJORADA)
CREATE TABLE ratings (
                         rating_id BIGINT AUTO_INCREMENT PRIMARY KEY,
                         work_id BIGINT NOT NULL,
                         user_id BIGINT NOT NULL,
                         order_id BIGINT NULL,
                         rating_score TINYINT UNSIGNED NOT NULL CHECK (rating_score BETWEEN 1 AND 5), -- TIPO DE DATO Y RESTRICCIÓN MEJORADOS
                         rating_comment TEXT NULL,
                         rating_created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
                         FOREIGN KEY (work_id) REFERENCES works(work_id) ON DELETE CASCADE,
                         FOREIGN KEY (user_id) REFERENCES users(user_id) ON DELETE CASCADE,
                         FOREIGN KEY (order_id) REFERENCES orders(order_id) ON DELETE SET NULL
);

-- TABLA [13]: social_logins
CREATE TABLE social_logins (
                               social_login_id BIGINT AUTO_INCREMENT PRIMARY KEY,
                               id_user BIGINT NOT NULL,
                               social_login_provider VARCHAR(50) NOT NULL,
                               social_login_provider_user_id VARCHAR(255) NOT NULL,
                               social_login_linked_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
                               FOREIGN KEY (id_user) REFERENCES users(user_id) ON DELETE CASCADE,
                               UNIQUE KEY uq_social_provider_user (social_login_provider, social_login_provider_user_id),
                               UNIQUE KEY uq_social_user_provider (id_user, social_login_provider)
);
</file>

<file path="paypal-module/pom.xml">
<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd">
    <modelVersion>4.0.0</modelVersion>

    <parent>
        <groupId>pe.edu.certus</groupId>
        <artifactId>cm-backend</artifactId>
        <version>0.0.1-SNAPSHOT</version>
    </parent>

    <artifactId>paypal-module</artifactId>
    <name>paypal-module</name>
    <description>Módulo para la gestión de pagos con PayPal</description>
    <url/>

    <properties>
        <java.version>17</java.version>
        <lombok.version>1.18.32</lombok.version>
    </properties>

    <dependencies>
        <dependency>
            <groupId>com.paypal.sdk</groupId>
            <artifactId>checkout-sdk</artifactId>
            <version>2.0.0</version>
        </dependency>

        <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-starter-security</artifactId>
        </dependency>

        <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-starter-data-jpa</artifactId>
        </dependency>

        <dependency>
            <groupId>org.projectlombok</groupId>
            <artifactId>lombok</artifactId>
            <version>${lombok.version}</version>
            <optional>true</optional>
        </dependency>

        <dependency>
            <groupId>ch.qos.logback</groupId>
            <artifactId>logback-classic</artifactId>
        </dependency>
    </dependencies>

    <build>
        <plugins>
            <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-compiler-plugin</artifactId>
                <configuration>
                    <annotationProcessorPaths>
                        <path>
                            <groupId>org.projectlombok</groupId>
                            <artifactId>lombok</artifactId>
                            <version>${lombok.version}</version>
                        </path>
                    </annotationProcessorPaths>
                </configuration>
            </plugin>

        </plugins>
    </build>


</project>
</file>

<file path="paypal-module/src/main/java/pe/edu/certus/paypalmodule/configuration/annotations/PaypalComponentScanConfig.java">
//package pe.edu.certus.paypalmodule.configuration.annotations;
//
//import org.springframework.context.annotation.ComponentScan;
//import org.springframework.context.annotation.Configuration;
//
//@Configuration
//@ComponentScan(basePackages = "pe.edu.certus.paypalmodule")
//public class PaypalComponentScanConfig {
//}
</file>

<file path="paypal-module/src/main/java/pe/edu/certus/paypalmodule/logic/adapters/driven/PaypalManager.java">
package pe.edu.certus.paypalmodule.logic.adapters.driven;

import com.paypal.http.HttpResponse;
import com.paypal.orders.Order;
import com.paypal.orders.PurchaseUnit;
import org.springframework.stereotype.Service;
import pe.edu.certus.paypalmodule.logic.model.CreateOrderResponseModel;
import pe.edu.certus.paypalmodule.logic.model.PaymentDetailModel;
import pe.edu.certus.paypalmodule.logic.ports.driven.ForManagingPaypal;
import pe.edu.certus.paypalmodule.logic.ports.driven.ForPersistingPaypalPayment;
import pe.edu.certus.paypalmodule.logic.ports.driver.ForGettingWorkPrice;
import pe.edu.certus.paypalmodule.logic.ports.driver.ForPaypal;

import java.io.IOException;
import java.math.BigDecimal;
import java.util.List;
import java.util.Optional;

@Service
public class PaypalManager implements ForPaypal {

    private final ForManagingPaypal forManagingPaypal;
    private final ForPersistingPaypalPayment forPersistingPaypalPayment;
    private final ForGettingWorkPrice forGettingWorkPrice;
    private static final String CURRENCY_CODE = "USD";

    public PaypalManager(ForManagingPaypal forManagingPaypal,
                         ForPersistingPaypalPayment forPersistingPaypalPayment,
                         ForGettingWorkPrice forGettingWorkPrice) {
        this.forManagingPaypal = forManagingPaypal;
        this.forPersistingPaypalPayment = forPersistingPaypalPayment;
        this.forGettingWorkPrice = forGettingWorkPrice;
    }

    @Override
    public CreateOrderResponseModel createOrderFromCart(List<Long> workIds) throws IOException, IllegalArgumentException {
        if (workIds == null || workIds.isEmpty()) {
            throw new IllegalArgumentException("El carrito está vacío.");
        }
        BigDecimal totalAmount = workIds.stream()
                .map(forGettingWorkPrice::findWorkPriceById)
                .filter(Optional::isPresent)
                .map(Optional::get)
                .reduce(BigDecimal.ZERO, BigDecimal::add);
        if (totalAmount.compareTo(BigDecimal.ZERO) <= 0) {
            throw new IllegalArgumentException("El monto total del carrito es inválido.");
        }
        return createOrder(totalAmount);
    }

    private CreateOrderResponseModel createOrder(BigDecimal amount) throws IOException {
        HttpResponse<Order> response = forManagingPaypal.initiateOrder(amount, CURRENCY_CODE);
        Order order = response.result();
        String approvalUrl = order.links().stream()
                .filter(link -> "approve".equals(link.rel()))
                .findFirst()
                .map(link -> link.href())
                .orElse(null);
        return CreateOrderResponseModel.builder()
                .orderId(order.id())
                .status(order.status())
                .approvalUrl(approvalUrl)
                .build();
    }

    @Override
    public PaymentDetailModel captureOrder(String orderId, List<Long> workIds, Long buyerUserId) throws IOException {
        HttpResponse<Order> response = forManagingPaypal.confirmOrder(orderId);
        Order order = response.result();

        if (order.status() != null && "COMPLETED".equals(order.status())) {
            PurchaseUnit purchaseUnit = order.purchaseUnits().get(0);
            String transactionId = purchaseUnit.payments().captures().get(0).id();
            BigDecimal capturedAmount = new BigDecimal(purchaseUnit.payments().captures().get(0).amount().value());
            String currency = purchaseUnit.payments().captures().get(0).amount().currencyCode();

            PaymentDetailModel paymentDetail = PaymentDetailModel.builder()
                    .orderId(order.id())
                    .transactionId(transactionId)
                    .status(order.status())
                    .amount(capturedAmount)
                    .currency(currency)
                    .payerEmail(order.payer().email())
                    .payerName(order.payer().name().givenName() + " " + order.payer().name().surname())
                    .build();

            return forPersistingPaypalPayment.createOrderAndSavePayment(paymentDetail, workIds, buyerUserId);
        } else {
            throw new IOException("Fallo al capturar el pago. Estado: " + order.status());
        }
    }
}
</file>

<file path="paypal-module/src/main/java/pe/edu/certus/paypalmodule/logic/adapters/driver/PaypalAdapter.java">
package pe.edu.certus.paypalmodule.logic.adapters.driver;

import lombok.*;
import org.springframework.http.HttpStatus;
import org.springframework.http.ResponseEntity;
import org.springframework.security.core.Authentication;
import org.springframework.web.bind.annotation.*;
import pe.edu.certus.paypalmodule.logic.model.CreateOrderResponseModel;
import pe.edu.certus.paypalmodule.logic.model.PaymentDetailModel;
import pe.edu.certus.paypalmodule.logic.ports.driver.ForPaypal;

import java.io.IOException;
import java.util.List;
import java.util.Map;

@RestController
@RequestMapping("/api/v1/paypal")
public class PaypalAdapter {

    private final ForPaypal forPaypal;

    public PaypalAdapter(ForPaypal forPaypal) {
        this.forPaypal = forPaypal;
    }

    @PostMapping("/create-order-from-cart")
    public ResponseEntity<?> createOrderFromCart(@RequestBody CreateOrderFromCartRequest request) {
        try {
            CreateOrderResponseModel response = forPaypal.createOrderFromCart(request.getWorkIds());
            if (response.getApprovalUrl() == null) {
                return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).body(Map.of("message", "No se pudo obtener el enlace de aprobación de PayPal."));
            }
            return ResponseEntity.ok(Map.of("approvalUrl", response.getApprovalUrl()));
        } catch (IOException e) {
            return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).body(Map.of("message", "Error al crear la orden de PayPal: " + e.getMessage()));
        } catch (IllegalArgumentException e) {
            return ResponseEntity.status(HttpStatus.BAD_REQUEST).body(Map.of("message", e.getMessage()));
        }
    }

    @PostMapping("/capture-order")
    public ResponseEntity<?> captureOrder(@RequestBody CaptureOrderRequest request, Authentication authentication) {
        if (authentication == null || !authentication.isAuthenticated()) {
            return ResponseEntity.status(HttpStatus.UNAUTHORIZED).body(Map.of("message", "Usuario no autenticado."));
        }
        try {
            Long buyerUserId = Long.parseLong(authentication.getName());
            PaymentDetailModel paymentDetails = forPaypal.captureOrder(
                    request.getOrderId(),
                    request.getWorkIds(),
                    buyerUserId
            );
            return ResponseEntity.ok(paymentDetails);
        } catch (IOException e) {
            return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).body(Map.of("message", "Error al capturar el pago de PayPal: " + e.getMessage()));
        } catch (NumberFormatException e) {
            return ResponseEntity.status(HttpStatus.UNAUTHORIZED).body(Map.of("message", "ID de usuario inválido en el token."));
        }
    }

    @Getter
    @Setter
    static class CreateOrderFromCartRequest {
        private List<Long> workIds;
    }

    @Getter
    @Setter
    static class CaptureOrderRequest {
        private String orderId;
        private List<Long> workIds;
    }
}
</file>

<file path="paypal-module/src/main/java/pe/edu/certus/paypalmodule/logic/model/CreateOrderResponseModel.java">
package pe.edu.certus.paypalmodule.logic.model;

import lombok.*;

@Getter
@Setter
@Builder
@AllArgsConstructor
@NoArgsConstructor
public class CreateOrderResponseModel {
    private String orderId;
    private String status;
    private String approvalUrl;
}
</file>

<file path="paypal-module/src/main/java/pe/edu/certus/paypalmodule/logic/ports/driven/ForPersistingPaypalPayment.java">
package pe.edu.certus.paypalmodule.logic.ports.driven;

import pe.edu.certus.paypalmodule.logic.model.PaymentDetailModel;

import java.util.List;

public interface ForPersistingPaypalPayment {
    PaymentDetailModel createOrderAndSavePayment( PaymentDetailModel paymentDetail, List< Long > workId, Long buyerUserId);
}
</file>

<file path="paypal-module/src/main/java/pe/edu/certus/paypalmodule/logic/ports/driver/ForPaypal.java">
package pe.edu.certus.paypalmodule.logic.ports.driver;

import pe.edu.certus.paypalmodule.logic.model.CreateOrderResponseModel;
import pe.edu.certus.paypalmodule.logic.model.PaymentDetailModel;

import java.io.IOException;
import java.util.List;

public interface ForPaypal {
    CreateOrderResponseModel createOrderFromCart(List<Long> workIds) throws IOException, IllegalArgumentException;
    PaymentDetailModel captureOrder(String orderId, List<Long> workIds, Long buyerUserId) throws IOException;
}
</file>

<file path="paypal-module/src/main/java/pe/edu/certus/paypalmodule/repository/adapters/driver/PaypalPersistenceProxy.java">
package pe.edu.certus.paypalmodule.repository.adapters.driver;

import jakarta.transaction.Transactional;
import org.springframework.stereotype.Service;
import pe.edu.certus.paypalmodule.logic.model.PaymentDetailModel;
import pe.edu.certus.paypalmodule.logic.ports.driven.ForPersistingPaypalPayment;
import pe.edu.certus.paypalmodule.logic.ports.driver.ForGettingWorkPrice;
import pe.edu.certus.paypalmodule.repository.entity.OrderDetailEntity;
import pe.edu.certus.paypalmodule.repository.entity.OrderEntity;
import pe.edu.certus.paypalmodule.repository.entity.PaypalPaymentEntity;
import pe.edu.certus.paypalmodule.repository.ports.driver.ForQueryingOrderDetails;
import pe.edu.certus.paypalmodule.repository.ports.driver.ForQueryingOrders;
import pe.edu.certus.paypalmodule.repository.ports.driver.ForQueryingPaypalPayments;
import pe.edu.certus.paypalmodule.repository.ports.mapper.ForBridgingPaypalPayment;

import java.math.BigDecimal;
import java.util.List;

@Service
public class PaypalPersistenceProxy implements ForPersistingPaypalPayment {

    private final ForQueryingOrders forQueryingOrders;
    private final ForQueryingPaypalPayments forQueryingPaypalPayments;
    private final ForBridgingPaypalPayment forBridgingPaypalPayment;
    private final ForQueryingOrderDetails forQueryingOrderDetails;
    private final ForGettingWorkPrice forGettingWorkPrice;

    public PaypalPersistenceProxy(ForQueryingOrders forQueryingOrders,
                                  ForQueryingPaypalPayments forQueryingPaypalPayments,
                                  ForBridgingPaypalPayment forBridgingPaypalPayment,
                                  ForQueryingOrderDetails forQueryingOrderDetails,
                                  ForGettingWorkPrice forGettingWorkPrice) {
        this.forQueryingOrders = forQueryingOrders;
        this.forQueryingPaypalPayments = forQueryingPaypalPayments;
        this.forBridgingPaypalPayment = forBridgingPaypalPayment;
        this.forQueryingOrderDetails = forQueryingOrderDetails;
        this.forGettingWorkPrice = forGettingWorkPrice;
    }

    @Override
    @Transactional
    public PaymentDetailModel createOrderAndSavePayment(PaymentDetailModel paymentDetail, List<Long> workIds, Long buyerUserId) {
        // 1. Crear la orden principal
        OrderEntity newOrder = OrderEntity.builder()
                .idUser(buyerUserId)
                .build();
        OrderEntity savedOrder = forQueryingOrders.save(newOrder);
        Long internalOrderId = savedOrder.getOrderId();

        System.out.println("Orden interna creada con ID: " + internalOrderId);

        // 2. Crear los detalles de la orden para cada trabajo
        for (Long workId : workIds) {
            BigDecimal price = forGettingWorkPrice.findWorkPriceById(workId)
                    .orElseThrow(() -> new IllegalArgumentException("No se pudo encontrar el precio para el trabajo con ID: " + workId));

            // Creamos la entidad de detalle de orden con los datos necesarios
            OrderDetailEntity orderDetail = OrderDetailEntity.builder()
                    .order(savedOrder)
                    .workId(workId)
                    .quantity(1) // Asumimos que siempre se compra 1 unidad de cada trabajo digital
                    .unitPrice(price)
                    .status("PAID") // Estado explícito de pago
                    .accessGranted(true) // Se concede el acceso inmediatamente
                    .build();

            forQueryingOrderDetails.save(orderDetail);
            System.out.println("Detalle de orden guardado para el trabajo ID: " + workId + " en la orden " + internalOrderId);
        }

        // 3. Guardar la información del pago de PayPal
        PaypalPaymentEntity paymentEntity = forBridgingPaypalPayment.toPersistence(paymentDetail, internalOrderId, "Sale");
        forQueryingPaypalPayments.save(paymentEntity);

        System.out.println("Pago de PayPal con transaction ID " + paymentEntity.getPaypalPaymentTransactionId() + " guardado para la orden " + internalOrderId);

        return paymentDetail;
    }
}
</file>

<file path="paypal-module/src/main/java/pe/edu/certus/paypalmodule/repository/adapters/driver/PaypalServiceProxy.java">
package pe.edu.certus.paypalmodule.repository.adapters.driver;

import com.paypal.core.PayPalHttpClient;
import com.paypal.http.HttpResponse;
import com.paypal.orders.*;
import org.springframework.stereotype.Service;
import pe.edu.certus.paypalmodule.logic.ports.driven.ForManagingPaypal;

import java.io.IOException;
import java.math.BigDecimal;
import java.util.List;

@Service
public class PaypalServiceProxy implements ForManagingPaypal {

    private final PayPalHttpClient client;
    private final String appBaseUrl = "http://localhost:8080";

    public PaypalServiceProxy(PayPalHttpClient client) {
        this.client = client;
    }

    @Override
    public HttpResponse<Order> initiateOrder(BigDecimal amount, String currency) throws IOException {
        OrdersCreateRequest request = new OrdersCreateRequest();
        request.prefer("return=representation");
        request.requestBody(buildRequestBody(amount, currency));
        return client.execute(request);
    }

    @Override
    public HttpResponse<Order> confirmOrder(String orderId) throws IOException {
        OrdersCaptureRequest request = new OrdersCaptureRequest(orderId);
        request.requestBody(new OrderRequest());
        return client.execute(request);
    }

    private OrderRequest buildRequestBody(BigDecimal amount, String currency) {
        OrderRequest orderRequest = new OrderRequest();
        orderRequest.checkoutPaymentIntent("CAPTURE");

        AmountWithBreakdown amountWithBreakdown = new AmountWithBreakdown()
                .currencyCode(currency)
                .value(amount.toPlainString());

        PurchaseUnitRequest purchaseUnitRequest = new PurchaseUnitRequest()
                .amountWithBreakdown(amountWithBreakdown);

        orderRequest.purchaseUnits(List.of(purchaseUnitRequest));

        ApplicationContext applicationContext = new ApplicationContext()
                .brandName("CertUs Marketplace")
                .returnUrl(appBaseUrl + "/marketplace/works?payment_status=success")
                .cancelUrl(appBaseUrl + "/marketplace/works?payment_status=cancelled");

        orderRequest.applicationContext(applicationContext);

        return orderRequest;
    }
}
</file>

<file path="people-module/pom.xml">
<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd">
    <modelVersion>4.0.0</modelVersion>
    <parent>
        <groupId>pe.edu.certus</groupId>
        <artifactId>cm-backend</artifactId>
        <version>0.0.1-SNAPSHOT</version>
    </parent>

    <artifactId>people-module</artifactId>
    <name>people-module</name>
    <description>people-module</description>
    <url/>

    <properties>
        <java.version>17</java.version>
        <lombok.version>1.18.32</lombok.version>
    </properties>

    <dependencies>
        <dependency>
            <groupId>org.projectlombok</groupId>
            <artifactId>lombok</artifactId>
            <version>${lombok.version}</version>
            <optional>true</optional>
        </dependency>

        <dependency>
            <groupId>org.springframework.security</groupId>
            <artifactId>spring-security-core</artifactId>
        </dependency>
    </dependencies>

    <build>
        <plugins>
            <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-compiler-plugin</artifactId>
                <configuration>
                    <annotationProcessorPaths>
                        <path>
                            <groupId>org.projectlombok</groupId>
                            <artifactId>lombok</artifactId>
                            <version>${lombok.version}</version>
                        </path>
                    </annotationProcessorPaths>
                </configuration>
            </plugin>

        </plugins>
    </build>

</project>
</file>

<file path="people-module/src/main/java/pe/edu/certus/peoplemodule/configuration/annotations/PeopleComponentScanConfig.java">
//package pe.edu.certus.peoplemodule.configuration.annotations;
//
//import org.springframework.context.annotation.ComponentScan;
//import org.springframework.context.annotation.Configuration;
//
//@Configuration
//@ComponentScan(basePackages = "pe.edu.certus.peoplemodule")
//public class PeopleComponentScanConfig {
//}
</file>

<file path="people-module/src/main/java/pe/edu/certus/peoplemodule/logic/adapters/driver/PeopleAdapter.java">
package pe.edu.certus.peoplemodule.logic.adapters.driver;

import jakarta.persistence.EntityNotFoundException;
import jakarta.validation.Valid;
import org.springframework.http.HttpStatus;
import org.springframework.http.ResponseEntity;
import org.springframework.security.core.Authentication;
import org.springframework.web.bind.annotation.*;
import pe.edu.certus.peoplemodule.logic.model.PeopleModel;
import pe.edu.certus.peoplemodule.logic.ports.driver.ForPeople;
import pe.edu.certus.peoplemodule.logic.ports.mapper.ForMappingPeople;

import java.util.List;
import java.util.stream.Collectors;

@RestController
@RequestMapping("/api/v1/people")
public class PeopleAdapter {

    private final ForPeople forPeople;
    private final ForMappingPeople forMappingPeople;

    public PeopleAdapter(ForPeople forPeople, ForMappingPeople forMappingPeople) {
        this.forPeople = forPeople;
        this.forMappingPeople = forMappingPeople;
    }

    // ENDPOINT SEGURO AÑADIDO PARA OBTENER PERFIL DEL USUARIO LOGUEADO
    @GetMapping("/me")
    public ResponseEntity<PeopleWebModel> getCurrentPersonProfile(Authentication authentication) {
        if (authentication == null || !authentication.isAuthenticated()) {
            return ResponseEntity.status(HttpStatus.UNAUTHORIZED).build();
        }
        try {
            Long userId = Long.parseLong(authentication.getName());
            PeopleModel peopleModel = (PeopleModel) forPeople.findPeopleById(userId);
            return ResponseEntity.ok(forMappingPeople.toWeb(peopleModel));
        } catch (NumberFormatException | EntityNotFoundException e) {
            return ResponseEntity.status(HttpStatus.NOT_FOUND).build();
        }
    }

    @PostMapping("/create")
    public ResponseEntity<Void> createPeople(@Valid @RequestBody PeopleWebModel peopleWebModel) {
        try {
            PeopleModel objectFromWeb = forMappingPeople.fromWeb(peopleWebModel);
            forPeople.createPeople(objectFromWeb);
            return ResponseEntity.ok().build();
        } catch (IllegalArgumentException e) {
            throw new RuntimeException("ERROR CREATING PERSON", e);
        }
    }

    @GetMapping("/{id}")
    public ResponseEntity<PeopleWebModel> findPeopleById(@PathVariable Long id) {
        try {
            PeopleModel peopleModel = (PeopleModel) forPeople.findPeopleById(id);
            PeopleWebModel response = forMappingPeople.toWeb(peopleModel);
            return ResponseEntity.ok(response);
        } catch (EntityNotFoundException e) {
            return ResponseEntity.notFound().build();
        } catch (IllegalArgumentException e) {
            return ResponseEntity.badRequest().build();
        }
    }

    @PutMapping("/update/{userId}")
    public ResponseEntity<PeopleWebModel> updatePeople(@PathVariable Long userId, @Valid @RequestBody PeopleWebModel peopleWebModel) {
        try {
            // Aseguramos que el idUser del path se use
            PeopleModel peopleToUpdate = forMappingPeople.fromWeb(peopleWebModel);
            peopleToUpdate.setIdUser(userId);

            PeopleModel updatedPeople = (PeopleModel) forPeople.updatePeople(peopleToUpdate);
            PeopleWebModel response = forMappingPeople.toWeb(updatedPeople);
            return ResponseEntity.ok(response);
        } catch (EntityNotFoundException e) {
            return ResponseEntity.notFound().build();
        } catch (IllegalArgumentException e) {
            return ResponseEntity.badRequest().build();
        }
    }

    @DeleteMapping("/{id}")
    public ResponseEntity<Void> deletePeopleById(@PathVariable Long id) {
        try {
            forPeople.deletePeople(id);
            return ResponseEntity.ok().build();
        } catch (EntityNotFoundException e) {
            return ResponseEntity.notFound().build();
        } catch (IllegalArgumentException e) {
            return ResponseEntity.badRequest().build();
        }
    }

    @GetMapping
    public ResponseEntity<List<PeopleWebModel>> findAllPeople() {
        try {
            List<PeopleModel> peopleModels = forPeople.findAllPeople();
            List<PeopleWebModel> response = peopleModels.stream()
                    .map(forMappingPeople::toWeb)
                    .collect(Collectors.toList());
            return ResponseEntity.ok(response);
        } catch (Exception e) {
            throw new RuntimeException("ERROR FINDING ALL PEOPLE", e);
        }
    }
}
</file>

<file path="people-module/src/main/java/pe/edu/certus/peoplemodule/logic/adapters/driver/PeopleWebModel.java">
package pe.edu.certus.peoplemodule.logic.adapters.driver;

import jakarta.validation.constraints.NotBlank;
import jakarta.validation.constraints.Pattern;
import jakarta.validation.constraints.Size;
import lombok.Builder;

@Builder
public record PeopleWebModel(
        Long personId,
        Long idUser,

        @NotBlank(message = "El nombre no puede estar vacío")
        @Size(max = 100)
        String personName,

        @NotBlank(message = "El apellido no puede estar vacío")
        @Size(max = 100)
        String personLastname,

        String personProfileImageUrl,

        @Size(max = 8, message = "El DNI debe tener 8 caracteres")
        @Pattern(regexp = "^[0-9]*$", message = "El DNI debe contener solo números")
        String personDni,

        @Size(max = 15)
        String personMobilePhone,

        @Size(max = 1)
        String personGender,

        @Size(max = 100)
        String personInstituteCampus,

        @Size(max = 100)
        String personInstitutionalEmail,

        @Size(max = 100)
        String personInstitutionalCareer,

        Integer personCurrentTerm
) {}
</file>

<file path="people-module/src/main/java/pe/edu/certus/peoplemodule/logic/adapters/mapper/PeopleMapper.java">
package pe.edu.certus.peoplemodule.logic.adapters.mapper;

import pe.edu.certus.peoplemodule.logic.adapters.driver.PeopleWebModel;
import pe.edu.certus.peoplemodule.logic.model.PeopleModel;
import pe.edu.certus.peoplemodule.logic.ports.mapper.ForMappingPeople;

public class PeopleMapper implements ForMappingPeople {

    @Override
    public PeopleModel fromWeb(PeopleWebModel peopleWebModel) {
        return PeopleModel.builder()
                .personId(peopleWebModel.personId())
                .idUser(peopleWebModel.idUser())
                .personName(peopleWebModel.personName())
                .personLastname(peopleWebModel.personLastname())
                .personProfileImageUrl(peopleWebModel.personProfileImageUrl())
                .personDni(peopleWebModel.personDni())
                .personMobilePhone(peopleWebModel.personMobilePhone())
                .personGender(peopleWebModel.personGender())
                .personInstituteCampus(peopleWebModel.personInstituteCampus())
                .personInstitutionalEmail(peopleWebModel.personInstitutionalEmail())
                .personInstitutionalCareer(peopleWebModel.personInstitutionalCareer())
                .personCurrentTerm(peopleWebModel.personCurrentTerm())
                .build();
    }

    @Override
    public PeopleWebModel toWeb(PeopleModel peopleModel) {
        return new PeopleWebModel(
                peopleModel.getPersonId(),
                peopleModel.getIdUser(),
                peopleModel.getPersonName(),
                peopleModel.getPersonLastname(),
                peopleModel.getPersonProfileImageUrl(),
                peopleModel.getPersonDni(),
                peopleModel.getPersonMobilePhone(),
                peopleModel.getPersonGender(),
                peopleModel.getPersonInstituteCampus(),
                peopleModel.getPersonInstitutionalEmail(),
                peopleModel.getPersonInstitutionalCareer(),
                peopleModel.getPersonCurrentTerm()
        );
    }
}
</file>

<file path="people-module/src/main/java/pe/edu/certus/peoplemodule/logic/model/PeopleModel.java">
package pe.edu.certus.peoplemodule.logic.model;

import lombok.Builder;
import lombok.Getter;
import lombok.Setter;

@Getter
@Setter
@Builder
public class PeopleModel {
    private Long personId;
    private Long idUser;
    private String personName;
    private String personLastname;
    private String personProfileImageUrl;
    private String personDni;
    private String personMobilePhone;
    private String personGender;
    private String personInstituteCampus;
    private String personInstitutionalEmail;
    private String personInstitutionalCareer;
    private Integer personCurrentTerm;
}
</file>

<file path="people-module/src/main/java/pe/edu/certus/peoplemodule/repository/adapters/driver/PeopleQuerierProxy.java">
package pe.edu.certus.peoplemodule.repository.adapters.driver;

import jakarta.persistence.EntityNotFoundException;
import org.springframework.stereotype.Service;
import pe.edu.certus.peoplemodule.logic.model.PeopleModel;
import pe.edu.certus.peoplemodule.logic.ports.driven.ForManagingPeople;
import pe.edu.certus.peoplemodule.repository.entity.PeopleEntity;
import pe.edu.certus.peoplemodule.repository.ports.driver.ForQueryingPeople;
import pe.edu.certus.peoplemodule.repository.ports.mapper.ForBridgingPeople;

import java.util.List;
import java.util.Optional;
import java.util.stream.Collectors;

@Service
public class PeopleQuerierProxy implements ForManagingPeople {
    private final ForQueryingPeople forQueryingPeople;
    private final ForBridgingPeople forBridgingPeople;

    public PeopleQuerierProxy(ForQueryingPeople forQueryingPeople, ForBridgingPeople forBridgingPeople) {
        this.forQueryingPeople = forQueryingPeople;
        this.forBridgingPeople = forBridgingPeople;
    }

    @Override
    public void satisfyCreatePeople(PeopleModel peopleModel) {
        PeopleEntity objectFromDomain = forBridgingPeople.toPersistence(peopleModel);
        forQueryingPeople.save(objectFromDomain);
        System.out.println("PERSON ENTITY HAS BEEN CREATED SUCCESSFULLY");
    }

    @Override
    public PeopleModel satisfyFindPeopleById(Long id) {
        return forQueryingPeople.findById(id)
                .map(forBridgingPeople::fromPersistence)
                .orElseThrow(() -> new EntityNotFoundException(
                        "PERSON ENTITY NOT FOUND WITH ID: " + id));
    }

    @Override
    public PeopleModel satisfyUpdatePeople(PeopleModel peopleModel) {
        PeopleEntity existingPeople = forQueryingPeople.findByIdUser(peopleModel.getIdUser())
                .orElseThrow(() -> new EntityNotFoundException("PERSON PROFILE NOT FOUND FOR USER ID: " + peopleModel.getIdUser()));

        existingPeople.setPersonName(peopleModel.getPersonName());
        existingPeople.setPersonLastname(peopleModel.getPersonLastname());
        existingPeople.setPersonDni(peopleModel.getPersonDni());
        existingPeople.setPersonMobilePhone(peopleModel.getPersonMobilePhone());
        existingPeople.setPersonGender(peopleModel.getPersonGender());
        existingPeople.setPersonInstituteCampus(peopleModel.getPersonInstituteCampus());
        existingPeople.setPersonInstitutionalEmail(peopleModel.getPersonInstitutionalEmail());
        existingPeople.setPersonInstitutionalCareer(peopleModel.getPersonInstitutionalCareer());
        existingPeople.setPersonCurrentTerm(peopleModel.getPersonCurrentTerm());

        PeopleEntity updatedEntity = forQueryingPeople.save(existingPeople);
        System.out.println("PERSON ENTITY HAS BEEN UPDATED SUCCESSFULLY");

        return forBridgingPeople.fromPersistence(updatedEntity);
    }

    @Override
    public void satisfyDeletePeopleById(Long id) {
        Optional<PeopleEntity> existingPeople = forQueryingPeople.findById(id);
        if (existingPeople.isEmpty()) {
            throw new EntityNotFoundException("PERSON NOT FOUND WITH ID: " + id);
        }
        
        forQueryingPeople.deleteById(id);
        System.out.println("PERSON ID: " + id + " HAS BEEN DELETED");
    }

    @Override
    public List<PeopleModel> satisfyFindAllPeople() {
        List<PeopleEntity> peopleEntities = forQueryingPeople.findAll();
        System.out.println("ALL PERSON ENTITIES HAVE BEEN FOUND SUCCESSFULLY");
        
        return peopleEntities.stream()
                .map(forBridgingPeople::fromPersistence)
                .collect(Collectors.toList());
    }
}
</file>

<file path="people-module/src/main/java/pe/edu/certus/peoplemodule/repository/adapters/mapper/PeoplePersistenceMapper.java">
package pe.edu.certus.peoplemodule.repository.adapters.mapper;

import org.springframework.stereotype.Component;
import pe.edu.certus.peoplemodule.logic.model.PeopleModel;
import pe.edu.certus.peoplemodule.repository.entity.PeopleEntity;
import pe.edu.certus.peoplemodule.repository.ports.mapper.ForBridgingPeople;

@Component
public class PeoplePersistenceMapper implements ForBridgingPeople {

    @Override
    public PeopleModel fromPersistence(PeopleEntity peopleEntity) {
        return PeopleModel.builder()
                .personId(peopleEntity.getPersonId())
                .idUser(peopleEntity.getIdUser())
                .personName(peopleEntity.getPersonName())
                .personLastname(peopleEntity.getPersonLastname())
                .personProfileImageUrl(peopleEntity.getPersonProfileImageUrl())
                .personDni(peopleEntity.getPersonDni())
                .personMobilePhone(peopleEntity.getPersonMobilePhone())
                .personGender(peopleEntity.getPersonGender())
                .personInstituteCampus(peopleEntity.getPersonInstituteCampus())
                .personInstitutionalEmail(peopleEntity.getPersonInstitutionalEmail())
                .personInstitutionalCareer(peopleEntity.getPersonInstitutionalCareer())
                .personCurrentTerm(peopleEntity.getPersonCurrentTerm())
                .build();
    }

    @Override
    public PeopleEntity toPersistence(PeopleModel peopleModel) {
        return PeopleEntity.builder()
                .personId(peopleModel.getPersonId())
                .idUser(peopleModel.getIdUser())
                .personName(peopleModel.getPersonName())
                .personLastname(peopleModel.getPersonLastname())
                .personProfileImageUrl(peopleModel.getPersonProfileImageUrl())
                .personDni(peopleModel.getPersonDni())
                .personMobilePhone(peopleModel.getPersonMobilePhone())
                .personGender(peopleModel.getPersonGender())
                .personInstituteCampus(peopleModel.getPersonInstituteCampus())
                .personInstitutionalEmail(peopleModel.getPersonInstitutionalEmail())
                .personInstitutionalCareer(peopleModel.getPersonInstitutionalCareer())
                .personCurrentTerm(peopleModel.getPersonCurrentTerm())
                .build();
    }
}
</file>

<file path="people-module/src/main/java/pe/edu/certus/peoplemodule/repository/entity/PeopleEntity.java">
package pe.edu.certus.peoplemodule.repository.entity;

import jakarta.persistence.*;
import lombok.*;

@Entity
@Table(name = "people")
@Getter
@Setter
@Builder
@AllArgsConstructor
@NoArgsConstructor
public class PeopleEntity {

    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    @Column(name = "person_id")
    private Long personId;

    @Column(name = "id_user", nullable = false, unique = true)
    private Long idUser;

    @Column(name = "person_name", nullable = false, length = 100)
    private String personName;

    @Column(name = "person_lastname", nullable = false, length = 100)
    private String personLastname;

    @Column(name = "person_profile_image_url", length = 255)
    private String personProfileImageUrl;

    @Column(name = "person_dni", length = 8, unique = true)
    private String personDni;

    @Column(name = "person_mobile_phone", length = 15)
    private String personMobilePhone;

    @Column(name = "person_gender", length = 1)
    private String personGender;

    @Column(name = "person_institute_campus", length = 100)
    private String personInstituteCampus;

    @Column(name = "person_institutional_email", length = 100, unique = true)
    private String personInstitutionalEmail;

    @Column(name = "person_institutional_career", length = 100)
    private String personInstitutionalCareer;

    @Column(name = "person_current_term")
    private Integer personCurrentTerm;
}
</file>

<file path="people-module/src/main/java/pe/edu/certus/peoplemodule/repository/ports/driver/ForQueryingPeople.java">
package pe.edu.certus.peoplemodule.repository.ports.driver;

import org.springframework.data.jpa.repository.JpaRepository;
import pe.edu.certus.peoplemodule.repository.entity.PeopleEntity;

import java.util.Optional;

public interface ForQueryingPeople extends JpaRepository<PeopleEntity, Long> {
    Optional<PeopleEntity> findByIdUser(Long idUser);
}
</file>

<file path="ui-module/src/main/java/pe/edu/certus/uimodule/ui/pages/auth/login/adapters/drivers/LoginController.java">
package pe.edu.certus.uimodule.ui.pages.auth.login.adapters.drivers;

import org.springframework.beans.factory.annotation.Value;
import org.springframework.stereotype.Controller;
import org.springframework.ui.Model;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RequestMapping;
import pe.edu.certus.uimodule.ui.pages.auth.login.ports.drivers.ForLogin;
import pe.edu.certus.uimodule.ui.pages.constants.BusinessRoute;

@Controller
@RequestMapping( BusinessRoute.BUSINESS_PAGE_ROUTE )
public class LoginController implements ForLogin {

    @Value( "${google.client-id}" )
    private String googleClientId;

    @GetMapping( LoginRoute.LOGIN_PAGE_ROUTE )
    @Override
    public String showLoginPage( Model model ) {
        model.addAttribute( "googleClientId", googleClientId );
        return LoginRoute.LOGIN_PAGE_FILE;
    }
}
</file>

<file path="ui-module/src/main/java/pe/edu/certus/uimodule/ui/pages/orders/adapters/drivers/CartController.java">
package pe.edu.certus.uimodule.ui.pages.orders.adapters.drivers;

import com.fasterxml.jackson.core.JsonProcessingException;
import com.fasterxml.jackson.databind.ObjectMapper;
import org.springframework.stereotype.Controller;
import org.springframework.ui.Model;
import org.springframework.web.bind.annotation.PostMapping;
import org.springframework.web.bind.annotation.RequestBody;
import org.springframework.web.bind.annotation.RequestMapping;
import pe.edu.certus.uimodule.ui.pages.orders.ports.drivers.CartRequest;
import pe.edu.certus.worksmodule.logic.model.WorkModel;
import pe.edu.certus.worksmodule.logic.ports.driver.ForWork;

import java.math.BigDecimal;
import java.util.Collections;
import java.util.List;
import java.util.stream.Collectors;

@Controller
@RequestMapping("/marketplace/cart")
public class CartController {

    private final ForWork<WorkModel, Long> forWork;

    public CartController(ForWork<WorkModel, Long> forWork) {
        this.forWork = forWork;
    }

    @PostMapping("/content")
    public String getCartContent(@RequestBody CartRequest cartRequest, Model model) throws JsonProcessingException {
        List<WorkModel> cartItems = Collections.emptyList();
        BigDecimal total = BigDecimal.ZERO;
        List<Long> workIds = cartRequest.getWorkIds();

        if (workIds != null && !workIds.isEmpty()) {
            cartItems = forWork.findWorksByIds(workIds);
            total = cartItems.stream()
                    .map(WorkModel::getWorkPrice)
                    .reduce(BigDecimal.ZERO, BigDecimal::add);
        }

        model.addAttribute("cartItems", cartItems);
        model.addAttribute("total", total);

        ObjectMapper mapper = new ObjectMapper();
        model.addAttribute("workIdsJson", mapper.writeValueAsString(workIds));

        return "fragments/cart-content";
    }
}
</file>

<file path="ui-module/src/main/resources/static/scripts/auth.js">
document.addEventListener('DOMContentLoaded', async () => {
    const token = localStorage.getItem('jwt_token');

    // --- Elementos del Main Header ---
    const userMenu = document.getElementById('user-menu');
    const guestMenu = document.getElementById('guest-menu');
    const userDropdownName = document.getElementById('user-dropdown-name');
    const userDropdownEmail = document.getElementById('user-dropdown-email');
    const userDropdownImage = document.querySelector('#user-menu-button img');
    const logoutButton = document.getElementById('logout-button');
    const dashboardLinkContainer = document.getElementById('dashboard-link-container');
    const sellLink = document.getElementById('sell-link');

    // --- Elementos del Dashboard Header ---
    const dashboardUserName = document.getElementById('dashboard-user-name');
    const dashboardUserImage = document.getElementById('dashboard-user-image');
    const userDropdownNameDashboard = document.getElementById('user-dropdown-name-dashboard');
    const userDropdownEmailDashboard = document.getElementById('user-dropdown-email-dashboard');
    const logoutButtonDashboard = document.getElementById('logout-button-dashboard');

    const updateUI = (isAuthenticated, userData, personData) => {
        if (isAuthenticated && userData) {
            if (guestMenu) guestMenu.classList.add('hidden');
            if (userMenu) userMenu.classList.remove('hidden');

            const displayName = personData ? `${personData.personName} ${personData.personLastname}` : 'Mi Cuenta';
            const displayEmail = userData.userEmail;
            const displayImage = personData && personData.personProfileImageUrl ? personData.personProfileImageUrl : '/img/works/perfil-generico.png';

            if (userDropdownName) userDropdownName.textContent = displayName;
            if (userDropdownEmail) userDropdownEmail.textContent = displayEmail;
            if (userDropdownImage) userDropdownImage.src = displayImage;

            const isSeller = userData.idRole === 2;
            if (dashboardLinkContainer) dashboardLinkContainer.classList.toggle('hidden', !isSeller);
            if (sellLink) sellLink.classList.toggle('hidden', isSeller);

            const dashboardDisplayName = personData ? personData.personName : 'Usuario';
            if (dashboardUserName) dashboardUserName.textContent = dashboardDisplayName;
            if (dashboardUserImage) dashboardUserImage.src = displayImage;
            if (userDropdownNameDashboard) userDropdownNameDashboard.textContent = displayName;
            if (userDropdownEmailDashboard) userDropdownEmailDashboard.textContent = displayEmail;

        } else {
            if (userMenu) userMenu.classList.add('hidden');
            if (guestMenu) guestMenu.classList.remove('hidden');
            if (dashboardLinkContainer) dashboardLinkContainer.classList.add('hidden');
            if (sellLink) sellLink.classList.remove('hidden');
            if (dashboardUserName) dashboardUserName.closest('.lg\\:flex-col')?.classList.add('hidden');
            if (dashboardUserImage) dashboardUserImage.closest('nav')?.classList.add('hidden');
        }
        // Actualizar el contador del carrito después de cambiar de estado de sesión
        if (window.cartManager) {
            window.cartManager.updateBadge();
        }
    };

    const logout = () => {
        localStorage.removeItem('jwt_token');
        if (window.cartManager) {
            window.cartManager.clearCartOnLogout(); // Limpia el estado del carrito
        }
        updateUI(false, null, null);
        const protectedPaths = ['/dashboard', '/profile', '/request-seller-role'];
        if (protectedPaths.some(path => window.location.pathname.includes(path))) {
            window.location.href = '/marketplace/auth/login';
        }
    };

    if (token) {
        try {
            const [userResponse, personResponse] = await Promise.all([
                fetch('/api/v1/users/me', {headers: {'Authorization': `Bearer ${token}`}}),
                fetch('/api/v1/people/me', {headers: {'Authorization': `Bearer ${token}`}})
            ]);

            if (!userResponse.ok) throw new Error('User session invalid or expired');

            const userData = await userResponse.json();
            let personData = null;
            if (personResponse.ok) personData = await personResponse.json();

            updateUI(true, userData, personData);

        } catch (error) {
            console.error("Authentication check failed:", error.message);
            logout();
        }
    } else {
        updateUI(false, null, null);
    }

    const setupLogout = (button) => {
        if (button) {
            button.addEventListener('click', (e) => {
                e.preventDefault();
                logout();
                window.location.href = '/marketplace/auth/login';
            });
        }
    };

    setupLogout(logoutButton);
    setupLogout(logoutButtonDashboard);

    // --- Registro ---
    const registerForm = document.getElementById('registerForm');
    if (registerForm) {
        registerForm.onsubmit = async function (e) {
            e.preventDefault();
            const data = Object.fromEntries(new FormData(this));
            const res = await fetch('/api/v1/auth/register', {
                method: 'POST',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify(data)
            });
            if (res.ok) {
                alert('¡Registro exitoso!');
                window.location.href = '/marketplace/auth/login';
            } else {
                alert('Error: ' + await res.text());
            }
        };
    }

    // --- Login ---
    const loginForm = document.getElementById('loginForm');
    if (loginForm) {
        loginForm.onsubmit = async function (e) {
            e.preventDefault();
            const data = Object.fromEntries(new FormData(this));
            const res = await fetch('/api/v1/auth/login', {
                method: 'POST',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify(data)
            });
            if (res.ok) {
                const token = await res.text();
                localStorage.setItem('jwt_token', token);
                alert('¡Bienvenido!');
                window.location.href = '/';
            } else {
                alert('Error: ' + await res.text());
            }
        };
    }

    function handleGoogleCredentialResponse(response) {
        fetch('/api/v1/auth/login-google', {
            method: 'POST',
            headers: {'Content-Type': 'application/json'},
            body: JSON.stringify({idToken: response.credential})
        })
            .then(res => res.ok ? res.json() : Promise.reject(res))
            .then(data => {
                if (data.jwt) {
                    localStorage.setItem('jwt_token', data.jwt);
                    alert('¡Bienvenido con Google!');
                    window.location.href = '/';
                } else {
                    alert('Error: ' + (data.error || 'Error de autenticación con Google.'));
                }
            })
            .catch(async err => {
                let msg = 'Error de red o autenticación con Google.';
                if (err.text) msg = await err.text();
                alert(msg);
            });
    }

    window.onload = function () {
        const googleBtn = document.getElementById('google-signin-btn');
        if (googleBtn && window.google) {
            google.accounts.id.initialize({
                client_id: 'TU_CLIENT_ID_GOOGLE',
                callback: handleGoogleCredentialResponse
            });
            google.accounts.id.renderButton(googleBtn, {theme: 'outline', size: 'large'});
        }
    };
});
</file>

<file path="ui-module/src/main/resources/static/scripts/cart.js">
const cartManager = (() => {
    const getUserIdFromToken = () => {
        const token = localStorage.getItem('jwt_token');
        if (!token) return null;
        try {
            return JSON.parse(atob(token.split('.')[1])).sub;
        } catch (e) {
            return null;
        }
    };

    const getCartKey = () => {
        const userId = getUserIdFromToken();
        return userId ? `shoppingCart_${userId}` : 'shoppingCart_guest';
    };

    const getCart = () => {
        const cartData = JSON.parse(localStorage.getItem(getCartKey())) || [];
        // Filtra y mapea para asegurar que solo tengamos IDs numéricos.
        // Esto soluciona el problema de datos corruptos o antiguos.
        return cartData
            .map(item => (typeof item === 'object' && item !== null ? item.id : item))
            .filter(id => typeof id === 'number' && !isNaN(id));
    };

    const saveCart = (cart) => {
        localStorage.setItem(getCartKey(), JSON.stringify(cart));
    };

    const updateBadge = () => {
        const cart = getCart();
        const badge = document.getElementById('cart-icon-badge');
        if (badge) {
            badge.textContent = cart.length;
            badge.classList.toggle('hidden', cart.length === 0);
        }
    };

    const clearCart = () => {
        saveCart([]);
        updateBadge();
        loadCartContent();
    };

    const clearCartOnLogout = () => {
        // Al cerrar sesión, no hacemos nada con el localStorage,
        // simplemente la próxima vez se usará la llave 'shoppingCart_guest'.
        updateBadge();
    };

    const addToCart = async (workId) => {
        let cart = getCart();
        if (cart.includes(workId)) {
            alert("Este producto ya está en el carrito.");
            return;
        }
        cart.push(workId);
        saveCart(cart);
        updateBadge();
        alert("Producto añadido al carrito.");
        loadCartContent(); // Recargamos para mostrar el nuevo item
    };

    const removeFromCart = (workId) => {
        let cart = getCart();
        cart = cart.filter(id => id !== workId);
        saveCart(cart);
        updateBadge();
        loadCartContent();
    };

    return {
        getCart,
        addToCart,
        removeFromCart,
        clearCart,
        updateBadge,
        clearCartOnLogout,
    };
})();

window.cartManager = cartManager; // Exponer para otros scripts

async function loadCartContent() {
    const cartContentWrapper = document.getElementById('cart-content-wrapper') || document.querySelector('#cart-drawer > div');
    if (!cartContentWrapper) return;

    const token = localStorage.getItem('jwt_token');
    const workIds = cartManager.getCart();

    try {
        const response = await fetch('/marketplace/cart/content', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
                'Authorization': `Bearer ${token}` // Es seguro enviarlo aunque sea nulo
            },
            body: JSON.stringify({ workIds: workIds })
        });

        if (!response.ok) {
            throw new Error(`Error del servidor: ${response.status}`);
        }
        cartContentWrapper.innerHTML = await response.text();
    } catch (error) {
        console.error("Error al cargar el contenido del carrito:", error);
        cartContentWrapper.innerHTML = '<div class="text-center py-10 text-red-500">No se pudo cargar el carrito.</div>';
    }
}

document.addEventListener('DOMContentLoaded', () => {
    cartManager.updateBadge();

    const cartDrawerButton = document.querySelector('[data-drawer-show="cart-drawer"]');
    if (cartDrawerButton) {
        cartDrawerButton.addEventListener('click', loadCartContent);
    }

    document.body.addEventListener('click', (event) => {
        const addBtn = event.target.closest('.add-to-cart-btn');
        if (addBtn) {
            event.preventDefault();
            const productId = parseInt(addBtn.dataset.id, 10);
            if (!isNaN(productId)) {
                cartManager.addToCart(productId);
            }
        }

        const removeBtn = event.target.closest('.remove-from-cart-btn');
        if (removeBtn) {
            event.preventDefault();
            const workId = parseInt(removeBtn.dataset.id, 10);
            if (!isNaN(workId)) {
                cartManager.removeFromCart(workId);
            }
        }
    });
});
</file>

<file path="ui-module/src/main/resources/static/scripts/checkout.js">
document.addEventListener('DOMContentLoaded', () => {
    document.body.addEventListener('click', async (e) => {
        if (e.target.closest('#checkout-button')) {
            const token = localStorage.getItem('jwt_token');
            if (!token) {
                alert("Debes iniciar sesión para poder comprar.");
                window.location.href = '/marketplace/auth/login?redirect=cart';
                return;
            }

            const workIdsJson = document.getElementById('work-ids-json')?.textContent;
            if (!workIdsJson) {
                alert("Error interno: No se encontraron los IDs de los productos para procesar el pago.");
                return;
            }
            try {
                const workIds = JSON.parse(workIdsJson);
                if (!workIds || workIds.length === 0) {
                    alert("Tu carrito está vacío.");
                    return;
                }
                const checkoutButton = e.target.closest('#checkout-button');
                checkoutButton.disabled = true;
                checkoutButton.innerHTML = 'Procesando... <i class="fas fa-spinner fa-spin"></i>';


                const response = await fetch('/api/v1/paypal/create-order-from-cart', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${token}`
                    },
                    body: JSON.stringify({ workIds: workIds })
                });

                const data = await response.json();

                if (response.ok && data.approvalUrl) {
                    sessionStorage.setItem('paypal_work_ids', JSON.stringify(workIds));
                    window.location.href = data.approvalUrl;
                } else {
                    alert(data.message || "No se pudo iniciar el pago. Por favor, intenta de nuevo.");
                    checkoutButton.disabled = false;
                    checkoutButton.innerHTML = 'Comprar Ahora';
                }
            } catch (err) {
                console.error("Error al crear la orden de PayPal:", err);
                alert("Hubo un problema al contactar a PayPal. Por favor, intenta más tarde.");
                e.target.closest('#checkout-button').disabled = false;
                e.target.closest('#checkout-button').innerHTML = 'Comprar Ahora';
            }
        }
    });

    const handlePaymentStatus = async () => {
        const urlParams = new URLSearchParams(window.location.search);
        const paymentStatus = urlParams.get('payment_status');
        const orderId = urlParams.get('token');

        if (paymentStatus === 'success' && orderId) {
            const authToken = localStorage.getItem('jwt_token');
            const workIds = JSON.parse(sessionStorage.getItem('paypal_work_ids') || '[]');

            if (!authToken || workIds.length === 0) {
                alert('No se pudo completar la compra por falta de información. Por favor, contacta a soporte.');
                return;
            }

            try {
                const response = await fetch('/api/v1/paypal/capture-order', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${authToken}`
                    },
                    body: JSON.stringify({
                        orderId: orderId,
                        workIds: workIds
                    })
                });

                if (response.ok) {
                    const successModal = new Modal(document.getElementById('success-modal'));
                    successModal.show();
                    window.cartManager.clearCart();
                    sessionStorage.removeItem('paypal_work_ids');
                } else {
                    const errorData = await response.json();
                    throw new Error(errorData.message || 'Error al capturar el pago.');
                }
            } catch (error) {
                console.error('Error en la captura del pago:', error);
                alert('Hubo un error al confirmar tu pago. Por favor, contacta a soporte.');
            }

        } else if (paymentStatus === 'cancelled') {
            const cancelModal = new Modal(document.getElementById('cancel-modal'));
            cancelModal.show();
            sessionStorage.removeItem('paypal_work_ids');
        }

        if (paymentStatus) {
            const newUrl = window.location.pathname;
            window.history.replaceState({}, document.title, newUrl);
        }
    };

    handlePaymentStatus();
});
</file>

<file path="ui-module/src/main/resources/static/scripts/general.js">
// Función Header
function headerHome() {
    const burguer = document.getElementById('burguer');
    const sidebar = document.getElementById('sidebar');
    const closeSidebar = document.getElementById('closeSidebar');

    if (burguer && sidebar && closeSidebar) {
        burguer.addEventListener('click', () => {
            sidebar.classList.remove('translate-x-full');
        });

        closeSidebar.addEventListener('click', () => {
            sidebar.classList.add('translate-x-full');
        });

        window.addEventListener('resize', () => {
            if (window.innerWidth >= 1100) {
                sidebar.classList.add('translate-x-full');
            }
        });
    }
}

// Función Contenido de Dashboard
function loadView(view) {
    const contentArea = document.getElementById("all-content");
    if (contentArea) {
        fetch(`/marketplace/dashboard/seller/fragments/${view}`)
            .then(res => res.text())
            .then(html => {
                contentArea.innerHTML = html;
            })
            .catch(err => console.error(`Error loading view ${view}:`, err));
    }
}

// Función Estado de Filtro Sidebar
function setActiveSidebarLink(activeId) {
    const links = ['stateLinkWork', 'stateLinkReview', 'stateLinkSales', 'stateLinkSettings', 'stateLinkAccount', 'stateLinkLogout'];
    links.forEach(id => {
        const element = document.getElementById(id);
        if (element) {
            if (id === activeId) {
                element.classList.add('bg-skyBlueCertus');
                element.classList.remove('hover:bg-blue-900');
            } else {
                element.classList.remove('bg-skyBlueCertus');
                element.classList.add('hover:bg-blue-900');
            }
        }
    });
}

// CORRECCIÓN: Agregar listeners solo si los elementos existen
document.addEventListener('DOMContentLoaded', () => {
    headerHome();
    greetingExpression();

    ['stateLinkWork', 'stateLinkReview', 'stateLinkSales', 'stateLinkSettings', 'stateLinkAccount', 'stateLinkLogout'].forEach(id => {
        const element = document.getElementById(id);
        if (element) {
            element.addEventListener('click', () => setActiveSidebarLink(id));
        }
    });

    // CORRECCIÓN: Inicializar el estado activo del sidebar si estamos en el dashboard
    if (document.getElementById('stateLinkWork')) {
        setActiveSidebarLink('stateLinkWork');
    }
});

// Función Saludo
function greetingExpression() {
    const greeting = document.getElementById('greeting');
    // CORRECCIÓN: Solo ejecutar si el elemento existe.
    if (greeting) {
        const date = new Date();
        const hour = date.getHours();

        if (hour >= 6 && hour < 12) {
            greeting.textContent = 'Buenos días ';
        } else if (hour >= 12 && hour < 18) {
            greeting.textContent = 'Buenas tardes ';
        } else {
            greeting.textContent = 'Buenas noches ';
        }
    }
}
</file>

<file path="ui-module/src/main/resources/static/scripts/seller-dashboard.js">
document.addEventListener('DOMContentLoaded', () => {
    const token = localStorage.getItem('jwt_token');
    if (!token) {
        window.location.href = '/marketplace/auth/login';
        return;
    }

    const contentArea = document.getElementById("all-content");
    const sidebar = document.getElementById('default-sidebar');

    const loadView = async (view) => {
        if (!contentArea) return;

        contentArea.innerHTML = `<div class="flex items-center justify-center min-h-[80vh]"><p class="text-gray-500">Cargando...</p></div>`;

        try {
            const response = await fetch(`/marketplace/fragments/${view}`);
            if (!response.ok) throw new Error(`Error al cargar la vista: ${response.statusText}`);

            contentArea.innerHTML = await response.text();

            if (view === 'seller-works') {
                await loadSellerWorks('PUBLICADO');
            } else if (view === 'seller-works-under-review') {
                await loadSellerWorks('EN_REVISION');
            } else if (view === 'seller-sales') {
                await loadSellerSales();
            }
        } catch (err) {
            console.error(`Error al cargar la vista ${view}:`, err);
            contentArea.innerHTML = `<div class="flex items-center justify-center min-h-[80vh]"><p class="text-center text-red-500">No se pudo cargar la sección. Por favor, intenta de nuevo.</p></div>`;
        }
    };

    const setActiveSidebarLink = (activeId) => {
        document.querySelectorAll('#default-sidebar [data-view]').forEach(link => {
            link.classList.remove('bg-skyBlueCertus');
            link.classList.add('hover:bg-blue-900');
        });
        const activeLink = document.getElementById(activeId);
        if (activeLink) {
            activeLink.classList.add('bg-skyBlueCertus');
            activeLink.classList.remove('hover:bg-blue-900');
        }
    };

    if (sidebar) {
        sidebar.addEventListener('click', (e) => {
            const link = e.target.closest('a[data-view]');
            if (link) {
                e.preventDefault();
                const view = link.getAttribute('data-view');
                setActiveSidebarLink(link.id);
                loadView(view);
            }
        });
    }

    loadView('seller-works');
    setActiveSidebarLink('stateLinkWork');
});


function getUserIdFromToken() {
    const token = localStorage.getItem('jwt_token');
    if (!token) return null;
    try {
        return JSON.parse(atob(token.split('.')[1])).sub;
    } catch (e) {
        console.error("Error decodificando token:", e);
        return null;
    }
}

async function loadSellerWorks(statusFilter) {
    const token = localStorage.getItem('jwt_token');
    const sellerId = getUserIdFromToken();
    if (!sellerId) return;

    const isPublishedView = statusFilter === 'PUBLICADO';
    const containerId = isPublishedView ? 'works-container' : 'review-container';
    const container = document.getElementById(containerId);
    if (!container) return;

    try {
        const response = await fetch(`/api/v1/works/seller/${sellerId}`, {
            headers: { 'Authorization': `Bearer ${token}` }
        });
        if (!response.ok) throw new Error('No se pudieron cargar los trabajos.');

        const allWorks = await response.json();

        // El filtro ahora acepta un array de estados
        const statusesToShow = isPublishedView ? ['PUBLICADO', 'RECHAZADO'] : ['EN_REVISION'];
        const worksToDisplay = allWorks.filter(w => statusesToShow.includes(w.workStatus));

        if (worksToDisplay.length > 0) {
            container.innerHTML = worksToDisplay.map(createWorkCard).join('');
        } else {
            const message = isPublishedView
                ? '¡Aún no tienes publicaciones!'
                : 'No tienes trabajos en revisión en este momento.';
            container.innerHTML = `<div class="col-span-full flex flex-col items-center justify-center min-h-[60vh]"><p class="text-xl text-gray-600">${message}</p></div>`;
        }

    } catch (error) {
        console.error("Error al cargar trabajos:", error);
        container.innerHTML = `<div class="col-span-full text-center py-10 text-red-500">Error al cargar los trabajos.</div>`;
    }
}

async function loadSellerSales() {
    // Implementación futura
}

function createWorkCard(work) {
    let statusClass = '';
    let statusText = work.workStatus.replace('_', ' ');

    switch (work.workStatus) {
        case 'PUBLICADO': statusClass = 'bg-green-100 text-green-800'; break;
        case 'EN_REVISION': statusClass = 'bg-yellow-100 text-yellow-800'; break;
        case 'RECHAZADO': statusClass = 'bg-red-100 text-red-800'; break;
    }

    // APLICANDO LA SOLUCIÓN AQUÍ
    return `
        <div class="bg-white rounded-lg shadow-md overflow-hidden flex flex-col transform hover:-translate-y-1 transition-transform duration-300">
            <a href="/marketplace/works/${work.workId}" class="block">
                <img src="${work.workImageUrl || '/img/works/placeholder.png'}" alt="${work.workTitle}" class="w-full h-40 object-cover">
            </a>
            <div class="p-4 flex flex-col flex-grow">
                <h3 class="text-md font-bold text-gray-800 truncate" title="${work.workTitle}">${work.workTitle}</h3>
                <p class="text-sm text-gray-600 mb-2">S/${work.workPrice.toFixed(2)}</p>
                <span class="text-xs font-medium px-2.5 py-0.5 rounded-full self-start ${statusClass}">${statusText}</span>
                <div class="mt-auto pt-4 flex gap-2">
                    <button onclick="alert('Función no implementada')" class="flex-1 text-sm bg-gray-200 hover:bg-gray-300 text-gray-800 py-2 px-3 rounded-md transition">Editar</button>
                    <button onclick="alert('Función no implementada')" class="flex-1 text-sm bg-red-500 hover:bg-red-600 text-white py-2 px-3 rounded-md transition">Eliminar</button>
                </div>
            </div>
        </div>
    `;
}
</file>

<file path="ui-module/src/main/resources/templates/auth/login/templates/login.html">
<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{fragments/head :: head}"></head>
<body class="h-screen w-screen m-0 p-0 font-poppins">

<div class="min-h-screen w-full bg-cover bg-center flex items-center justify-center px-4 py-8"
     th:style="'background-image: url(' + @{/img/login/fondo.jpg} + ')'">

    <div class="flex flex-col lg:flex-row w-full max-w-6xl h-auto lg:h-[90%] bg-white/90 rounded-lg shadow-lg overflow-hidden">

        <div class="w-full lg:w-1/2 flex items-center justify-center p-6 bg-white/50">
            <img class="w-40 sm:w-52 md:w-64 lg:w-[400px] max-h-[80%] object-contain"
                 th:src="@{/img/login/login.png}"
                 alt="Inicio">
        </div>

        <div class="w-full lg:w-1/2 flex items-center justify-center p-6">
            <div class="w-full max-w-md">
                <div class="flex flex-col items-center mb-6">
                    <img class="w-12 h-12 mb-2"
                         th:src="@{/img/home/logo_certus.png}"
                         alt="Logo CertUs">
                    <h2 class="text-xl font-semibold">Marketplace</h2>
                    <p class="text-gray-600">Bienvenido de nuevo</p>
                </div>

                <div id="success-message" class="hidden my-4"></div>
                <div id="error-message" class="hidden my-4"></div>

                <a href="/oauth2/authorization/google"
                   class="w-full bg-white text-gray-700 border border-gray-300 py-2 rounded-md mb-4 hover:bg-gray-50 flex items-center justify-center gap-2">
                    <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M21.35 11.1H12v2.8h5.4c-.3 1.8-2.2 2.8-4.2 2.8-2.5 0-4.5-2-4.5-4.5S10.7 7.7 13.2 7.7c1.2 0 2.3.5 3 1.2l2-2C16.8 5.2 15 4.5 13.2 4.5 8.9 4.5 5.5 7.9 5.5 12s3.4 7.5 7.7 7.5c3.8 0 7-2.7 7-7.5 0-.5-.1-1-.2-1.5z"/>
                    </svg>
                    Ingresar con Google
                </a>

                <div class="flex items-center justify-center my-4">
                    <hr class="flex-grow border-gray-300">
                    <span class="px-3 text-gray-500 text-sm">o</span>
                    <hr class="flex-grow border-gray-300">
                </div>

                <form id="login-form" class="w-full space-y-4">
                    <div>
                        <div class="relative">
                            <div class="absolute inset-y-0 start-0 flex items-center ps-3.5 text-gray-500">
                                <i class="fa-regular fa-envelope" style="color: #00205b;"></i>
                            </div>
                            <input type="email" id="email" name="email"
                                   placeholder="nombre@correo.com"
                                   class="ps-10 p-2.5 w-full text-sm border border-gray-300 rounded-lg bg-gray-50 text-gray-900 focus:ring-blue-500 focus:border-blue-500"
                                   required>
                        </div>
                    </div>
                    <div>
                        <div class="relative">
                            <div class="absolute inset-y-0 start-0 flex items-center ps-3.5 text-gray-500">
                                <i class="fas fa-lock" style="color: #00205b;"></i>
                            </div>
                            <input type="password" id="password" name="password"
                                   placeholder="••••••••"
                                   class="ps-10 p-2.5 w-full text-sm border border-gray-300 rounded-lg bg-gray-50 text-gray-900 focus:ring-blue-500 focus:border-blue-500"
                                   required>
                        </div>
                    </div>
                    <button type="submit"
                            class="w-full bg-[#00205b] text-white py-2 rounded-md hover:bg-[#001a4d] flex items-center justify-center gap-2">
                        Iniciar sesión
                    </button>
                </form>

                <p class="mt-4 text-sm text-center text-gray-600">
                    ¿No tienes una cuenta?
                    <a th:href="@{/marketplace/auth/register}"
                       class="text-blue-700 font-semibold">Crea tu cuenta</a>
                </p>
            </div>
        </div>
    </div>
</div>

</body>
</html>
</file>

<file path="ui-module/src/main/resources/templates/auth/register/templates/register.html">
<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{fragments/head :: head}"></head>
<body class="h-screen w-screen m-0 p-0 font-poppins">

<div class="min-h-screen w-full bg-cover bg-center flex items-center justify-center px-4 py-8"
     th:style="'background-image: url(' + @{/img/login/fondo.jpg} + ')'">

    <div class="flex flex-col lg:flex-row w-full max-w-6xl h-auto lg:h-[90%] bg-white/90 rounded-lg shadow-lg overflow-hidden">

        <div class="w-full lg:w-1/2 flex items-center justify-center p-6 bg-white/50">
            <img th:src="@{/img/login/register.png}" alt="Register"
                 class="w-40 sm:w-52 md:w-64 lg:w-[400px] max-h-[80%] object-contain">
        </div>

        <div class="w-full lg:w-1/2 flex items-center justify-center p-6">
            <div class="w-full max-w-md">
                <div class="flex flex-col items-center mb-6">
                    <img th:src="@{/img/home/logo_certus.png}" alt="Logo CertUs"
                         class="w-12 h-12 mb-2">
                    <h2 class="text-xl font-semibold">Marketplace</h2>
                    <p class="text-gray-600 text-center p-3">Explora trabajos, únete a la
                        experiencia</p>
                </div>

                <div id="error-message" class="hidden my-4"></div>

                <a href="/oauth2/authorization/google"
                   class="w-full bg-white text-gray-700 border border-gray-300 py-2 rounded-md mb-4 hover:bg-gray-50 flex items-center justify-center gap-2">
                    <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M21.35 11.1H12v2.8h5.4c-.3 1.8-2.2 2.8-4.2 2.8-2.5 0-4.5-2-4.5-4.5S10.7 7.7 13.2 7.7c1.2 0 2.3.5 3 1.2l2-2C16.8 5.2 15 4.5 13.2 4.5 8.9 4.5 5.5 7.9 5.5 12s3.4 7.5 7.7 7.5c3.8 0 7-2.7 7-7.5 0-.5-.1-1-.2-1.5z"/>
                    </svg>
                    Registrarse con Google
                </a>

                <div class="flex items-center justify-center mb-6">
                    <hr class="flex-grow border-gray-300">
                    <span class="px-3 text-gray-500 text-sm">o</span>
                    <hr class="flex-grow border-gray-300">
                </div>

                <form id="register-form" class="w-full space-y-4">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div class="relative">
                            <div class="absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none">
                                <i class="fa-regular fa-user text-gray-400"></i>
                            </div>
                            <input type="text" id="nombre" name="name" placeholder="Nombres"
                                   class="pl-10 p-3 w-full text-base border border-gray-300 rounded-lg bg-gray-50 text-gray-900 focus:ring-blue-500 focus:border-blue-500"
                                   required>
                        </div>
                        <div class="relative">
                            <div class="absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none">
                                <i class="fa-regular fa-user text-gray-400"></i>
                            </div>
                            <input type="text" id="apellido" name="lastname"
                                   placeholder="Apellidos"
                                   class="pl-10 p-3 w-full text-base border border-gray-300 rounded-lg bg-gray-50 text-gray-900 focus:ring-blue-500 focus:border-blue-500"
                                   required>
                        </div>
                    </div>
                    <div class="relative">
                        <div class="absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none">
                            <i class="fa-regular fa-envelope text-gray-400"></i>
                        </div>
                        <input type="email" id="correo" name="email"
                               placeholder="Correo electrónico"
                               class="pl-10 p-3 w-full text-base border border-gray-300 rounded-lg bg-gray-50 text-gray-900 focus:ring-blue-500 focus:border-blue-500"
                               required>
                    </div>
                    <div class="relative">
                        <div class="absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none">
                            <i class="fas fa-lock text-gray-400"></i>
                        </div>
                        <input type="password" id="contrasena" name="password"
                               placeholder="Contraseña"
                               class="pl-10 p-3 w-full text-base border border-gray-300 rounded-lg bg-gray-50 text-gray-900 focus:ring-blue-500 focus:border-blue-500"
                               required>
                    </div>

                    <button type="submit"
                            class="w-full bg-[#00205b] text-white py-2 rounded-md hover:bg-[#001a4d] flex items-center justify-center gap-2">
                        Registrarse
                    </button>
                </form>

                <p class="mt-4 text-sm text-center text-gray-600">
                    ¿Ya tienes una cuenta?
                    <a th:href="@{/marketplace/auth/login}"
                       class="text-blue-700 font-semibold hover:underline">Inicia sesión
                        aquí</a>
                </p>
            </div>
        </div>
    </div>
</div>

</body>
</html>
</file>

<file path="ui-module/src/main/resources/templates/dashboard/seller/fragments/header-seller.html">
<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<header th:fragment="header-seller">
    <div class="flex font-poppins justify-between py-2 px-6">
        <div class="flex sm:hidden">
            <button data-drawer-target="default-sidebar" data-drawer-toggle="default-sidebar"
                    aria-controls="default-sidebar" type="button"
                    class="items-center text-blueCertus sm:hidden hover:text-skyBlueCertus hover:rounded-full py-1.5 px-2 hover:border-b-2 hover:border-skyBlueCertus">
                <i class="fa-solid fa-bars text-2xl"></i>
            </button>
        </div>
        <div class="flex justify-center items-center space-x-2">
            <div class="hidden lg:flex lg:flex-col">
                <h3 class="text-xl"><span id="greeting"></span><span id="dashboard-user-name">Usuario</span>
                </h3>
                <span class="text-base text-gray-500">¿Qué tienes pensado hoy?</span>
            </div>
        </div>
        <nav class="flex items-center justify-center lg:space-x-3">
            <button onclick="document.getElementById('modalAddWork').showModal()"
                    class="lg:border border-gray-600 rounded-full flex justify-center items-center h-10 w-10 lg:w-32 duration-100 lg:space-x-1 lg:py-2 lg:px-6 text-blueCertus hover:text-skyBlueCertus hover:border-b-2 hover:border-skyBlueCertus">
                <i class="fa-solid fa-plus text-2xl"></i>
                <span class="hidden lg:flex">Publicar</span>
            </button>
            <a th:href="@{/marketplace/works}"
               class="lg:border border-blueCertus rounded-full flex justify-center items-center h-10 w-10 lg:w-40 duration-100 lg:space-x-1 lg:py-2 lg:px-6 text-blueCertus lg:text-white lg:bg-blueCertus hover:bg-skyBlueCertus hover:border-skyBlueCertus">
                <i class="fa-solid fa-store text-xl"></i>
                <span class="hidden lg:flex">Marketplace</span>
            </a>
            <div class="relative">
                <button type="button"
                        class="flex text-sm bg-gray-200 rounded-full focus:ring-4 focus:ring-gray-300 p-0.5"
                        id="user-menu-button-dashboard" aria-expanded="false"
                        data-dropdown-toggle="user-dropdown-dashboard">
                    <span class="sr-only">Abrir menú de usuario</span>
                    <img id="dashboard-user-image"
                         class="h-[45px] w-[45px] lg:h-[68px] lg:w-[68px] rounded-full object-cover"
                         th:src="@{/img/dashboard/seller/user.svg}" alt="User"
                         referrerpolicy="no-referrer">
                </button>
                <div class="z-50 hidden my-4 text-base list-none bg-white divide-y divide-gray-100 rounded-lg shadow"
                     id="user-dropdown-dashboard">
                    <div class="px-4 py-3">
                        <span id="user-dropdown-name-dashboard"
                              class="block text-sm text-gray-900">Usuario</span>
                        <span id="user-dropdown-email-dashboard"
                              class="block text-sm text-gray-500 truncate">correo@certus.edu.pe</span>
                    </div>
                    <ul class="py-2">
                        <li>
                            <a th:href="@{/marketplace/profile}"
                               class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Mi
                                Perfil</a>
                        </li>
                        <li>
                            <a href="#" id="logout-button-dashboard"
                               class="block px-4 py-2 text-sm text-red-600 hover:bg-red-100">Cerrar
                                Sesión</a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
    </div>

    <dialog id="modalAddWork"
            class="h-auto w-3/5 backdrop:bg-black/60 left-[15rem] rounded-xl">
        <form id="createWorkForm" class="px-8 font-poppins text-sm space-y-4 py-8">
            <div class="mb-4 text-center">
                <h1 class="text-xl font-extrabold">Subir Trabajo Digital</h1>
                <p>Comparte tu creación con la comunidad</p>
            </div>

            <div id="create-work-error-message"
                 class="hidden text-center text-red-700 text-sm p-3 bg-red-100 border border-red-400 rounded-lg"></div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-x-6">
                <div class="space-y-4">
                    <div>
                        <p class="font-bold">Imágenes del Trabajo (máx. 5)</p>
                        <label id="image-drop-zone" class="mt-2 w-full p-6 border-2 border-dashed border-gray-300 rounded-xl text-center cursor-pointer hover:bg-gray-50 transition flex flex-col items-center justify-center">
                            <i class="fa-solid fa-cloud-arrow-up text-3xl text-gray-400 mb-2"></i>
                            <p class="font-semibold text-gray-700">Arrastra o selecciona tus imágenes</p>
                            <span class="text-sm text-blue-600 underline">Explorar archivos</span>
                            <input type="file" id="imageUpload" name="imageFiles" multiple class="hidden" accept="image/png, image/jpeg, image/gif"/>
                        </label>
                        <div id="image-preview-container" class="mt-2 grid grid-cols-3 gap-2"></div>
                    </div>

                    <div class="space-y-2">
                        <label for="idWorkCategory" class="font-bold">Categoría</label>
                        <select id="idWorkCategory" name="idWorkCategory" required
                                class="text-sm w-full h-10 border-gray-400 rounded-lg">
                            <option value="" selected disabled>Selecciona una categoría</option>
                            <th:block th:each="category : ${categories}">
                                <option th:value="${category.id}" th:text="${category.name}"></option>
                            </th:block>
                        </select>
                    </div>
                </div>

                <div class="space-y-4">
                    <div class="space-y-2">
                        <label for="workTitle" class="font-bold">Título del Trabajo</label>
                        <input type="text" id="workTitle" name="workTitle"
                               placeholder="Ej: Landing Page para Restaurante" required
                               class="w-full h-10 border-gray-400 rounded-lg text-sm">
                    </div>
                    <div class="space-y-2">
                        <label for="workDescription" class="font-bold">Descripción</label>
                        <textarea id="workDescription" name="workDescription"
                                  placeholder="Describe tu trabajo en detalle..." required
                                  class="text-sm w-full py-1.5 h-32 border-gray-400 rounded-lg"></textarea>
                    </div>
                    <div>
                        <p class="font-bold">Archivo del Trabajo (1 archivo, máx. 300MB)</p>
                        <label id="project-drop-zone" class="mt-2 w-full p-4 border-2 border-dashed border-gray-300 rounded-xl text-center cursor-pointer hover:bg-gray-50 transition flex flex-col items-center justify-center">
                            <i class="fa-solid fa-file-arrow-up text-3xl text-gray-400 mb-2"></i>
                            <p class="text-sm font-semibold text-gray-700">Arrastra o selecciona el archivo</p>
                            <input type="file" id="projectUpload" name="projectFile" required class="hidden"/>
                        </label>
                        <div id="project-preview-container" class="mt-2"></div>
                    </div>
                </div>
            </div>

            <div class="grid grid-cols-2 w-full gap-x-6">
                <div class="space-y-2">
                    <label for="workPrice" class="font-bold">Precio (USD)</label>
                    <input type="number" step="0.01" min="1" id="workPrice" name="workPrice"
                           placeholder="Ej: 50.00" required
                           class="w-full h-10 border-gray-400 rounded-lg text-sm">
                </div>
                <div class="space-y-3 pt-6 flex justify-end gap-x-4">
                    <button type="button"
                            onclick="document.getElementById('modalAddWork').close()"
                            class="h-10 text-center text-gray-800 bg-gray-200 px-8 rounded-full hover:bg-gray-300 transition">
                        Cancelar
                    </button>
                    <button type="submit"
                            class="h-10 text-center text-white bg-blueCertus px-8 rounded-full hover:bg-skyBlueCertus transition">
                        Pasar a Revisión
                    </button>
                </div>
            </div>
            <div class="text-xs text-gray-500 space-y-1 mt-4">
                <p><i class="fa-solid fa-circle-exclamation text-blueCertus mr-1"></i>Tu
                    trabajo pasará por un proceso de revisión antes de ser publicado.</p>
                <p><i class="fa-solid fa-circle-exclamation text-blueCertus mr-1"></i>El
                    trabajo podrá ser editado solo 1 vez.</p>
            </div>
        </form>
    </dialog>
</header>
</html>
</file>

<file path="ui-module/src/main/resources/templates/dashboard/seller/fragments/seller-works.html">
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<section th:fragment="content">
    <div class="font-poppins">
        <div class="mt-6 mb-4">
            <h1 class="text-2xl font-bold">Mis Publicaciones</h1>
        </div>
        <div id="works-container" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
        </div>
        <section th:replace="~{/dashboard/seller/fragments/seller-works/modal-edit-work :: modal-edit-work}"></section>
        <section th:replace="~{/dashboard/seller/fragments/seller-works/modal-delete-work :: modal-delete-work}"></section>
        <section th:replace="~{/dashboard/seller/fragments/seller-works/modal-user-request-work :: modal-user-request-work}"></section>
    </div>
</section>
</html>
</file>

<file path="ui-module/src/main/resources/templates/fragments/main-header.html">
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<header th:fragment="header"
        class="bg-white border-b border-gray-200 sticky top-0 z-50 shadow-sm">
    <div class="max-w-screen-xl flex flex-wrap items-center justify-between mx-auto p-4">
        <a th:href="@{/marketplace/home}" class="flex items-center space-x-3">
            <img th:src="@{/img/home/logo_certus.png}" class="h-8" alt="Logo"/>
            <div class="flex flex-col leading-tight">
                <span class="text-2xl font-semibold text-black">Marketplace</span>
                <span class="text-sm text-gray-400 -mt-1">Explora tu creatividad</span>
            </div>
        </a>

        <div class="flex items-center md:order-2 space-x-3">
            <button type="button" data-drawer-target="cart-drawer"
                    data-drawer-show="cart-drawer" data-drawer-placement="right"
                    aria-controls="cart-drawer"
                    class="relative p-2 text-gray-700 hover:text-blue-700 hover:bg-gray-100 rounded-lg transition">
                <i class="fas fa-shopping-cart text-xl"></i>
                <span id="cart-icon-badge"
                      class="absolute -top-1 -right-1 bg-[#F24968] text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center hidden">0</span>
            </button>

            <div id="user-menu" class="hidden">
                <button type="button"
                        class="flex text-sm bg-gray-200 rounded-full focus:ring-4 focus:ring-gray-300 p-0.5"
                        id="user-menu-button" aria-expanded="false"
                        data-dropdown-toggle="user-dropdown"
                        data-dropdown-placement="bottom">
                    <img class="w-8 h-8 rounded-full"
                         th:src="@{/img/works/perfil-generico.png}" alt="user photo"
                         referrerpolicy="no-referrer"/>
                </button>
                <div class="z-50 hidden my-4 text-base list-none bg-white divide-y divide-gray-100 rounded-lg shadow"
                     id="user-dropdown">
                    <div class="px-4 py-3">
                        <span id="user-dropdown-name" class="block text-sm text-gray-900">Usuario</span>
                        <span id="user-dropdown-email"
                              class="block text-sm text-gray-500 truncate">correo@certus.edu.pe</span>
                    </div>
                    <ul class="py-2">
                        <li id="dashboard-link-container">
                            <a th:href="@{/marketplace/dashboard/seller}"
                               class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Dashboard</a>
                        </li>
                        <li>
                            <a href="#" id="logout-button"
                               class="block px-4 py-2 text-sm text-red-600 hover:bg-red-100">Cerrar
                                Sesión</a>
                        </li>

                    </ul>
                </div>
            </div>

            <div id="guest-menu" class="hidden">
                <div class="flex items-center md:space-x-2">
                    <a th:href="@{/marketplace/auth/login}"
                       class="text-sm font-medium text-gray-600 hover:text-blue-700 transition">Iniciar
                        Sesión</a>
                    <a th:href="@{/marketplace/auth/register}"
                       class="sm:block ml-4 text-sm font-medium text-white bg-[#00205b] hover:bg-[#001a4d] px-4 py-2 rounded-md transition">Regístrate</a>
                </div>
            </div>
        </div>

        <div class="items-center justify-between hidden w-full md:flex md:w-auto md:order-1"
             id="navbar-menu">
            <ul class="flex flex-col font-medium p-4 md:p-0 mt-4 border rounded-lg bg-gray-50 md:flex-row md:space-x-8 md:mt-0 md:border-0 md:bg-white">
                <li><a th:href="@{/marketplace/home}"
                       class="block py-2 px-3 text-gray-900 rounded hover:bg-gray-100 md:hover:bg-transparent">Inicio</a>
                </li>
                <li><a th:href="@{/marketplace/works}"
                       class="block py-2 px-3 text-gray-900 rounded hover:bg-gray-100 md:hover:bg-transparent">Explorar</a>
                </li>
                <li><a id="sell-link" th:href="@{/marketplace/request-seller-role}"
                       class="block py-2 px-3 text-gray-900 rounded hover:bg-gray-100 md:hover:bg-transparent">Vender</a>
                </li>
            </ul>
        </div>
    </div>
</header>
</html>
</file>

<file path="ui-module/src/main/resources/templates/works/templates/works.html">
<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{fragments/head :: head}"></head>

<body class="bg-gray-100">

<header th:replace="~{fragments/main-header :: header}"></header>

<!-- Modal de Éxito -->
<div id="success-modal" tabindex="-1" class="hidden overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-50 justify-center items-center w-full md:inset-0 h-[calc(100%-1rem)] max-h-full">
    <div class="relative p-4 w-full max-w-md max-h-full">
        <div class="relative p-4 text-center bg-white rounded-lg shadow sm:p-5">
            <div class="w-12 h-12 rounded-full bg-green-100 p-2 flex items-center justify-center mx-auto mb-3.5">
                <svg class="w-8 h-8 text-green-500" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                </svg>
            </div>
            <p class="mb-4 text-lg font-semibold text-gray-900">¡Pago Exitoso!</p>
            <p class="mb-4 text-gray-600">Tu compra se ha completado. Revisa tu perfil para acceder a tus trabajos.</p>
            <button data-modal-hide="success-modal" type="button"
                    class="py-2 px-3 text-sm font-medium text-center text-white rounded-lg bg-green-600 hover:bg-green-700 focus:ring-4 focus:outline-none focus:ring-green-300">
                Continuar
            </button>
        </div>
    </div>
</div>

<!-- Modal de Cancelación -->
<div id="cancel-modal" tabindex="-1" class="hidden overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-50 justify-center items-center w-full md:inset-0 h-[calc(100%-1rem)] max-h-full">
    <div class="relative p-4 w-full max-w-md max-h-full">
        <div class="relative p-4 text-center bg-white rounded-lg shadow sm:p-5">
            <div class="w-12 h-12 rounded-full bg-red-100 p-2 flex items-center justify-center mx-auto mb-3.5">
                <svg class="w-8 h-8 text-red-500" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                </svg>
            </div>
            <p class="mb-4 text-lg font-semibold text-gray-900">Pago Cancelado</p>
            <p class="mb-4 text-gray-600">Tu compra ha sido cancelada. Tu carrito ha sido guardado por si deseas intentarlo de nuevo.</p>
            <button data-modal-hide="cancel-modal" type="button" class="py-2 px-3 text-sm font-medium text-center text-white rounded-lg bg-red-600 hover:bg-red-700 focus:ring-4 focus:outline-none focus:ring-red-300">
                Entendido
            </button>
        </div>
    </div>
</div>

<div class="flex flex-col lg:flex-row min-h-screen px-4 lg:px-12 py-6 gap-6">
    <aside class="w-full lg:w-72 bg-white p-6 shadow-lg lg:flex-shrink-0 rounded-lg h-fit">
        <h2 class="text-2xl font-bold mb-6 text-gray-800">Filtros</h2>
        <div class="space-y-8">
            <div>
                <h3 class="text-lg font-semibold mb-3 text-gray-700">Categoría</h3>
                <div class="space-y-2" id="category-filters">
                    <label class="flex items-center text-gray-600 cursor-pointer hover:text-[#00205b] transition duration-200"><input
                            type="radio" name="category" value="todos"
                            class="form-radio text-blue-500 h-4 w-4" checked><span
                            class="ml-2">Todos</span></label>
                    <label class="flex items-center text-gray-600 cursor-pointer hover:text-[#00205b] transition duration-200"><input
                            type="radio" name="category" value="cursos"
                            class="form-radio text-blue-500 h-4 w-4"><span
                            class="ml-2">Cursos</span></label>
                    <label class="flex items-center text-gray-600 cursor-pointer hover:text-[#00205b] transition duration-200"><input
                            type="radio" name="category" value="ilustraciones"
                            class="form-radio text-blue-500 h-4 w-4"><span class="ml-2">Ilustraciones</span></label>
                    <label class="flex items-center text-gray-600 cursor-pointer hover:text-[#00205b] transition duration-200"><input
                            type="radio" name="category" value="musica-y-audio"
                            class="form-radio text-blue-500 h-4 w-4"><span class="ml-2">Música y Audio</span></label>
                    <label class="flex items-center text-gray-600 cursor-pointer hover:text-[#00205b] transition duration-200"><input
                            type="radio" name="category" value="software"
                            class="form-radio text-blue-500 h-4 w-4"><span class="ml-2">Software</span></label>
                </div>
            </div>
            <div>
                <h3 class="text-lg font-semibold mb-3 text-gray-700">Precio</h3>
                <div class="space-y-2" id="price-filters">
                    <label class="flex items-center text-gray-600 cursor-pointer hover:text-[#00205b] transition duration-200"><input
                            type="radio" name="price" value="all"
                            class="form-radio text-blue-500 h-4 w-4" checked><span
                            class="ml-2">Todos</span></label>
                    <label class="flex items-center text-gray-600 cursor-pointer hover:text-[#00205b] transition duration-200"><input
                            type="radio" name="price" value="0-50"
                            class="form-radio text-blue-500 h-4 w-4"><span class="ml-2">Hasta S/50</span></label>
                    <label class="flex items-center text-gray-600 cursor-pointer hover:text-[#00205b] transition duration-200"><input
                            type="radio" name="price" value="50-100"
                            class="form-radio text-blue-500 h-4 w-4"><span class="ml-2">S/50 - S/100</span></label>
                    <label class="flex items-center text-gray-600 cursor-pointer hover:text-[#00205b] transition duration-200"><input
                            type="radio" name="price" value="100-250"
                            class="form-radio text-blue-500 h-4 w-4"><span class="ml-2">S/100 - S/250</span></label>
                    <label class="flex items-center text-gray-600 cursor-pointer hover:text-[#00205b] transition duration-200"><input
                            type="radio" name="price" value="250-500"
                            class="form-radio text-blue-500 h-4 w-4"><span class="ml-2">S/250 - S/500</span></label>
                    <label class="flex items-center text-gray-600 cursor-pointer hover:text-[#00205b] transition duration-200"><input
                            type="radio" name="price" value="500-plus"
                            class="form-radio text-blue-500 h-4 w-4"><span class="ml-2">Más de S/500</span></label>
                </div>
            </div>
            <div>
                <h3 class="text-lg font-semibold mb-3 text-gray-700">Popularidad</h3>
                <div class="space-y-2" id="popularity-filters">
                    <label class="flex items-center text-gray-600 cursor-pointer hover:text-[#00205b] transition duration-200"><input
                            type="radio" name="popularity" value="all"
                            class="form-radio text-blue-500 h-4 w-4" checked><span
                            class="ml-2">Todos</span></label>
                    <label class="flex items-center text-gray-600 cursor-pointer hover:text-[#00205b] transition duration-200"><input
                            type="radio" name="popularity" value="5"
                            class="form-radio text-blue-500 h-4 w-4"><span
                            class="ml-2 flex items-center gap-1"><i
                            class="fa-solid fa-star text-yellow-400"></i> 5</span></label>
                    <label class="flex items-center text-gray-600 cursor-pointer hover:text-[#00205b] transition duration-200"><input
                            type="radio" name="popularity" value="4"
                            class="form-radio text-blue-500 h-4 w-4"><span
                            class="ml-2 flex items-center gap-1"><i
                            class="fa-solid fa-star text-yellow-400"></i> 4 o más</span></label>
                    <label class="flex items-center text-gray-600 cursor-pointer hover:text-[#00205b] transition duration-200"><input
                            type="radio" name="popularity" value="3"
                            class="form-radio text-blue-500 h-4 w-4"><span
                            class="ml-2 flex items-center gap-1"><i
                            class="fa-solid fa-star text-yellow-400"></i> 3 o más</span></label>
                </div>
            </div>
        </div>
        <div class="mt-8 flex justify-between">
            <button id="clear-filters"
                    class="bg-gray-200 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-300 transition duration-200">
                Limpiar
            </button>
            <button id="apply-filters"
                    class="bg-gray-900 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition duration-200">
                Aplicar
            </button>
        </div>
    </aside>

    <main class="flex-1">
        <div id="dynamic-banner"
             class="relative w-full h-64 bg-cover bg-center rounded-lg shadow-md mb-8 flex items-center justify-between p-8 text-white"
             style="background-color: #2a3a8e;">
            <div class="relative z-10">
                <h1 id="banner-title" class="text-4xl font-bold mb-2"></h1>
                <p id="banner-description" class="text-xl"></p>
            </div>
            <div class="absolute inset-0 rounded-lg bg-black opacity-40"></div>
        </div>
        <section
                class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4 gap-6"
                id="product-cards-container">
        </section>
        <div class="flex justify-center items-center mt-8 space-x-2" id="pagination-container">
        </div>
    </main>
</div>

<div id="cart-drawer"
     class="fixed top-0 right-0 z-50 h-screen overflow-y-auto transition-transform translate-x-full bg-white w-80 sm:w-96 dark:bg-gray-800"
     tabindex="-1" aria-labelledby="cart-drawer-label">
    <div id="cart-content-wrapper" class="flex flex-col h-full">
        <div class="flex justify-between items-center p-4 border-b border-gray-200 dark:border-gray-600">
            <h5 id="cart-drawer-label" class="inline-flex items-center text-base font-semibold text-gray-600 dark:text-gray-400">
                <i class="fas fa-shopping-cart mr-2"></i>Mi Carrito
            </h5>
            <button type="button" data-drawer-hide="cart-drawer" aria-controls="cart-drawer" class="text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 inline-flex items-center justify-center dark:hover:bg-gray-600 dark:hover:text-white">
                <i class="fas fa-times"></i>
                <span class="sr-only">Cerrar menú</span>
            </button>
        </div>
        <div class="text-center py-10 text-gray-500 dark:text-gray-400">
            Cargando carrito...
        </div>
    </div>
</div>
</body>
</html>
</file>

<file path="users-module/src/main/java/pe/edu/certus/usersmodule/configuration/annotations/UserComponentScanConfig.java">
//package pe.edu.certus.usersmodule.configuration.annotations;
//
//import org.springframework.context.annotation.ComponentScan;
//import org.springframework.context.annotation.Configuration;
//
//@Configuration
//@ComponentScan(basePackages = "pe.edu.certus.usersmodule")
//public class UserComponentScanConfig {
//}
</file>

<file path="users-module/src/main/java/pe/edu/certus/usersmodule/logic/adapters/driver/UserAdapter.java">
package pe.edu.certus.usersmodule.logic.adapters.driver;

import jakarta.persistence.EntityNotFoundException;
import jakarta.validation.Valid;
import org.springframework.http.HttpStatus;
import org.springframework.http.ResponseEntity;
import org.springframework.security.core.Authentication;
import org.springframework.web.bind.annotation.*;
import pe.edu.certus.usersmodule.logic.model.UserModel;
import pe.edu.certus.usersmodule.logic.ports.driver.ForUser;
import pe.edu.certus.usersmodule.logic.ports.mapper.ForMappingUser;

import java.util.List;
import java.util.stream.Collectors;

@RestController
@RequestMapping("/api/v1/users")
public class UserAdapter {

    private final ForUser forUser;
    private final ForMappingUser forMappingUser;

    public UserAdapter(ForUser forUser, ForMappingUser forMappingUser) {
        this.forUser = forUser;
        this.forMappingUser = forMappingUser;
    }

    @GetMapping("/me")
    public ResponseEntity<UserWebModel> getCurrentUser(Authentication authentication) {
        if (authentication == null || !authentication.isAuthenticated()) {
            return ResponseEntity.status(HttpStatus.UNAUTHORIZED).build();
        }
        try {
            Long userId = Long.parseLong(authentication.getName());
            UserModel userModel = (UserModel) forUser.findUserById(userId);
            UserWebModel response = forMappingUser.toWeb(userModel);
            return ResponseEntity.ok(response);
        } catch (NumberFormatException | EntityNotFoundException e) {
            return ResponseEntity.status(HttpStatus.NOT_FOUND).build();
        }
    }

    @PostMapping("/create")
    public ResponseEntity<UserWebModel> createUser(@Valid @RequestBody UserWebModel userWebModel) {
        try {
            UserModel objectFromWeb = forMappingUser.fromWeb(userWebModel);
            forUser.createUser(objectFromWeb);
            return ResponseEntity.ok().build();
        } catch (IllegalArgumentException e) {
            throw new RuntimeException("ERROR CREATING USER", e);
        }
    }

    @GetMapping("/{id}")
    public ResponseEntity<UserWebModel> findUserById(@PathVariable Long id) {
        try {
            UserModel userModel = (UserModel) forUser.findUserById(id);
            UserWebModel response = forMappingUser.toWeb(userModel);
            return ResponseEntity.ok(response);
        } catch (EntityNotFoundException e) {
            return ResponseEntity.notFound().build();
        } catch (IllegalArgumentException e) {
            return ResponseEntity.badRequest().build();
        }
    }

    @PutMapping("/update-role/{userId}/{roleId}")
    public ResponseEntity<Void> updateUserRole(@PathVariable Long userId, @PathVariable Long roleId) {
        try {
            UserModel user = (UserModel) forUser.findUserById(userId);
            user.setIdRole(roleId);
            forUser.updateUser(user);
            return ResponseEntity.ok().build();
        } catch (EntityNotFoundException e) {
            return ResponseEntity.notFound().build();
        }
    }

    @DeleteMapping("/{id}")
    public ResponseEntity<Void> deleteUserById(@PathVariable Long id) {
        try {
            forUser.deleteUser(id);
            return ResponseEntity.ok().build();
        } catch (EntityNotFoundException e) {
            return ResponseEntity.notFound().build();
        } catch (IllegalArgumentException e) {
            return ResponseEntity.badRequest().build();
        }
    }

    @GetMapping
    public ResponseEntity<List<UserWebModel>> findAllUsers() {
        try {
            List<UserModel> userModels = forUser.findAllUsers();
            List<UserWebModel> response = userModels.stream()
                    .map(forMappingUser::toWeb)
                    .collect(Collectors.toList());
            return ResponseEntity.ok(response);
        } catch (Exception e) {
            throw new RuntimeException("ERROR FINDING ALL USERS", e);
        }
    }
}
</file>

<file path="users-module/src/main/java/pe/edu/certus/usersmodule/logic/adapters/driver/UserWebModel.java">
package pe.edu.certus.usersmodule.logic.adapters.driver;

import jakarta.validation.constraints.NotBlank;
import jakarta.validation.constraints.NotNull;
import jakarta.validation.constraints.Pattern;
import jakarta.validation.constraints.Size;
import lombok.Builder;

import java.time.LocalDateTime;

@Builder
public record UserWebModel(
        Long userId,
        Long idRole,

        @NotBlank(message = "El correo electrónico no puede estar vacío")
        @Pattern(regexp = "^.+@certus\\.edu\\.pe$", message = "El correo electrónico debe ser de dominio @certus.edu.pe")
        String userEmail,

        @NotBlank(message = "La contraseña no puede estar vacía")
        @Size(min = 8, message = "La contraseña debe tener al menos 8 caracteres")
        String userPassword,

        LocalDateTime userCreatedAt,
        LocalDateTime userUpdatedAt,

        @NotNull(message = "El estado del usuario no puede ser nulo")
        Boolean userStatus
) {

    public UserWebModel {
        userCreatedAt = (userCreatedAt != null) ? userCreatedAt : LocalDateTime.now();
        userUpdatedAt = (userUpdatedAt != null) ? userUpdatedAt : LocalDateTime.now();
    }

    // MÉTODO AÑADIDO PARA LA CORRECCIÓN
    public UserWebModel withUserIdAndRole(Long newUserId, Long newRoleId) {
        return new UserWebModel(
                newUserId,
                newRoleId,
                this.userEmail,
                this.userPassword,
                this.userCreatedAt,
                this.userUpdatedAt,
                this.userStatus
        );
    }
}
</file>

<file path="works-module/src/main/java/pe/edu/certus/worksmodule/configuration/mappers/WorkMapperConfig.java">
package pe.edu.certus.worksmodule.configuration.mappers;

import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;
import pe.edu.certus.worksmodule.logic.adapters.mapper.WorkMapper;
import pe.edu.certus.worksmodule.logic.ports.mapper.ForMappingComment;
import pe.edu.certus.worksmodule.logic.ports.mapper.ForMappingRating;
import pe.edu.certus.worksmodule.logic.ports.mapper.ForMappingWork;

@Configuration
public class WorkMapperConfig {

    @Bean
    public ForMappingWork workMapper(ForMappingRating forMappingRating, ForMappingComment forMappingComment) {
        return new WorkMapper(forMappingRating, forMappingComment);
    }
}
</file>

<file path="works-module/src/main/java/pe/edu/certus/worksmodule/configuration/mappers/WorkMapperPersistenceConfig.java">
package pe.edu.certus.worksmodule.configuration.mappers;

import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;
import pe.edu.certus.worksmodule.repository.adapters.mapper.WorkPersistenceMapper;
import pe.edu.certus.worksmodule.repository.ports.mapper.ForBridgingComment;
import pe.edu.certus.worksmodule.repository.ports.mapper.ForBridgingRating;

@Configuration
public class WorkMapperPersistenceConfig {
    @Bean
    public WorkPersistenceMapper workPersistenceMapper( ForBridgingRating forBridgingRating, ForBridgingComment forBridgingComment) {
        return new WorkPersistenceMapper(forBridgingRating, forBridgingComment);
    }
}
</file>

<file path="works-module/src/main/java/pe/edu/certus/worksmodule/logic/adapters/driver/web/WorkAdapter.java">
package pe.edu.certus.worksmodule.logic.adapters.driver.web;

import jakarta.persistence.EntityNotFoundException;
import jakarta.validation.Valid;
import org.springframework.http.ResponseEntity;
import org.springframework.web.bind.annotation.*;
import pe.edu.certus.worksmodule.logic.adapters.driver.inputs.WorkWebModel;
import pe.edu.certus.worksmodule.logic.model.WorkModel;
import pe.edu.certus.worksmodule.logic.ports.driver.ForWork;
import pe.edu.certus.worksmodule.logic.ports.mapper.ForMappingWork;

import java.util.List;
import java.util.stream.Collectors;

@RestController
@RequestMapping("/api/v1/works")
public class WorkAdapter {

    private final ForWork forWork;
    private final ForMappingWork forMappingWork;

    public WorkAdapter(ForWork forWork, ForMappingWork forMappingWork) {
        this.forWork = forWork;
        this.forMappingWork = forMappingWork;
    }

    @PostMapping
    public ResponseEntity<WorkWebModel> createWork(@Valid @RequestBody WorkWebModel workWebModel) {
        WorkModel domainModel = forMappingWork.fromWeb(workWebModel);
        WorkModel createdWork = ( WorkModel ) forWork.createWork(domainModel);
        return ResponseEntity.ok(forMappingWork.toWeb(createdWork));
    }

    @GetMapping("/{id}")
    public ResponseEntity<WorkWebModel> findWorkById(@PathVariable Long id) {
        try {
            WorkModel workModel = ( WorkModel ) forWork.findWorkById(id);
            return ResponseEntity.ok(forMappingWork.toWeb(workModel));
        } catch (EntityNotFoundException e) {
            return ResponseEntity.notFound().build();
        }
    }

    @PutMapping("/{id}")
    public ResponseEntity< WorkWebModel > updateWork( @PathVariable Long id, @Valid @RequestBody WorkWebModel workWebModel) {
        try {
            WorkModel domainModel = forMappingWork.fromWeb(workWebModel);
            domainModel.setWorkId(id);
            WorkModel updatedWork = ( WorkModel ) forWork.updateWork(domainModel);
            return ResponseEntity.ok(forMappingWork.toWeb(updatedWork));
        } catch (EntityNotFoundException e) {
            return ResponseEntity.notFound().build();
        }
    }

    @DeleteMapping("/{id}")
    public ResponseEntity<Void> deleteWorkById(@PathVariable Long id) {
        try {
            forWork.deleteWork(id);
            return ResponseEntity.ok().build();
        } catch (EntityNotFoundException e) {
            return ResponseEntity.notFound().build();
        }
    }
    @GetMapping
    public ResponseEntity<List<WorkWebModel>> findAllWorks(
            @RequestParam(required = false, defaultValue = "todos") String category,
            @RequestParam(required = false, defaultValue = "all") String priceRange,
            @RequestParam(required = false) Integer popularity) {

        List<WorkModel> workModelList = forWork.findAllWorks(category, priceRange, popularity);

        List<WorkWebModel> workWebModelList = workModelList.stream()
                .map(forMappingWork::toWeb)
                .collect( Collectors.toList());

        return ResponseEntity.ok(workWebModelList);
    }

    @GetMapping("/seller/{sellerId}")
    public ResponseEntity<List<WorkWebModel>> findWorksBySellerId(@PathVariable Long sellerId) {
        try {
            List<WorkModel> workModels = forWork.findAllBySellerId(sellerId);
            List<WorkWebModel> response = workModels.stream()
                    .map(forMappingWork::toWeb)
                    .collect(Collectors.toList());
            return ResponseEntity.ok(response);
        } catch (EntityNotFoundException e) {
            return ResponseEntity.notFound().build();
        }
    }

}
</file>

<file path="users-module/pom.xml">
<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd">
    <modelVersion>4.0.0</modelVersion>

    <parent>
        <groupId>pe.edu.certus</groupId>
        <artifactId>cm-backend</artifactId>
        <version>0.0.1-SNAPSHOT</version>
    </parent>

    <artifactId>users-module</artifactId>
    <name>users-module</name>
    <description>users-module</description>
    <url/>

    <properties>
        <java.version>17</java.version>
        <lombok.version>1.18.32</lombok.version>
    </properties>

    <dependencies>
        <dependency>
            <groupId>org.projectlombok</groupId>
            <artifactId>lombok</artifactId>
            <version>${lombok.version}</version>
            <optional>true</optional>
        </dependency>
        <dependency>
            <groupId>ch.qos.logback</groupId>
            <artifactId>logback-classic</artifactId>
        </dependency>
        <dependency>
            <groupId>org.springframework.data</groupId>
            <artifactId>spring-data-jpa</artifactId>
        </dependency>
        <dependency>
            <groupId>org.springframework.security</groupId>
            <artifactId>spring-security-core</artifactId>
        </dependency>
    </dependencies>

    <build>
        <plugins>
            <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-compiler-plugin</artifactId>
                <configuration>
                    <annotationProcessorPaths>
                        <path>
                            <groupId>org.projectlombok</groupId>
                            <artifactId>lombok</artifactId>
                            <version>${lombok.version}</version>
                        </path>
                    </annotationProcessorPaths>
                </configuration>
            </plugin>

        </plugins>
    </build>

</project>
</file>

<file path="users-module/src/main/java/pe/edu/certus/usersmodule/repository/entity/UserEntity.java">
package pe.edu.certus.usersmodule.repository.entity;

import jakarta.persistence.*;
import lombok.*;

import java.time.LocalDateTime;

@Entity
@Table(name = "users")
@Getter
@Setter
@Builder
@AllArgsConstructor
@NoArgsConstructor
public class UserEntity {

    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    @Column( name = "user_id" )
    private Long userId;

    @Column( name = "id_role" )
    private Long idRole;

    @Column( name = "user_email" )
    private String userEmail;

    @Column( name = "user_password" )
    private String userPassword;

    @Column( name = "user_created_at" )
    private LocalDateTime userCreatedAt;

    @Column( name = "user_updated_at" )
    private LocalDateTime userUpdatedAt;

    @Column( name = "user_status" )
    private Boolean userStatus;
}
</file>

<file path="works-module/src/main/java/pe/edu/certus/worksmodule/configuration/annotations/WorkComponentScanConfig.java">
//package pe.edu.certus.worksmodule.configuration.annotations;
//
//import org.springframework.context.annotation.ComponentScan;
//import org.springframework.context.annotation.Configuration;
//
//@Configuration
//@ComponentScan(basePackages = "pe.edu.certus.worksmodule")
//public class WorkComponentScanConfig {
//}
</file>

<file path="works-module/src/main/java/pe/edu/certus/worksmodule/logic/model/WorkModel.java">
package pe.edu.certus.worksmodule.logic.model;

import lombok.Builder;
import lombok.Getter;
import lombok.Setter;

import java.math.BigDecimal;
import java.time.LocalDateTime;
import java.util.List;

@Getter
@Setter
@Builder
public class WorkModel {
    private Long workId;
    private Long idSellerUser;
    private String sellerName;
    private Long idWorkCategory;
    private String workTitle;
    private String workDescription;
    private String workCategory;
    private BigDecimal workPrice;
    @Builder.Default
    private Boolean workIsDeleted = false;
    private String workImageUrl;
    private List<String> imageUrls;
    private String workFilePath;
    private LocalDateTime workPublishedAt;
    private LocalDateTime workUpdatedAt;
    private WorkStatus workStatus;
    private Double averageRating;
    private List<RatingModel> ratings;
    private List<CommentModel> comments;

    public enum WorkStatus {
        PUBLICADO,
        EN_REVISION,
        RECHAZADO
    }
}
</file>

<file path="works-module/src/main/java/pe/edu/certus/worksmodule/logic/ports/mapper/ForMappingWork.java">
package pe.edu.certus.worksmodule.logic.ports.mapper;

import pe.edu.certus.worksmodule.logic.adapters.driver.inputs.WorkWebModel;
import pe.edu.certus.worksmodule.logic.model.WorkModel;

public interface ForMappingWork {

    WorkModel fromWeb( WorkWebModel workWebModel );

    WorkWebModel toWeb( WorkModel workModel );

}
</file>

<file path="works-module/src/main/java/pe/edu/certus/worksmodule/repository/ports/mapper/ForBridgingWork.java">
package pe.edu.certus.worksmodule.repository.ports.mapper;

import org.springframework.stereotype.Service;
import pe.edu.certus.worksmodule.logic.model.WorkModel;
import pe.edu.certus.worksmodule.repository.entity.WorkEntity;

@Service
public interface ForBridgingWork {

    WorkEntity toPersistence( WorkModel workModel );

    WorkModel fromPersistence( WorkEntity workEntity );

}
</file>

<file path="bootloader/src/main/resources/database-mysql.properties">
# CREDENTIALS FOR DATABASE
db.username=root
db.password=root

# DATABASE CONNECTION DETAILS
db.protocol=jdbc
db.driver=mysql
db.host=localhost
db.port=3306
db.name=db_mk_certus
db.driver.class=com.mysql.cj.jdbc.Driver

## PATH OF DATABASE URL
db.url=${db.protocol}:${db.driver}://${db.host}:${db.port}/${db.name}?createDatabaseIfNotExist=true

# SQL INIT PROPERTIES
# sql.schema = classpath*:database/schema.sql
# sql.data = classpath*:database/data.sql
</file>

<file path="works-module/src/main/java/pe/edu/certus/worksmodule/logic/adapters/mapper/WorkMapper.java">
package pe.edu.certus.worksmodule.logic.adapters.mapper;

import pe.edu.certus.worksmodule.logic.adapters.driver.inputs.WorkWebModel;
import pe.edu.certus.worksmodule.logic.model.WorkModel;
import pe.edu.certus.worksmodule.logic.ports.mapper.ForMappingComment;
import pe.edu.certus.worksmodule.logic.ports.mapper.ForMappingRating;
import pe.edu.certus.worksmodule.logic.ports.mapper.ForMappingWork;

import java.util.Collections;
import java.util.stream.Collectors;

public class WorkMapper implements ForMappingWork {

    private final ForMappingRating forMappingRating;
    private final ForMappingComment forMappingComment;

    public WorkMapper(ForMappingRating forMappingRating, ForMappingComment forMappingComment) {
        this.forMappingRating = forMappingRating;
        this.forMappingComment = forMappingComment;
    }

    @Override
    public WorkModel fromWeb(WorkWebModel workWebModel) {
        return WorkModel.builder()
                .workId(workWebModel.workId())
                .idSellerUser(workWebModel.idSellerUser())
                .idWorkCategory(workWebModel.idWorkCategory())
                .workTitle(workWebModel.workTitle())
                .workDescription(workWebModel.workDescription())
                .workPrice(workWebModel.workPrice())
                .workImageUrl(workWebModel.workImageUrl())
                .imageUrls(workWebModel.imageUrls())
                .workStatus(workWebModel.workStatus())
                .build();
    }

    @Override
    public WorkWebModel toWeb(WorkModel workModel) {
        return new WorkWebModel(
                workModel.getWorkId(),
                workModel.getIdSellerUser(),
                workModel.getIdWorkCategory(),
                workModel.getWorkTitle(),
                workModel.getWorkDescription(),
                workModel.getWorkPrice(),
                workModel.getWorkImageUrl(),
                workModel.getImageUrls(),
                workModel.getWorkStatus(),
                workModel.getWorkIsDeleted(),
                workModel.getWorkPublishedAt(),
                workModel.getWorkUpdatedAt(),
                workModel.getWorkCategory(),
                workModel.getSellerName(),
                workModel.getAverageRating(),
                workModel.getRatings() != null ? workModel.getRatings().stream().map(forMappingRating::toWeb).collect(Collectors.toList()) : Collections.emptyList(),
                workModel.getComments() != null ? workModel.getComments().stream().map(forMappingComment::toWeb).collect(Collectors.toList()) : Collections.emptyList()
        );
    }
}
</file>

<file path="works-module/src/main/java/pe/edu/certus/worksmodule/repository/adapters/mapper/WorkPersistenceMapper.java">
package pe.edu.certus.worksmodule.repository.adapters.mapper;

import org.springframework.stereotype.Component;
import pe.edu.certus.worksmodule.logic.model.CommentModel;
import pe.edu.certus.worksmodule.logic.model.RatingModel;
import pe.edu.certus.worksmodule.logic.model.WorkModel;
import pe.edu.certus.worksmodule.repository.entity.RatingEntity;
import pe.edu.certus.worksmodule.repository.entity.WorkEntity;
import pe.edu.certus.worksmodule.repository.entity.WorkImageEntity;
import pe.edu.certus.worksmodule.repository.ports.mapper.ForBridgingComment;
import pe.edu.certus.worksmodule.repository.ports.mapper.ForBridgingRating;
import pe.edu.certus.worksmodule.repository.ports.mapper.ForBridgingWork;

import java.util.Collections;
import java.util.Comparator;
import java.util.List;
import java.util.stream.Collectors;

@Component
public class WorkPersistenceMapper implements ForBridgingWork {

    private final ForBridgingRating forBridgingRating;
    private final ForBridgingComment forBridgingComment;

    public WorkPersistenceMapper(ForBridgingRating forBridgingRating, ForBridgingComment forBridgingComment) {
        this.forBridgingRating = forBridgingRating;
        this.forBridgingComment = forBridgingComment;
    }

    @Override
    public WorkModel fromPersistence(WorkEntity workEntity) {
        if (workEntity == null) {
            return null;
        }

        String sellerFullName = "Vendedor Anónimo";
        if (workEntity.getSeller() != null && workEntity.getSeller().getPersonName() != null) {
            sellerFullName = workEntity.getSeller().getPersonName() + " " + workEntity.getSeller().getPersonLastname();
        }

        Double averageRating = workEntity.getRatings() != null ?
                workEntity.getRatings().stream()
                        .mapToDouble(RatingEntity::getRatingScore)
                        .average()
                        .orElse(0.0) : 0.0;

        List<RatingModel> ratingModels = workEntity.getRatings() != null ?
                workEntity.getRatings().stream()
                        .map(forBridgingRating::fromPersistence)
                        .collect(Collectors.toList()) :
                Collections.emptyList();

        List<CommentModel> commentModels = workEntity.getComments() != null ?
                workEntity.getComments().stream()
                        .map(forBridgingComment::fromPersistence)
                        .collect(Collectors.toList()) :
                Collections.emptyList();

        Long categoryId = workEntity.getWorkCategory() != null ? workEntity.getWorkCategory().getId() : null;
        String categoryName = workEntity.getWorkCategory() != null ? workEntity.getWorkCategory().getName() : null;

        // CAMBIO: Leer la colección de entidades y extraer las URLs.
        List<String> imageUrls = workEntity.getImages() != null ?
                workEntity.getImages().stream()
                        .sorted(Comparator.comparing(WorkImageEntity::getIsPrimary).reversed().thenComparing(WorkImageEntity::getImageId))
                        .map(WorkImageEntity::getImageUrl)
                        .collect(Collectors.toList()) :
                Collections.emptyList();

        return WorkModel.builder()
                .workId(workEntity.getWorkId())
                .idSellerUser(workEntity.getIdSellerUser())
                .sellerName(sellerFullName)
                .idWorkCategory(categoryId)
                .workCategory(categoryName)
                .workTitle(workEntity.getWorkTitle())
                .workDescription(workEntity.getWorkDescription())
                .workPrice(workEntity.getWorkPrice())
                .workIsDeleted(workEntity.getWorkIsDeleted())
                .workImageUrl(workEntity.getWorkImageUrl())
                .imageUrls(imageUrls) // Se asigna la lista completa
                .workFilePath(workEntity.getWorkFilePath())
                .workPublishedAt(workEntity.getWorkPublishedAt())
                .workUpdatedAt(workEntity.getWorkUpdatedAt())
                .workStatus(convertToModelStatus(workEntity.getWorkStatus()))
                .averageRating(averageRating)
                .ratings(ratingModels)
                .comments(commentModels)
                .build();
    }

    @Override
    public WorkEntity toPersistence(WorkModel workModel) {
        WorkEntity workEntity = WorkEntity.builder()
                .idSellerUser(workModel.getIdSellerUser())
                .workTitle(workModel.getWorkTitle())
                .workDescription(workModel.getWorkDescription())
                .workPrice(workModel.getWorkPrice())
                .build();

        if (workModel.getIdWorkCategory() != null) {
            workEntity.setWorkCategory(new pe.edu.certus.worksmodule.repository.entity.WorkCategoryEntity());
            workEntity.getWorkCategory().setId(workModel.getIdWorkCategory());
        }

        return workEntity;
    }

    private WorkModel.WorkStatus convertToModelStatus(WorkEntity.WorkStatus entityStatus) {
        if (entityStatus == null) return null;
        return WorkModel.WorkStatus.valueOf(entityStatus.name());
    }
}
</file>

<file path="works-module/src/main/java/pe/edu/certus/worksmodule/repository/entity/WorkEntity.java">
package pe.edu.certus.worksmodule.repository.entity;

import jakarta.persistence.*;
import lombok.*;
import org.hibernate.annotations.Where;
import pe.edu.certus.peoplemodule.repository.entity.PeopleEntity;

import java.math.BigDecimal;
import java.time.LocalDateTime;
import java.util.ArrayList;
import java.util.HashSet;
import java.util.List;
import java.util.Set;

@Entity
@Table(name = "works")
@Getter
@Setter
@Builder
@AllArgsConstructor
@NoArgsConstructor
public class WorkEntity {

    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    @Column(name = "work_id")
    private Long workId;

    @ManyToOne(fetch = FetchType.LAZY)
    @JoinColumn(name = "id_seller_user", referencedColumnName = "id_user", insertable = false, updatable = false)
    private PeopleEntity seller;

    @Column(name = "id_seller_user")
    private Long idSellerUser;

    @ManyToOne(fetch = FetchType.EAGER)
    @JoinColumn(name = "id_work_category")
    private WorkCategoryEntity workCategory;

    @Column(name = "work_title")
    private String workTitle;

    @Column(name = "work_description")
    private String workDescription;

    @Column(name = "work_price")
    private BigDecimal workPrice;

    @Builder.Default
    @Column(name = "work_is_deleted")
    private Boolean workIsDeleted = Boolean.FALSE;

    @Column(name = "work_image_url")
    private String workImageUrl;

    @OneToMany(mappedBy = "work", cascade = CascadeType.ALL, orphanRemoval = true, fetch = FetchType.LAZY)
    private Set<WorkImageEntity> images = new HashSet<>();

    @Column(name = "work_file_path")
    private String workFilePath;

    @Column(name = "work_published_at")
    private LocalDateTime workPublishedAt;

    @Column(name = "work_updated_at")
    private LocalDateTime workUpdatedAt;

    @Enumerated(EnumType.STRING)
    @Column(name = "work_status")
    private WorkStatus workStatus;

    @OneToMany(mappedBy = "work", cascade = CascadeType.ALL, orphanRemoval = true, fetch = FetchType.LAZY)
    private List<RatingEntity> ratings = new ArrayList<>();

    @OneToMany(mappedBy = "work", cascade = CascadeType.ALL, orphanRemoval = true, fetch = FetchType.LAZY)
    @Where(clause = "id_parent_comment IS NULL")
    private List<CommentEntity> comments = new ArrayList<>();

    public enum WorkStatus {
        PUBLICADO,
        EN_REVISION,
        RECHAZADO
    }
}
</file>

<file path="works-module/src/main/java/pe/edu/certus/worksmodule/repository/ports/driver/ForQueryingWork.java">
package pe.edu.certus.worksmodule.repository.ports.driver;

import org.springframework.data.jpa.repository.JpaRepository;
import org.springframework.data.jpa.repository.Query;
import org.springframework.stereotype.Repository;
import pe.edu.certus.worksmodule.repository.entity.WorkEntity;

import java.util.List;

@Repository
public interface ForQueryingWork extends JpaRepository<WorkEntity, Long> {

    @Query("SELECT DISTINCT w FROM WorkEntity w " +
            "LEFT JOIN FETCH w.workCategory " +
            "LEFT JOIN FETCH w.seller " +
            "LEFT JOIN FETCH w.ratings")
    List<WorkEntity> findAllWithCategoryAndRatings();

    @Query("SELECT w FROM WorkEntity w WHERE w.workId IN :ids")
    List<WorkEntity> findByIdIn(List<Long> ids);

    List<WorkEntity> findAllByIdSellerUserAndWorkIsDeletedFalse(Long idSellerUser);
}
</file>

<file path="bootloader/pom.xml">
<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd">
    <modelVersion>4.0.0</modelVersion>

    <parent>
        <groupId>pe.edu.certus</groupId>
        <artifactId>cm-backend</artifactId>
        <version>0.0.1-SNAPSHOT</version>
    </parent>

    <artifactId>bootloader</artifactId>
    <name>bootloader</name>
    <description>bootloader</description>

    <properties>
        <java.version>17</java.version>
    </properties>

    <dependencies>
        <dependency>
            <groupId>pe.edu.certus</groupId>
            <artifactId>auth-module</artifactId>
            <version>${project.version}</version>
        </dependency>
        <dependency>
            <groupId>pe.edu.certus</groupId>
            <artifactId>people-module</artifactId>
            <version>${project.version}</version>
        </dependency>
        <dependency>
            <groupId>pe.edu.certus</groupId>
            <artifactId>users-module</artifactId>
            <version>${project.version}</version>
        </dependency>
        <dependency>
            <groupId>pe.edu.certus</groupId>
            <artifactId>works-module</artifactId>
            <version>${project.version}</version>
        </dependency>
        <dependency>
            <groupId>pe.edu.certus</groupId>
            <artifactId>paypal-module</artifactId>
            <version>${project.version}</version>
        </dependency>
        <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-starter-oauth2-client</artifactId>
        </dependency>
        <dependency>
            <groupId>pe.edu.certus</groupId>
            <artifactId>ui-module</artifactId>
            <version>${project.version}</version>
        </dependency>

        <!-- Dependencia de Actuator (se mantiene) -->
        <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-starter-actuator</artifactId>
        </dependency>
    </dependencies>

    <build>
        <plugins>
            <plugin>
                <groupId>org.springframework.boot</groupId>
                <artifactId>spring-boot-maven-plugin</artifactId>
            </plugin>
        </plugins>
    </build>

</project>
</file>

<file path="bootloader/src/main/resources/application.properties">
# ===================================================================
#  CERTUS MARKETPLACE - APPLICATION PROPERTIES (MODO DEBUG DETALLADO)
# ===================================================================

# -----------------
# SERVER PROPERTIES
# -----------------
spring.application.name=cm-backend
server.port=8080

# --------------------
# DATABASE PROPERTIES
# --------------------
# Importa las credenciales desde el archivo específico
spring.config.import=optional:classpath:database-mysql.properties

# Configuración explícita de la base de datos
spring.datasource.url=jdbc:mysql://localhost:3306/db_mk_certus?createDatabaseIfNotExist=true
spring.datasource.username=${db.username}
spring.datasource.password=${db.password}
spring.datasource.driverClassName=${db.driver.class}

# ----------------
# JPA / HIBERNATE
# ----------------
# Muestra el SQL generado por Hibernate (muy útil)
spring.jpa.show-sql=true
# Formatea el SQL para que sea más legible en la consola
spring.jpa.properties.hibernate.format_sql=true
# Permite que Spring Boot actualice el esquema de la base de datos al arrancar
spring.jpa.hibernate.ddl-auto=validate
# Dialecto específico para MySQL 8+
spring.jpa.database-platform=org.hibernate.dialect.MySQL8Dialect

# ----------------
# PAYPAL SANDBOX
# ----------------
paypal.client-id=Aa7PfspKAaCH25tsLsOkSF2sl2jTWnFisUK230tpD57smHSNuq1AxPI3XFIiYkYyE256mrx2d5UFsFZ6
paypal.client-secret=EO0wGjgZQJD7gO7lVeSlFnD-kLc5thi-wFqS0DZTx3Wd1wmF5u2EXRZnTzwKmLIVxMGQFqfMBa8muAYQ

# -----------------
# GOOGLE CLIENT ID
# -----------------
google.client-id=705148880910-suv7u8n9ub95ieqrdbvntnidduqbn81o.apps.googleusercontent.com
spring.security.oauth2.client.registration.google.client-id=${google.client-id}
spring.security.oauth2.client.registration.google.client-secret=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
spring.security.oauth2.client.registration.google.scope=openid,profile,email

# ===================================================================
#  LOGGING CONFIGURATION (NIVEL DEBUG DETALLADO)
# ===================================================================

# Nivel de logging general para tu aplicación (puedes ajustarlo a TRACE para aún más detalle)
logging.level.pe.edu.certus=DEBUG

# Nivel de logging para Spring Boot Web (verás cada petición entrante y cómo se mapea)
logging.level.org.springframework.web=DEBUG

# Nivel de logging para Spring Security (CRUCIAL para problemas de autenticación y autorización)
# Muestra la cadena de filtros de seguridad, decisiones de acceso, etc.
logging.level.org.springframework.security=TRACE

# Nivel de logging para Hibernate/JPA
# Muestra detalles sobre transacciones, el estado de las sesiones y el cache L2.
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE

# Nivel de logging para el Transaction Manager de Spring
# Útil para ver cómo se manejan las transacciones @Transactional
logging.level.org.springframework.transaction=DEBUG

# Nivel de logging para el cliente HTTP de PayPal (si usas uno basado en Apache)
logging.level.org.apache.http=DEBUG

# Muestra el banner de Spring al inicio (opcional)
spring.main.banner-mode=console

# Habilitar logging de la consola en color para mejor legibilidad
spring.output.ansi.enabled=always
</file>

<file path="works-module/pom.xml">
<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd">
    <modelVersion>4.0.0</modelVersion>

    <parent>
        <groupId>pe.edu.certus</groupId>
        <artifactId>cm-backend</artifactId>
        <version>0.0.1-SNAPSHOT</version>
    </parent>

    <artifactId>works-module</artifactId>
    <name>works-module</name>
    <description>works-module</description>
    <url/>

    <properties>
        <java.version>17</java.version>
        <lombok.version>1.18.32</lombok.version>
    </properties>

    <dependencies>
        <dependency>
            <groupId>org.projectlombok</groupId>
            <artifactId>lombok</artifactId>
            <version>${lombok.version}</version>
            <optional>true</optional>
        </dependency>
        <dependency>
            <groupId>ch.qos.logback</groupId>
            <artifactId>logback-classic</artifactId>
        </dependency>
        <dependency>
            <groupId>pe.edu.certus</groupId>
            <artifactId>people-module</artifactId>
            <version>${version}</version>
        </dependency>

    </dependencies>

    <build>
        <plugins>
            <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-compiler-plugin</artifactId>
                <configuration>
                    <annotationProcessorPaths>
                        <path>
                            <groupId>org.projectlombok</groupId>
                            <artifactId>lombok</artifactId>
                            <version>${lombok.version}</version>
                        </path>
                    </annotationProcessorPaths>
                </configuration>
            </plugin>

        </plugins>
    </build>

</project>
</file>

<file path="works-module/src/main/java/pe/edu/certus/worksmodule/logic/adapters/driven/WorkManager.java">
package pe.edu.certus.worksmodule.logic.adapters.driven;

import org.springframework.stereotype.Service;
import pe.edu.certus.worksmodule.logic.model.WorkModel;
import pe.edu.certus.worksmodule.logic.ports.driven.ForManagingWork;
import pe.edu.certus.worksmodule.logic.ports.driver.ForWork;

import java.math.BigDecimal;
import java.util.List;
import java.util.stream.Collectors;

@Service
public class WorkManager implements ForWork <WorkModel, Long>{

    private final ForManagingWork forManagingWork;

    public WorkManager(ForManagingWork forManagingWork) {
        this.forManagingWork = forManagingWork;
    }

    @Override
    public List<WorkModel> findWorksByIds(List<Long> ids) {
        return forManagingWork.satisfyFindWorksByIds(ids);
    }

    @Override
    public List<WorkModel> findAllWorks(String category, String priceRange, Integer popularity) {
        List<WorkModel> allWorks = forManagingWork.satisfyFindAllWorkWithRatings();

        return allWorks.stream()
                .filter(work -> filterByCategory(work, category))
                .filter(work -> filterByPriceRange(work, priceRange))
                .filter(work -> filterByPopularity(work, popularity))
                .collect(Collectors.toList());
    }


    private boolean filterByCategory(WorkModel work, String category) {
        if ("todos".equalsIgnoreCase(category) || category == null || category.isEmpty()) {
            return true;
        }
        if (work.getWorkCategory() == null) {
            return false;
        }
        String workCategorySlug = work.getWorkCategory().toLowerCase().replace(" ", "-").replace("&", "y");
        return category.equalsIgnoreCase(workCategorySlug);
    }

    private boolean filterByPriceRange(WorkModel work, String priceRange) {
        if ("all".equalsIgnoreCase(priceRange) || priceRange == null || priceRange.isEmpty()) {
            return true;
        }
        try {
            if (priceRange.endsWith("-plus")) {
                BigDecimal minPrice = new BigDecimal(priceRange.replace("-plus", ""));
                return work.getWorkPrice().compareTo(minPrice) >= 0;
            }
            String[] prices = priceRange.split("-");
            BigDecimal minPrice = new BigDecimal(prices[0]);
            BigDecimal maxPrice = new BigDecimal(prices[1]);
            return work.getWorkPrice().compareTo(minPrice) >= 0 && work.getWorkPrice().compareTo(maxPrice) <= 0;
        } catch (Exception e) {
            return true;
        }
    }

    private boolean filterByPopularity(WorkModel work, Integer popularity) {
        return popularity == null || popularity <= 0 || work.getAverageRating() >= popularity;
    }


    @Override
    public WorkModel createWork( WorkModel workModel ) {
        return forManagingWork.satisfyCreateWork( workModel );
    }

    @Override
    public WorkModel findWorkById(Long id) {
        return forManagingWork.satisfyFindWorkById(id);
    }

    @Override
    public WorkModel updateWork(WorkModel workModel) {
        return forManagingWork.satisfyUpdateWork(workModel);
    }

    @Override
    public void deleteWork(Long id) {
        forManagingWork.satisfyDeleteWorkById( id);
    }

    @Override
    public List<WorkModel> findAllBySellerId(Long sellerId) {
        return forManagingWork.satisfyFindAllBySellerId(sellerId);
    }
}
</file>

<file path="works-module/src/main/java/pe/edu/certus/worksmodule/logic/ports/driven/ForManagingWork.java">
package pe.edu.certus.worksmodule.logic.ports.driven;

import pe.edu.certus.worksmodule.logic.model.WorkModel;

import java.util.List;

public interface ForManagingWork {
    WorkModel satisfyCreateWork( WorkModel workModel );
    List<WorkModel> satisfyFindAllWorkWithRatings();
    WorkModel satisfyFindWorkById( Long id );
    WorkModel satisfyUpdateWork( WorkModel workModel );
    void satisfyDeleteWorkById( Long id );
    List<WorkModel> satisfyFindWorksByIds(List<Long> ids);
    List<WorkModel> satisfyFindAllBySellerId(Long sellerId);
}
</file>

<file path="works-module/src/main/java/pe/edu/certus/worksmodule/logic/ports/driver/ForWork.java">
package pe.edu.certus.worksmodule.logic.ports.driver;

import java.util.List;

public interface ForWork <WorkModel, Long>{
    WorkModel createWork( WorkModel workModel);
    WorkModel findWorkById(Long id);
    List<WorkModel> findAllWorks(String category, String priceRange, Integer popularity);
    WorkModel updateWork(WorkModel workModel);
    void deleteWork(Long id);
    List<WorkModel> findWorksByIds(List<Long> ids);
    List<WorkModel> findAllBySellerId(Long sellerId);
}
</file>

<file path="pom.xml">
<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd">
    <modelVersion>4.0.0</modelVersion>

    <parent>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-starter-parent</artifactId>
        <version>3.2.3</version>
        <relativePath/> <!-- lookup parent from repository -->
    </parent>

    <groupId>pe.edu.certus</groupId>
    <artifactId>cm-backend</artifactId>
    <version>0.0.1-SNAPSHOT</version>
    <name>CertUs Backend Service</name>

    <packaging>pom</packaging>    <!-- multi-module project -->
    <description>Backend project for CertUs</description>
    <url/>

    <licenses>
        <license/>
    </licenses>

    <developers>
        <developer>
            <id>CM-GJ</id>
            <name>Geraldo Jaramillo</name>
            <email>Geraldo_07_@outlook.com</email>
            <url>https://github.com/Geraldow</url>
            <organization></organization>
            <roles>
                <role>developer</role>
            </roles>
            <timezone>-5</timezone>
        </developer>
        <developer>
            <id>CM-GC</id>
            <name>Gabriela Conde</name>
            <email>gabriela.2020.ci@hotmail.com</email>
            <url>https://github.com/mersudredi</url>
            <organization></organization>
            <roles>
                <role>developer</role>
            </roles>
            <timezone>-5</timezone>
        </developer>
    </developers>

    <scm>
        <connection>scm:git:https://github.com/CertusMarketplace/cm-backend.git</connection>
        <developerConnection>scm:git@github.com:CertusMarketplace/cm-backend.git
        </developerConnection>
        <url>https://github.com/CertusMarketplace/cm-backend</url>
        <tag>HEAD</tag>
    </scm>

    <modules>
        <module>people-module</module>
        <module>auth-module</module>
        <module>works-module</module>
        <module>users-module</module>
        <module>paypal-module</module>
        <module>bootloader</module>
        <module>ui-module</module>
    </modules>

    <properties>
        <java.version>17</java.version>
    </properties>

    <dependencyManagement>
        <dependencies>
            <dependency>
                <groupId>org.springframework.boot</groupId>
                <artifactId>spring-boot-dependencies</artifactId>
                <version>3.2.3</version>
                <type>pom</type>
                <scope>import</scope>
            </dependency>
            <dependency>
                <groupId>org.projectlombok</groupId>
                <artifactId>lombok</artifactId>
                <version>1.18.32</version>
            </dependency>
        </dependencies>
    </dependencyManagement>

    <dependencies>
        <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-starter-thymeleaf</artifactId>
        </dependency>
        <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-starter-validation</artifactId>
        </dependency>
        <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-starter-web</artifactId>
        </dependency>

        <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-starter-actuator</artifactId>
        </dependency>
        <dependency>
            <groupId>com.mysql</groupId>
            <artifactId>mysql-connector-j</artifactId>
        </dependency>

        <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-starter-data-jpa</artifactId>
        </dependency>
    </dependencies>

    <build>
        <plugins>
            <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-compiler-plugin</artifactId>
                <configuration>
                    <annotationProcessorPaths>
                        <path>
                            <groupId>org.projectlombok</groupId>
                            <artifactId>lombok</artifactId>
                            <version>1.18.32</version>
                        </path>
                    </annotationProcessorPaths>
                </configuration>
            </plugin>

        </plugins>
    </build>
    <repositories>
        <repository>
            <id>spring-snapshots</id>
            <name>Spring Snapshots</name>
            <url>https://repo.spring.io/snapshot</url>
            <releases>
                <enabled>false</enabled>
            </releases>
            <snapshots>
                <enabled>true</enabled>
            </snapshots>
        </repository>
    </repositories>
    <pluginRepositories>
        <pluginRepository>
            <id>spring-snapshots</id>
            <name>Spring Snapshots</name>
            <url>https://repo.spring.io/snapshot</url>
            <releases>
                <enabled>false</enabled>
            </releases>
        </pluginRepository>
    </pluginRepositories>

</project>
</file>

<file path="works-module/src/main/java/pe/edu/certus/worksmodule/repository/adapters/driver/WorkQuerierProxy.java">
package pe.edu.certus.worksmodule.repository.adapters.driver;

import jakarta.persistence.EntityNotFoundException;
import org.springframework.stereotype.Service;
import org.springframework.transaction.annotation.Transactional;
import pe.edu.certus.worksmodule.logic.model.WorkModel;
import pe.edu.certus.worksmodule.logic.ports.driven.ForManagingWork;
import pe.edu.certus.worksmodule.repository.entity.WorkEntity;
import pe.edu.certus.worksmodule.repository.entity.WorkImageEntity;
import pe.edu.certus.worksmodule.repository.ports.driver.ForQueryingWork;
import pe.edu.certus.worksmodule.repository.ports.mapper.ForBridgingWork;

import java.time.LocalDateTime;
import java.util.Collections;
import java.util.HashSet;
import java.util.List;
import java.util.Set;
import java.util.stream.Collectors;

@Service
public class WorkQuerierProxy implements ForManagingWork {
    private final ForQueryingWork forQueryingWork;
    private final ForBridgingWork forBridgingWork;

    public WorkQuerierProxy(ForQueryingWork forQueryingWork, ForBridgingWork forBridgingWork) {
        this.forQueryingWork = forQueryingWork;
        this.forBridgingWork = forBridgingWork;
    }

    @Override
    @Transactional(readOnly = true)
    public List<WorkModel> satisfyFindWorksByIds(List<Long> ids) {
        if (ids == null || ids.isEmpty()) {
            return Collections.emptyList();
        }
        List<WorkEntity> workEntities = forQueryingWork.findByIdIn(ids);
        return workEntities.stream()
                .map(forBridgingWork::fromPersistence)
                .collect(Collectors.toList());
    }

    @Override
    @Transactional
    public WorkModel satisfyCreateWork(WorkModel workModel) {
        WorkEntity workEntity = forBridgingWork.toPersistence(workModel);

        workEntity.setWorkStatus(WorkEntity.WorkStatus.EN_REVISION);
        workEntity.setWorkFilePath(workModel.getWorkFilePath());
        workEntity.setWorkIsDeleted(false);
        workEntity.setWorkPublishedAt(LocalDateTime.now());
        workEntity.setWorkUpdatedAt(LocalDateTime.now());

        if (workModel.getImageUrls() != null && !workModel.getImageUrls().isEmpty()) {
            workEntity.setWorkImageUrl(workModel.getImageUrls().get(0));

            Set<WorkImageEntity> imageEntities = new HashSet<>();
            for (int i = 0; i < workModel.getImageUrls().size(); i++) {
                String url = workModel.getImageUrls().get(i);
                WorkImageEntity imageEntity = WorkImageEntity.builder()
                        .work(workEntity)
                        .imageUrl(url)
                        .isPrimary(i == 0)
                        .build();
                imageEntities.add(imageEntity);
            }
            workEntity.setImages(imageEntities);
        }

        WorkEntity savedWorkEntity = forQueryingWork.save(workEntity);

        return forBridgingWork.fromPersistence(savedWorkEntity);
    }

    @Override
    @Transactional(readOnly = true)
    public List<WorkModel> satisfyFindAllWorkWithRatings() {
        List<WorkEntity> workEntities = forQueryingWork.findAllWithCategoryAndRatings();
        return workEntities.stream()
                .map(forBridgingWork::fromPersistence)
                .collect(Collectors.toList());
    }

    @Override
    @Transactional(readOnly = true)
    public WorkModel satisfyFindWorkById(Long id) {
        return forQueryingWork.findById(id)
                .map(forBridgingWork::fromPersistence)
                .orElseThrow(() -> new EntityNotFoundException(
                        "THE ENTITY WORK NOT FOUND WITH ID: " + id));
    }

    @Override
    @Transactional
    public WorkModel satisfyUpdateWork(WorkModel workModel) {
        WorkEntity existingWork = forQueryingWork.findById(workModel.getWorkId()).orElseThrow(
                () -> new EntityNotFoundException("Work not found with ID: " + workModel.getWorkId())
        );

        existingWork.setWorkTitle(workModel.getWorkTitle());
        existingWork.setWorkDescription(workModel.getWorkDescription());
        existingWork.setWorkPrice(workModel.getWorkPrice());
        existingWork.setWorkUpdatedAt(LocalDateTime.now());

        WorkEntity updatedEntity = forQueryingWork.save(existingWork);
        return forBridgingWork.fromPersistence(updatedEntity);
    }

    @Override
    @Transactional
    public void satisfyDeleteWorkById(Long id) {
        if (!forQueryingWork.existsById(id)) {
            throw new EntityNotFoundException("WORK NOT FOUND WITH ID: " + id);
        }
        forQueryingWork.deleteById(id);
    }

    @Override
    @Transactional(readOnly = true)
    public List<WorkModel> satisfyFindAllBySellerId(Long sellerId) {
        List<WorkEntity> workEntities = forQueryingWork.findAllByIdSellerUserAndWorkIsDeletedFalse(sellerId);
        return workEntities.stream()
                .map(forBridgingWork::fromPersistence)
                .collect(Collectors.toList());
    }
}
</file>

</files>
