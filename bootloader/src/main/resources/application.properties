# ===================================================================
#  CERTUS MARKETPLACE - APPLICATION PROPERTIES (MODO DEBUG DETALLADO)
# ===================================================================

# -----------------
# SERVER PROPERTIES
# -----------------
spring.application.name=cm-backend
server.port=8080

# --------------------
# DATABASE PROPERTIES
# --------------------
# Importa las credenciales desde el archivo específico
spring.config.import=optional:classpath:database-mysql.properties

# Configuración explícita de la base de datos
spring.datasource.url=jdbc:mysql://localhost:3306/db_mk_certus?createDatabaseIfNotExist=true
spring.datasource.username=${db.username}
spring.datasource.password=${db.password}
spring.datasource.driverClassName=${db.driver.class}

# ----------------
# JPA / HIBERNATE
# ----------------
# Muestra el SQL generado por Hibernate (muy útil)
spring.jpa.show-sql=true
# Formatea el SQL para que sea más legible en la consola
spring.jpa.properties.hibernate.format_sql=true
# Permite que Spring Boot actualice el esquema de la base de datos al arrancar
spring.jpa.hibernate.ddl-auto=update
# Dialecto específico para MySQL 8+
spring.jpa.database-platform=org.hibernate.dialect.MySQL8Dialect

# ----------------
# PAYPAL SANDBOX
# ----------------
paypal.client-id=Aa7PfspKAaCH25tsLsOkSF2sl2jTWnFisUK230tpD57smHSNuq1AxPI3XFIiYkYyE256mrx2d5UFsFZ6
paypal.client-secret=EO0wGjgZQJD7gO7lVeSlFnD-kLc5thi-wFqS0DZTx3Wd1wmF5u2EXRZnTzwKmLIVxMGQFqfMBa8muAYQ

# -----------------
# GOOGLE CLIENT ID
# -----------------
google.client-id=705148880910-suv7u8n9ub95ieqrdbvntnidduqbn81o.apps.googleusercontent.com


# ===================================================================
#  LOGGING CONFIGURATION (NIVEL DEBUG DETALLADO)
# ===================================================================

# Nivel de logging general para tu aplicación (puedes ajustarlo a TRACE para aún más detalle)
logging.level.pe.edu.certus=DEBUG

# Nivel de logging para Spring Boot Web (verás cada petición entrante y cómo se mapea)
logging.level.org.springframework.web=DEBUG

# Nivel de logging para Spring Security (CRUCIAL para problemas de autenticación y autorización)
# Muestra la cadena de filtros de seguridad, decisiones de acceso, etc.
logging.level.org.springframework.security=TRACE

# Nivel de logging para Hibernate/JPA
# Muestra detalles sobre transacciones, el estado de las sesiones y el cache L2.
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE

# Nivel de logging para el Transaction Manager de Spring
# Útil para ver cómo se manejan las transacciones @Transactional
logging.level.org.springframework.transaction=DEBUG

# Nivel de logging para el cliente HTTP de PayPal (si usas uno basado en Apache)
logging.level.org.apache.http=DEBUG

# Muestra el banner de Spring al inicio (opcional)
spring.main.banner-mode=console

# Habilitar logging de la consola en color para mejor legibilidad
spring.output.ansi.enabled=always